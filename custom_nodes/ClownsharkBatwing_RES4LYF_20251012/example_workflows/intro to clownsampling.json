{"last_node_id":876,"last_link_id":2046,"nodes":[{"id":453,"type":"VAEDecode","pos":[-303.0476379394531,3073.681640625],"size":[210,46],"flags":{"collapsed":false},"order":228,"mode":0,"inputs":[{"name":"samples","localized_name":"samples","type":"LATENT","link":1923},{"name":"vae","localized_name":"vae","type":"VAE","link":1940,"slot_index":1}],"outputs":[{"name":"IMAGE","localized_name":"IMAGE","type":"IMAGE","shape":3,"links":[1365],"slot_index":0}],"properties":{"Node name for S&R":"VAEDecode"},"widgets_values":[]},{"id":606,"type":"LoraLoader","pos":[-2194.87353515625,3180.94482421875],"size":[359.7619323730469,126],"flags":{},"order":177,"mode":0,"inputs":[{"name":"model","localized_name":"model","type":"MODEL","link":1890},{"name":"clip","localized_name":"clip","type":"CLIP","link":1939}],"outputs":[{"name":"MODEL","localized_name":"MODEL","type":"MODEL","links":[1904],"slot_index":0},{"name":"CLIP","localized_name":"CLIP","type":"CLIP","links":[1937,1938],"slot_index":1}],"properties":{"Node name for S&R":"LoraLoader"},"widgets_values":["csbw_cascade_dark_ema.safetensors",1,1]},{"id":454,"type":"SaveImage","pos":[-303.3555603027344,3184.454345703125],"size":[753.4503784179688,734.7869262695312],"flags":{},"order":229,"mode":0,"inputs":[{"name":"images","localized_name":"images","type":"IMAGE","link":1365}],"outputs":[],"properties":{},"widgets_values":["ComfyUI"]},{"id":625,"type":"SharkOptions_UltraCascade_Latent_Beta","pos":[-648.0692138671875,3944.1982421875],"size":[310.79998779296875,82],"flags":{},"order":0,"mode":0,"inputs":[{"name":"options","localized_name":"options","type":"OPTIONS","shape":7,"link":null}],"outputs":[{"name":"options","localized_name":"options","type":"OPTIONS","links":[1948],"slot_index":0}],"properties":{"Node name for S&R":"SharkOptions_UltraCascade_Latent_Beta"},"widgets_values":[1536,1536]},{"id":626,"type":"SharkOptions_UltraCascade_Latent_Beta","pos":[-1372.7569580078125,3947.591064453125],"size":[310.79998779296875,82],"flags":{},"order":1,"mode":0,"inputs":[{"name":"options","localized_name":"options","type":"OPTIONS","shape":7,"link":null}],"outputs":[{"name":"options","localized_name":"options","type":"OPTIONS","links":[1951],"slot_index":0}],"properties":{"Node name for S&R":"SharkOptions_UltraCascade_Latent_Beta"},"widgets_values":[24,24]},{"id":624,"type":"SharkOptions_UltraCascade_Latent_Beta","pos":[-1013.2625732421875,3947.5908203125],"size":[310.79998779296875,82],"flags":{},"order":2,"mode":0,"inputs":[{"name":"options","localized_name":"options","type":"OPTIONS","shape":7,"link":null}],"outputs":[{"name":"options","localized_name":"options","type":"OPTIONS","links":[1947],"slot_index":0}],"properties":{"Node name for S&R":"SharkOptions_UltraCascade_Latent_Beta"},"widgets_values":[36,36]},{"id":609,"type":"UNETLoader","pos":[-1020.5138549804688,3045.097412109375],"size":[356.544677734375,82],"flags":{},"order":3,"mode":0,"inputs":[],"outputs":[{"name":"MODEL","localized_name":"MODEL","type":"MODEL","links":[1926],"slot_index":0}],"properties":{"Node name for S&R":"UNETLoader"},"widgets_values":["stage_b_lite_CSBW_v1.1.safetensors","default"]},{"id":621,"type":"VAELoader","pos":[-637.3134765625,3068.5341796875],"size":[294.6280212402344,58],"flags":{},"order":4,"mode":0,"inputs":[],"outputs":[{"name":"VAE","localized_name":"VAE","type":"VAE","links":[1940],"slot_index":0}],"properties":{"Node name for S&R":"VAELoader"},"widgets_values":["stage_a_ft_hq.safetensors"]},{"id":620,"type":"CLIPLoader","pos":[-2564.87353515625,3272.8349609375],"size":[344.635498046875,98],"flags":{},"order":5,"mode":0,"inputs":[],"outputs":[{"name":"CLIP","localized_name":"CLIP","type":"CLIP","links":[1939],"slot_index":0}],"properties":{"Node name for S&R":"CLIPLoader"},"widgets_values":["cascade_text_encoder.safetensors","stable_cascade","default"]},{"id":627,"type":"Note","pos":[-1381.849365234375,4086.07421875],"size":[331.63720703125,415.29815673828125],"flags":{},"order":6,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["Stage C: the original Stable Cascade version. \n\nStable Cascade latents are actually quite small: typically, a 1024x1024 image will be generated from a stage C latent that is only 24x24 (for comparison, with SDXL or SD1.5, the dimensions are 128x128). \n\n\"Compression\" is just a shorthand method of determining these dimensions, such as 24x24 (1024 / 42 = 24.38, which means a \"compression\" of 42).\n\nThis poses a problem though: Cascade was only trained on a handful of resolutions. The difference between 24x24 and 25x25 is a significant drop in quality and coherence. Therefore, it is best to just set these dimensions directly.\n\nThe best trained resolutions are:\n\n24x24 > 32x32\n30x16 > 40x24 \n\n48x24 also works, but seems to result in more doubling problems than the others.\n\n\n"],"color":"#432","bgcolor":"#653"},{"id":628,"type":"Note","pos":[-1012.45947265625,4084.7783203125],"size":[331.63720703125,415.29815673828125],"flags":{},"order":7,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["Stage UP: a patched version of Stable Cascade stage C (\"UltraPixel\"). \n\nThe key with these dimensions is to keep the aspect ratio the same as the stage C latent. Typically, best results are with a 1.5x upscale. 2.0x works, but will result in somewhat more issues with doubling, and can be a lot slower. However, the detail level will also be very high.\n\nSome viable resolutions are listed below. Asterisks signify ones that have been verified to work particularly well.\n\n32x32\n36x36 **\n40x40\n42x42\n48x48 *\n\n40x24\n50x30\n60x36 **\n70x42\n80x48 *\n\n72x36 \n80x40 *\n96x48 (very slow!)\n\n\n\n"],"color":"#432","bgcolor":"#653"},{"id":632,"type":"CheckpointLoaderSimple","pos":[-1073.474609375,2726.673583984375],"size":[452.7829895019531,102.89583587646484],"flags":{},"order":8,"mode":0,"inputs":[],"outputs":[{"name":"MODEL","localized_name":"MODEL","type":"MODEL","links":null},{"name":"CLIP","localized_name":"CLIP","type":"CLIP","links":null},{"name":"VAE","localized_name":"VAE","type":"VAE","links":null}],"properties":{"Node name for S&R":"CheckpointLoaderSimple"},"widgets_values":["cascade_B-lite_refined_CSBW_v1.1.safetensors"]},{"id":633,"type":"Note","pos":[-1075.468994140625,2892.701416015625],"size":[457.5304870605469,94.27093505859375],"flags":{},"order":9,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["This is the stage B lite CSBW finetune (model only).\n\nhttps://huggingface.co/ClownsharkBatwing/Cascade_Stage_B_CSBW_Refined/blob/main/stage_b_lite_CSBW_v1.1.safetensors"],"color":"#432","bgcolor":"#653"},{"id":634,"type":"Note","pos":[-575.989501953125,2895.603271484375],"size":[547.0546875,91.47331237792969],"flags":{},"order":10,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["This is a finetune of stage A. You will get a sharper image, but in images with large white areas, small circular grey halos are sometimes visible.\n\nhttps://huggingface.co/madebyollin/stage-a-ft-hq/blob/main/stage_a_ft_hq.safetensors"],"color":"#432","bgcolor":"#653"},{"id":630,"type":"Note","pos":[-3309.3076171875,3048.958984375],"size":[717.709228515625,165.61032104492188],"flags":{},"order":11,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["I recommend the BF16 version of stage C. There is no visible difference vs. the full precision weights, and it halves the disk space requirements.\n\nhttps://huggingface.co/stabilityai/stable-cascade/blob/main/stage_c_bf16.safetensors\n\nIMPORTANT: The original UltraPixel \"safetensors\" is not a safetensors at all - it is a PICKLE, where they lazily (at best) changed the file extension to \".safetensors\"!\n\nI converted it to a real safetensors file, and it's available below:\n\nhttps://huggingface.co/ClownsharkBatwing/ultrapixel_convert/blob/main/ultrapixel_t2i.safetensors"],"color":"#432","bgcolor":"#653"},{"id":584,"type":"UltraCascade_Loader","pos":[-2564.4580078125,3133.043212890625],"size":[345.5117492675781,82.95540618896484],"flags":{},"order":12,"mode":0,"inputs":[],"outputs":[{"name":"MODEL","localized_name":"MODEL","type":"MODEL","shape":3,"links":[1890],"slot_index":0}],"properties":{"Node name for S&R":"UltraCascade_Loader"},"widgets_values":["stage_c_bf16.safetensors","ultrapixel_t2i.safetensors"]},{"id":635,"type":"Note","pos":[-3307.105712890625,3272.173095703125],"size":[715.61083984375,89.37511444091797],"flags":{},"order":13,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["Any clip G will do. The Cascade version is available at:\n\nhttps://huggingface.co/stabilityai/stable-cascade/blob/main/text_encoder/model.bf16.safetensors\n\n"],"color":"#432","bgcolor":"#653"},{"id":636,"type":"Note","pos":[-3306.760009765625,3418.6708984375],"size":[715.61083984375,113.57872772216797],"flags":{},"order":14,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["The LORA was trained with OneTrainer (https://github.com/Nerogar/OneTrainer) on some of my own SDXL generations. It has deep colors and is strong with wacky paint, illustration, and vector art styles. \n\nCascade learns extremely quickly and is very adept with artistic styles (it knows many artist names).\n\nhttps://huggingface.co/ClownsharkBatwing/CSBW_Style/blob/main/csbw_cascade_dark_ema.safetensors\n"],"color":"#432","bgcolor":"#653"},{"id":629,"type":"Note","pos":[-647.965087890625,4084.8818359375],"size":[331.63720703125,415.29815673828125],"flags":{},"order":15,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["Stage B: the Stable Cascade superresolution model.\n\nAs with stage UP, the key with these dimensions is to keep the aspect ratio the same as the prior latents. Theoretically, any resolution may be used, though some odd distortions can occur when the ideal upscale ratio is not used. It's not entirely clear what those ratios are, so some experimentation may be necessary. \n\nSome resolutions that work particularly well are:\n\n1536x1536 *\n2048x2048 *\n\n1600x960\n2560x1536 **\n2880x1792 *\n3200x1920\n\nIf you use stage B lite, you can hit 4k resolutions without even using more than 12GB of VRAM.\n\nIt's highly recommended to use the CSBW finetune of stage B, as it fixes many of the severe artifact problems the original release had.\n\nNote: CFG is not needed for this stage!"],"color":"#432","bgcolor":"#653"},{"id":637,"type":"Note","pos":[-1838.5732421875,2922.63671875],"size":[457.5304870605469,94.27093505859375],"flags":{},"order":16,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["Perturbed attention guidance (PAG) makes an enormous difference with Stable Cascade stages C and UP. Like CFG, it will double the runtime."],"color":"#432","bgcolor":"#653"},{"id":598,"type":"CLIPTextEncode","pos":[-1811.0350341796875,3205.474853515625],"size":[351.592529296875,173.00360107421875],"flags":{},"order":201,"mode":0,"inputs":[{"name":"clip","localized_name":"clip","type":"CLIP","link":1937}],"outputs":[{"name":"CONDITIONING","localized_name":"CONDITIONING","type":"CONDITIONING","links":[1907,1911,1914],"slot_index":0}],"properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":["impasto oil painting by Yayoi Kusama and Lisa Frank, thick paint textures, tunning contrasts at  night with stylish roughly drawn thick black lines, a nuclear explosion destroying a city, its towering wide glowing nuclear mushroom cloud enveloping the entire skyline, the nuclear fireball lighting up the dark sky"]},{"id":601,"type":"UltraCascade_PerturbedAttentionGuidance","pos":[-1808.5911865234375,3084.306884765625],"size":[344.3999938964844,58],"flags":{},"order":200,"mode":0,"inputs":[{"name":"model","localized_name":"model","type":"MODEL","link":1904}],"outputs":[{"name":"MODEL","localized_name":"MODEL","type":"MODEL","links":[1909,1910],"slot_index":0}],"properties":{"Node name for S&R":"UltraCascade_PerturbedAttentionGuidance"},"widgets_values":[3]},{"id":599,"type":"CLIPTextEncode","pos":[-1814.4205322265625,3435.57763671875],"size":[356.2470703125,110.6326904296875],"flags":{},"order":202,"mode":0,"inputs":[{"name":"clip","localized_name":"clip","type":"CLIP","link":1938}],"outputs":[{"name":"CONDITIONING","localized_name":"CONDITIONING","type":"CONDITIONING","links":[1908,1912,1915],"slot_index":0}],"properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":["low quality, bad quality, low detail, blurry, unsharp"]},{"id":631,"type":"Note","pos":[-1557.671142578125,2725.4599609375],"size":[457.5304870605469,94.27093505859375],"flags":{},"order":17,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["This is a checkpoint that, for convenience, includes the stage B lite CSBW finetune, clip G, and stage A (the FT_HQ finetune).\n\nhttps://huggingface.co/ClownsharkBatwing/CSBW_Style/blob/main/cascade_B-lite_refined_CSBW_v1.1.safetensors"],"color":"#432","bgcolor":"#653"},{"id":649,"type":"Note","pos":[2011.257080078125,3860],"size":[282.2704772949219,88],"flags":{},"order":18,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["Since \"steps_to_run\" is set to -1,\nthis will run all remaining steps."],"color":"#432","bgcolor":"#653"},{"id":648,"type":"Note","pos":[1661.257080078125,3860],"size":[283.8087463378906,88],"flags":{},"order":19,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["Runs the next 10 steps (out of 30)."],"color":"#432","bgcolor":"#653"},{"id":657,"type":"ClownsharKSampler_Beta","pos":[1710,3140],"size":[296.93646240234375,418],"flags":{},"order":20,"mode":0,"inputs":[{"name":"model","localized_name":"model","type":"MODEL","shape":7,"link":null},{"name":"positive","localized_name":"positive","type":"CONDITIONING","shape":7,"link":null},{"name":"negative","localized_name":"negative","type":"CONDITIONING","shape":7,"link":null},{"name":"latent_image","localized_name":"latent_image","type":"LATENT","shape":7,"link":null},{"name":"sigmas","localized_name":"sigmas","type":"SIGMAS","shape":7,"link":null},{"name":"guides","localized_name":"guides","type":"GUIDES","shape":7,"link":null},{"name":"options","localized_name":"options","type":"OPTIONS","shape":7,"link":null}],"outputs":[{"name":"output","localized_name":"output","type":"LATENT","links":[],"slot_index":0},{"name":"denoised","localized_name":"denoised","type":"LATENT","links":null},{"name":"options","localized_name":"options","type":"OPTIONS","links":null}],"properties":{"Node name for S&R":"ClownsharKSampler_Beta"},"widgets_values":[0.5,"exponential/res_3s","beta57",30,-1,1,5.5,0,"fixed","standard",true]},{"id":680,"type":"ClownSampler_Beta","pos":[1050,3140],"size":[283.6876220703125,174],"flags":{},"order":21,"mode":0,"inputs":[{"name":"guides","localized_name":"guides","type":"GUIDES","shape":7,"link":null},{"name":"options","localized_name":"options","type":"OPTIONS","shape":7,"link":null}],"outputs":[{"name":"sampler","localized_name":"sampler","type":"SAMPLER","links":[1973]}],"properties":{"Node name for S&R":"ClownSampler_Beta"},"widgets_values":[0.5,"exponential/res_3s",-1,"fixed",true]},{"id":685,"type":"Note","pos":[3440,5450],"size":[280.6243896484375,109.73818969726562],"flags":{},"order":22,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["NOTE: \"epsilon_scales\" is currently unused, but exists as a placeholder. \n\n\"frame_weights\" is for video models such as Hunyuan. This is for use with guides."],"color":"#432","bgcolor":"#653"},{"id":713,"type":"Note","pos":[4574.66552734375,4613.29833984375],"size":[280.0735168457031,88],"flags":{},"order":23,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["INPAINTING TIP: Try using the settings to the right with a feathered mask."],"color":"#432","bgcolor":"#653"},{"id":670,"type":"SigmasSchedulePreview","pos":[3850,5410],"size":[315,270],"flags":{},"order":24,"mode":0,"inputs":[{"name":"model","localized_name":"model","type":"MODEL","link":null},{"name":"sigmas","localized_name":"sigmas","type":"SIGMAS","shape":7,"link":null}],"outputs":[],"properties":{"Node name for S&R":"SigmasSchedulePreview"},"widgets_values":["hard",0.25,1,1,1,"beta57",30,2.1,0]},{"id":654,"type":"BetaSamplingScheduler","pos":[1420,2780],"size":[210,106],"flags":{},"order":25,"mode":0,"inputs":[{"name":"model","localized_name":"model","type":"MODEL","link":null}],"outputs":[{"name":"SIGMAS","localized_name":"SIGMAS","type":"SIGMAS","links":null}],"properties":{"Node name for S&R":"BetaSamplingScheduler"},"widgets_values":[20,0.5,0.7]},{"id":653,"type":"Note","pos":[1390,2940],"size":[252.12789916992188,117.73304748535156],"flags":{},"order":26,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["\"beta57\" is equivalent to the BetaSamplingScheduler node above. I have found the results to be generally superior to the default \"beta\" (where the values are both set to 0.60).\n\n\n"],"color":"#432","bgcolor":"#653"},{"id":643,"type":"Note","pos":[751.2572021484375,4100],"size":[507.688720703125,165.58355712890625],"flags":{},"order":27,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["\"steps_to_run\": When set to -1, it will run all steps per usual. \n\nIf set to a positive value, it will run that number of steps, and then stop and pass the latent off to the next sampler node.\n\nIf the next sampler node's \"sampler_mode\" is set to \"resample\", it will then continue where the first one left off. \n\nThis even works with multistep samplers, as it carries its \"momentum\" from node to the next. This is not the case for \"KSampler (Advanced)\", or any other sampler nodes that I'm aware of."],"color":"#432","bgcolor":"#653"},{"id":724,"type":"CLIPTextEncode","pos":[990,4960],"size":[210,88],"flags":{},"order":28,"mode":0,"inputs":[{"name":"clip","localized_name":"clip","type":"CLIP","link":null}],"outputs":[{"name":"CONDITIONING","localized_name":"CONDITIONING","type":"CONDITIONING","links":[1982,1983],"slot_index":0}],"properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":[""]},{"id":722,"type":"ClownGuide_Beta","pos":[1250,5430],"size":[315,290],"flags":{},"order":29,"mode":0,"inputs":[{"name":"guide","localized_name":"guide","type":"LATENT","shape":7,"link":null},{"name":"mask","localized_name":"mask","type":"MASK","shape":7,"link":null},{"name":"weights","localized_name":"weights","type":"SIGMAS","shape":7,"link":null}],"outputs":[{"name":"guides","localized_name":"guides","type":"GUIDES","links":[1984],"slot_index":0}],"properties":{"Node name for S&R":"ClownGuide_Beta"},"widgets_values":["epsilon",false,false,0.5,1,"constant",0,1000,false]},{"id":720,"type":"ClownsharKSampler_Beta","pos":[1260,4940],"size":[315,418],"flags":{},"order":178,"mode":0,"inputs":[{"name":"model","localized_name":"model","type":"MODEL","shape":7,"link":null},{"name":"positive","localized_name":"positive","type":"CONDITIONING","shape":7,"link":1982},{"name":"negative","localized_name":"negative","type":"CONDITIONING","shape":7,"link":1983},{"name":"latent_image","localized_name":"latent_image","type":"LATENT","shape":7,"link":null},{"name":"sigmas","localized_name":"sigmas","type":"SIGMAS","shape":7,"link":null},{"name":"guides","localized_name":"guides","type":"GUIDES","shape":7,"link":1984},{"name":"options","localized_name":"options","type":"OPTIONS","shape":7,"link":null}],"outputs":[{"name":"output","localized_name":"output","type":"LATENT","links":null},{"name":"denoised","localized_name":"denoised","type":"LATENT","links":null},{"name":"options","localized_name":"options","type":"OPTIONS","links":null}],"properties":{"Node name for S&R":"ClownsharKSampler_Beta"},"widgets_values":[0,"multistep/res_2m","beta57",30,-1,1,1,0,"fixed","unsample",true]},{"id":721,"type":"ClownsharKSampler_Beta","pos":[1620,4940],"size":[315,418],"flags":{},"order":183,"mode":0,"inputs":[{"name":"model","localized_name":"model","type":"MODEL","shape":7,"link":null},{"name":"positive","localized_name":"positive","type":"CONDITIONING","shape":7,"link":null},{"name":"negative","localized_name":"negative","type":"CONDITIONING","shape":7,"link":null},{"name":"latent_image","localized_name":"latent_image","type":"LATENT","shape":7,"link":null},{"name":"sigmas","localized_name":"sigmas","type":"SIGMAS","shape":7,"link":null},{"name":"guides","localized_name":"guides","type":"GUIDES","shape":7,"link":1985},{"name":"options","localized_name":"options","type":"OPTIONS","shape":7,"link":null}],"outputs":[{"name":"output","localized_name":"output","type":"LATENT","links":null},{"name":"denoised","localized_name":"denoised","type":"LATENT","links":null},{"name":"options","localized_name":"options","type":"OPTIONS","links":null}],"properties":{"Node name for S&R":"ClownsharKSampler_Beta"},"widgets_values":[0,"multistep/res_2m","beta57",30,-1,1,5.5,-1,"fixed","resample",true]},{"id":727,"type":"Note","pos":[890,5170],"size":[333.3896179199219,108.9758071899414],"flags":{},"order":30,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["UNSAMPLER SETTINGS: \n\nEta should usually be 0.0. \nCFG should be 1.0, and used with an empty prompt.\n\nDenoise < 1.0 can help with adherence to the unsampled image."],"color":"#432","bgcolor":"#653"},{"id":731,"type":"Note","pos":[1980,5160],"size":[364.70263671875,103.89823150634766],"flags":{},"order":31,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["Ensure resampler denoise matches the unsampler denoise.\n\nLow eta values can be used here (try 0.1 to 0.25). Sometimes they can actually improve adherence to the unsampled image."],"color":"#432","bgcolor":"#653"},{"id":733,"type":"Note","pos":[880,5530],"size":[339.3138122558594,133.51815795898438],"flags":{},"order":32,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["Typical guide settings for unsampling/resampling with a rectified flow model (AuraFlow, SD3.5, Flux) are to the right.\n\nThis will generally NOT work well with UNSAMPLING SD1.5, SDXL, Cascade, etc.! (These guide nodes however work great as regular guides with these models!)"],"color":"#432","bgcolor":"#653"},{"id":659,"type":"Note","pos":[1427.1387939453125,3646.506591796875],"size":[352.2813415527344,88],"flags":{},"order":33,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["All of the configurations above will have the same output (and runtime) as the chained samplers below."],"color":"#432","bgcolor":"#653"},{"id":610,"type":"ClownsharKSampler_Beta","pos":[-1373.449462890625,3188.063232421875],"size":[311.41375732421875,693.9824829101562],"flags":{},"order":213,"mode":0,"inputs":[{"name":"model","localized_name":"model","type":"MODEL","shape":7,"link":1909},{"name":"positive","localized_name":"positive","type":"CONDITIONING","shape":7,"link":1907},{"name":"negative","localized_name":"negative","type":"CONDITIONING","shape":7,"link":1908},{"name":"latent_image","localized_name":"latent_image","type":"LATENT","shape":7,"link":null},{"name":"sigmas","localized_name":"sigmas","type":"SIGMAS","shape":7,"link":null},{"name":"guides","localized_name":"guides","type":"GUIDES","shape":7,"link":null},{"name":"options","localized_name":"options","type":"OPTIONS","shape":7,"link":1951},{"name":"options 2","type":"OPTIONS","link":null}],"outputs":[{"name":"output","localized_name":"output","type":"LATENT","links":[1949],"slot_index":0},{"name":"denoised","localized_name":"denoised","type":"LATENT","links":null},{"name":"options","localized_name":"options","type":"OPTIONS","links":null}],"properties":{"Node name for S&R":"ClownsharKSampler_Beta"},"widgets_values":[0.5,"exponential/res_3s","beta57",30,-1,1,5.5,1,"fixed","standard",true]},{"id":612,"type":"ClownsharKSampler_Beta","pos":[-1014.779296875,3187.209228515625],"size":[314.421142578125,693.9824829101562],"flags":{},"order":221,"mode":0,"inputs":[{"name":"model","localized_name":"model","type":"MODEL","shape":7,"link":1910},{"name":"positive","localized_name":"positive","type":"CONDITIONING","shape":7,"link":1911},{"name":"negative","localized_name":"negative","type":"CONDITIONING","shape":7,"link":1912},{"name":"latent_image","localized_name":"latent_image","type":"LATENT","shape":7,"link":1949},{"name":"sigmas","localized_name":"sigmas","type":"SIGMAS","shape":7,"link":null},{"name":"guides","localized_name":"guides","type":"GUIDES","shape":7,"link":null},{"name":"options","localized_name":"options","type":"OPTIONS","shape":7,"link":1947},{"name":"options 2","type":"OPTIONS","link":null}],"outputs":[{"name":"output","localized_name":"output","type":"LATENT","links":[1950],"slot_index":0},{"name":"denoised","localized_name":"denoised","type":"LATENT","links":null},{"name":"options","localized_name":"options","type":"OPTIONS","links":null}],"properties":{"Node name for S&R":"ClownsharKSampler_Beta"},"widgets_values":[0.5,"exponential/res_3s","beta57",30,-1,1,5.5,-1,"fixed","standard",true]},{"id":613,"type":"ClownsharKSampler_Beta","pos":[-648.0813598632812,3185.39013671875],"size":[309.2452087402344,691.814208984375],"flags":{},"order":226,"mode":0,"inputs":[{"name":"model","localized_name":"model","type":"MODEL","shape":7,"link":1926},{"name":"positive","localized_name":"positive","type":"CONDITIONING","shape":7,"link":1914},{"name":"negative","localized_name":"negative","type":"CONDITIONING","shape":7,"link":1915},{"name":"latent_image","localized_name":"latent_image","type":"LATENT","shape":7,"link":1950},{"name":"sigmas","localized_name":"sigmas","type":"SIGMAS","shape":7,"link":null},{"name":"guides","localized_name":"guides","type":"GUIDES","shape":7,"link":null},{"name":"options","localized_name":"options","type":"OPTIONS","shape":7,"link":1948},{"name":"options 2","type":"OPTIONS","link":null}],"outputs":[{"name":"output","localized_name":"output","type":"LATENT","links":[1923],"slot_index":0},{"name":"denoised","localized_name":"denoised","type":"LATENT","links":null},{"name":"options","localized_name":"options","type":"OPTIONS","links":null}],"properties":{"Node name for S&R":"ClownsharKSampler_Beta"},"widgets_values":[0.5,"exponential/res_3s","beta57",30,-1,1,1,-1,"fixed","standard",true]},{"id":716,"type":"Note","pos":[4574.66552734375,4963.29833984375],"size":[270.65277099609375,108.61186218261719],"flags":{},"order":34,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["INPAINTING TIP: Try using the settings to the right with a feathered mask, and \"end_step\" set to the number of sampling steps (or less). This will allow the entire image to change slightly to help heal any seams that may appear."],"color":"#432","bgcolor":"#653"},{"id":714,"type":"ClownGuide_Beta","pos":[4874.66552734375,4503.29833984375],"size":[257.2991638183594,290],"flags":{},"order":35,"mode":0,"inputs":[{"name":"guide","localized_name":"guide","type":"LATENT","shape":7,"link":null},{"name":"mask","localized_name":"mask","type":"MASK","shape":7,"link":null},{"name":"weights","localized_name":"weights","type":"SIGMAS","shape":7,"link":null}],"outputs":[{"name":"guides","localized_name":"guides","type":"GUIDES","links":null}],"properties":{"Node name for S&R":"ClownGuide_Beta"},"widgets_values":["epsilon",false,false,1,1,"constant",0,1000,false]},{"id":715,"type":"ClownGuide_Beta","pos":[4874.66552734375,4863.29833984375],"size":[254.67617797851562,290],"flags":{},"order":36,"mode":0,"inputs":[{"name":"guide","localized_name":"guide","type":"LATENT","shape":7,"link":null},{"name":"mask","localized_name":"mask","type":"MASK","shape":7,"link":null},{"name":"weights","localized_name":"weights","type":"SIGMAS","shape":7,"link":null}],"outputs":[{"name":"guides","localized_name":"guides","type":"GUIDES","links":null}],"properties":{"Node name for S&R":"ClownGuide_Beta"},"widgets_values":["epsilon",false,true,1,1,"beta57",0,40,false]},{"id":709,"type":"Note","pos":[5570,4480],"size":[280.0735168457031,88],"flags":{},"order":37,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["Note: The \"guide_masked\" latent image will control the region that is \"masked out\"! And vice versa with \"guide_unmasked\"."],"color":"#432","bgcolor":"#653"},{"id":688,"type":"ClownGuides_Beta","pos":[5542.884765625,3927.678955078125],"size":[315,450],"flags":{},"order":38,"mode":0,"inputs":[{"name":"guide_masked","localized_name":"guide_masked","type":"LATENT","shape":7,"link":null},{"name":"guide_unmasked","localized_name":"guide_unmasked","type":"LATENT","shape":7,"link":null},{"name":"mask","localized_name":"mask","type":"MASK","shape":7,"link":null},{"name":"weights_masked","localized_name":"weights_masked","type":"SIGMAS","shape":7,"link":null},{"name":"weights_unmasked","localized_name":"weights_unmasked","type":"SIGMAS","shape":7,"link":null}],"outputs":[{"name":"guides","localized_name":"guides","type":"GUIDES","links":[1977],"slot_index":0}],"properties":{"Node name for S&R":"ClownGuides_Beta"},"widgets_values":["epsilon",false,true,0.75,0.75,1,1,"beta57","constant",0,0,15,15,false]},{"id":707,"type":"ClownGuide_Beta","pos":[5206.15283203125,3929.6015625],"size":[315,290],"flags":{},"order":39,"mode":0,"inputs":[{"name":"guide","localized_name":"guide","type":"LATENT","shape":7,"link":null},{"name":"mask","localized_name":"mask","type":"MASK","shape":7,"link":null},{"name":"weights","localized_name":"weights","type":"SIGMAS","shape":7,"link":null}],"outputs":[{"name":"guides","localized_name":"guides","type":"GUIDES","links":null}],"properties":{"Node name for S&R":"ClownGuide_Beta"},"widgets_values":["pseudoimplicit",false,false,0.15,1,"beta57",5,15,false]},{"id":706,"type":"Note","pos":[5228.6552734375,4270.94677734375],"size":[280.0735168457031,88],"flags":{},"order":40,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["Tip: Try a delayed start (start_step > 0), like shown above with pseudoimplicit, for wacky results!"],"color":"#432","bgcolor":"#653"},{"id":711,"type":"Note","pos":[5570,4610],"size":[280.0735168457031,88],"flags":{},"order":41,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["Tip: I recommend drawing your masks on random load image nodes, for convenience."],"color":"#432","bgcolor":"#653"},{"id":712,"type":"Note","pos":[5546.97216796875,3772.719970703125],"size":[308.80828857421875,88],"flags":{},"order":42,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["INPAINTING TIP: Use ClownRegionalConditioning ClownGuides together with the same mask!"],"color":"#432","bgcolor":"#653"},{"id":744,"type":"Note","pos":[7538.74755859375,3817.72216796875],"size":[337.9170227050781,389.18304443359375],"flags":{},"order":43,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["It can be confusing at first, trying to understand which area is affected by which conditioning or mask. I suggest starting with prompts like \"blue ice\" and \"red fire\" with region_bleed = 0.0 to clear things up.\n\nTO THE LEFT:\n\nThe two nodes to the left will automatically create an unmasked area, based on what areas are not masked by mask, mask_A, or mask_B.\n\nAs an example:\n\nPositive_A will affect the area masked by \"mask_A\".\n\nPositive_B will affect the area masked by \"mask_B\".\n\nPositive_unmasked will affect the area that is not masked by \"mask_A\" or \"mask_B\".\n\nTO THE RIGHT:\n\nThese two nodes give you manual control over the area for each prompt. This is especially useful for temporal attention with video modes like WAN. The risk is if you fail to ensure every part of the image (or frame) is masked by one of the masks, you'll end up with an unconditioned area that will look like pure noise."],"color":"#432","bgcolor":"#653"},{"id":756,"type":"TemporalCrossAttnMask","pos":[7017.90087890625,4790.6005859375],"size":[210,82],"flags":{},"order":44,"mode":0,"inputs":[],"outputs":[{"name":"temporal_mask","localized_name":"temporal_mask","type":"MASK","links":[1988]}],"properties":{"Node name for S&R":"TemporalCrossAttnMask"},"widgets_values":[1,65]},{"id":757,"type":"TemporalCrossAttnMask","pos":[7017.12060546875,4954.5556640625],"size":[210,82],"flags":{},"order":45,"mode":0,"inputs":[],"outputs":[{"name":"temporal_mask","localized_name":"temporal_mask","type":"MASK","links":[1989],"slot_index":0}],"properties":{"Node name for S&R":"TemporalCrossAttnMask"},"widgets_values":[65,133]},{"id":758,"type":"Note","pos":[7644.2734375,4659.04248046875],"size":[275.73828125,88],"flags":{},"order":46,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["Sometimes it is beneficial to allow self-attention masks to overlap slightly. This is similar to the \"edge_width\" parameter above, except it overlaps frames, not spatial components (areas of the image)."],"color":"#432","bgcolor":"#653"},{"id":751,"type":"TemporalSplitAttnMask","pos":[7668.654296875,4808.83642578125],"size":[210,130],"flags":{},"order":47,"mode":0,"inputs":[],"outputs":[{"name":"temporal_mask","localized_name":"temporal_mask","type":"MASK","links":[1986],"slot_index":0}],"properties":{"Node name for S&R":"TemporalSplitAttnMask"},"widgets_values":[1,69,1,65]},{"id":753,"type":"TemporalSplitAttnMask","pos":[7668.654296875,4998.83642578125],"size":[210,130],"flags":{},"order":48,"mode":0,"inputs":[],"outputs":[{"name":"temporal_mask","localized_name":"temporal_mask","type":"MASK","links":[1987],"slot_index":0}],"properties":{"Node name for S&R":"TemporalSplitAttnMask"},"widgets_values":[61,133,65,133]},{"id":749,"type":"Note","pos":[6907.34326171875,4623.6328125],"size":[280.0735168457031,88],"flags":{},"order":49,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["The advanced version of the WAN patcher can set a sliding self-attention window. The \"size\" is the number of latent frames (which is 1/4th the number of frames in the final output)."],"color":"#432","bgcolor":"#653"},{"id":689,"type":"Note","pos":[4562.91796875,3811.044189453125],"size":[494.1324462890625,535.6380004882812],"flags":{},"order":50,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["Guides are a way of controlling the image generation process without denoising an image directly, but by steering the denoising process itself. This can mimic many of the benefits of unsampling, without the need to spend extra time unsampling the image.\n\nThere are two main guide modes:\n\n\"Epsilon\" can be used in conjunction with unsampling/resampling workflows to dramatically improve results with rectified flow models (AuraFlow, SD3.5, Flux). It can also be used directly. It works by modifying the noise prediction made by the model to align with the guide image.\n\n\"Pseudoimplicit\" works by lying to the model about the state of the denoising process, so that it generates a noise prediction that strongly aligns with the guide image. \"Fully_pseudoimplicit\" is only supported with \"fully_implicit\" and \"diag_implicit\" samplers (all others will default back to pseudoimplicit).\n\nChannelwise and projection modes can have a dramatic effect. I especially recommend trying epsilon with these modes, though they are quite interesting with pseudoimplicit as well. \"projection_mode\" can result in some issues with image details if used for the entire sampling process.\n\nCUTOFF:\n\nFlux has extremely strong self-attention, and has issues with getting \"stuck\" if the guide strength is too high (or used for too many steps), which results in an output that looks nearly identical to the guide. \"cutoff\" does a crude check for how similar the image is to the guide - if it exceeds that value, it will turn off the guide for that step. Try setting to 0.5 or 0.6 when using Flux.\n\nWEIGHT SCHEDULERS:\n\nThese control the weight at each step. For example, with the settings shown:\n\n * the \"unmasked\" region will have a weight of 0.75 for the first 15 steps, then 0.0 for every step after that\n\n * the \"masked\" region will start with a weight of 0.75 for the first step, gradually declining until reaching 0.0 after 15 steps (and remaining at 0.0)\n"],"color":"#432","bgcolor":"#653"},{"id":726,"type":"Note","pos":[5630,5410],"size":[257.97479248046875,159.16941833496094],"flags":{},"order":51,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["VAEEncodeAdvanced is a quality of life node for convenience when using multiple guides.\n\nNote: the mask input is for a black and white image. It is there for convenience with converting any masks you may have saved as black and white images into masks you can use in a workflow."],"color":"#432","bgcolor":"#653"},{"id":691,"type":"ClownsharKSampler_Beta","pos":[5894.66552734375,3923.29833984375],"size":[274.2724609375,418],"flags":{},"order":179,"mode":0,"inputs":[{"name":"model","localized_name":"model","type":"MODEL","shape":7,"link":null},{"name":"positive","localized_name":"positive","type":"CONDITIONING","shape":7,"link":null},{"name":"negative","localized_name":"negative","type":"CONDITIONING","shape":7,"link":null},{"name":"latent_image","localized_name":"latent_image","type":"LATENT","shape":7,"link":null},{"name":"sigmas","localized_name":"sigmas","type":"SIGMAS","shape":7,"link":null},{"name":"guides","localized_name":"guides","type":"GUIDES","shape":7,"link":1977},{"name":"options","localized_name":"options","type":"OPTIONS","shape":7,"link":null}],"outputs":[{"name":"output","localized_name":"output","type":"LATENT","links":null},{"name":"denoised","localized_name":"denoised","type":"LATENT","links":null},{"name":"options","localized_name":"options","type":"OPTIONS","links":null}],"properties":{"Node name for S&R":"ClownsharKSampler_Beta"},"widgets_values":[0.5,"multistep/res_2m","beta57",30,-1,1,5.5,0,"fixed","standard",true]},{"id":695,"type":"ModelSamplingAdvancedResolution","pos":[8110,3210],"size":[260.3999938964844,126],"flags":{},"order":215,"mode":0,"inputs":[{"name":"model","localized_name":"model","type":"MODEL","link":1980},{"name":"latent_image","localized_name":"latent_image","type":"LATENT","link":null}],"outputs":[{"name":"model","localized_name":"model","type":"MODEL","links":null}],"properties":{"Node name for S&R":"ModelSamplingAdvancedResolution"},"widgets_values":["exponential",1.35,0.85]},{"id":701,"type":"Note","pos":[7080,3060],"size":[327.4920959472656,88],"flags":{},"order":52,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["Loader nodes are provided for convenience with Flux and SD3.5. The Flux loader can also load the Redux (and ClipVision) models for you."],"color":"#432","bgcolor":"#653"},{"id":694,"type":"FluxGuidanceDisable","pos":[7790,3210],"size":[210,82],"flags":{},"order":208,"mode":0,"inputs":[{"name":"model","localized_name":"model","type":"MODEL","link":1979}],"outputs":[{"name":"model","localized_name":"model","type":"MODEL","links":[1980],"slot_index":0}],"properties":{"Node name for S&R":"FluxGuidanceDisable"},"widgets_values":[true,true]},{"id":699,"type":"Note","pos":[7760,3030],"size":[253.01846313476562,112.91952514648438],"flags":{},"order":53,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["This disables \"Flux Guidance\" (which is actually NOT disabled by setting to 1.0 or 0.0). It can be helpful in many cases where you wish to banish the \"Flux look\" to the bottom of a creepy old well in Transylvania."],"color":"#432","bgcolor":"#653"},{"id":660,"type":"ClownsharKSampler_Beta","pos":[3907.121826171875,3512.491943359375],"size":[293.78173828125,618],"flags":{},"order":205,"mode":0,"inputs":[{"name":"model","localized_name":"model","type":"MODEL","shape":7,"link":null},{"name":"positive","localized_name":"positive","type":"CONDITIONING","shape":7,"link":null},{"name":"negative","localized_name":"negative","type":"CONDITIONING","shape":7,"link":null},{"name":"latent_image","localized_name":"latent_image","type":"LATENT","shape":7,"link":null},{"name":"sigmas","localized_name":"sigmas","type":"SIGMAS","shape":7,"link":null},{"name":"guides","localized_name":"guides","type":"GUIDES","shape":7,"link":null},{"name":"options","localized_name":"options","type":"OPTIONS","shape":7,"link":1962},{"name":"options 2","type":"OPTIONS","link":1963},{"name":"options 3","type":"OPTIONS","link":1991},{"name":"options 4","type":"OPTIONS","link":1968},{"name":"options 5","type":"OPTIONS","link":1971},{"name":"options 6","type":"OPTIONS","link":1972},{"name":"options 7","type":"OPTIONS","link":1974},{"name":"options 8","type":"OPTIONS","link":1990},{"name":"options 9","type":"OPTIONS","link":2003},{"name":"options 10","type":"OPTIONS","link":2007},{"name":"options 11","type":"OPTIONS","link":null}],"outputs":[{"name":"output","localized_name":"output","type":"LATENT","links":[],"slot_index":0},{"name":"denoised","localized_name":"denoised","type":"LATENT","links":null},{"name":"options","localized_name":"options","type":"OPTIONS","links":null}],"properties":{"Node name for S&R":"ClownsharKSampler_Beta"},"widgets_values":[0.5,"exponential/res_3s","beta57",30,-1,1,5.5,-1,"fixed","standard",true]},{"id":647,"type":"Note","pos":[1321.257080078125,3860],"size":[288.0400390625,88],"flags":{},"order":54,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["Runs the first 7 steps (out of 30)."],"color":"#432","bgcolor":"#653"},{"id":640,"type":"ClownsharKSampler_Beta","pos":[1321.257080078125,4010],"size":[296.93646240234375,418],"flags":{},"order":55,"mode":0,"inputs":[{"name":"model","localized_name":"model","type":"MODEL","shape":7,"link":null},{"name":"positive","localized_name":"positive","type":"CONDITIONING","shape":7,"link":null},{"name":"negative","localized_name":"negative","type":"CONDITIONING","shape":7,"link":null},{"name":"latent_image","localized_name":"latent_image","type":"LATENT","shape":7,"link":null},{"name":"sigmas","localized_name":"sigmas","type":"SIGMAS","shape":7,"link":null},{"name":"guides","localized_name":"guides","type":"GUIDES","shape":7,"link":null},{"name":"options","localized_name":"options","type":"OPTIONS","shape":7,"link":null}],"outputs":[{"name":"output","localized_name":"output","type":"LATENT","links":[1952],"slot_index":0},{"name":"denoised","localized_name":"denoised","type":"LATENT","links":null},{"name":"options","localized_name":"options","type":"OPTIONS","links":null}],"properties":{"Node name for S&R":"ClownsharKSampler_Beta"},"widgets_values":[0.5,"exponential/res_3s","beta57",30,7,1,5.5,0,"fixed","standard",true]},{"id":641,"type":"ClownsharKSampler_Beta","pos":[1671.257080078125,4010],"size":[288.4732666015625,418],"flags":{},"order":182,"mode":0,"inputs":[{"name":"model","localized_name":"model","type":"MODEL","shape":7,"link":null},{"name":"positive","localized_name":"positive","type":"CONDITIONING","shape":7,"link":null},{"name":"negative","localized_name":"negative","type":"CONDITIONING","shape":7,"link":null},{"name":"latent_image","localized_name":"latent_image","type":"LATENT","shape":7,"link":1952},{"name":"sigmas","localized_name":"sigmas","type":"SIGMAS","shape":7,"link":null},{"name":"guides","localized_name":"guides","type":"GUIDES","shape":7,"link":null},{"name":"options","localized_name":"options","type":"OPTIONS","shape":7,"link":null}],"outputs":[{"name":"output","localized_name":"output","type":"LATENT","links":[1953],"slot_index":0},{"name":"denoised","localized_name":"denoised","type":"LATENT","links":null},{"name":"options","localized_name":"options","type":"OPTIONS","links":null}],"properties":{"Node name for S&R":"ClownsharKSampler_Beta"},"widgets_values":[0.5,"exponential/res_3s","beta57",30,10,1,5.5,-1,"fixed","resample",true]},{"id":642,"type":"ClownsharKSampler_Beta","pos":[2021.257080078125,4010],"size":[291.5506286621094,422.6160888671875],"flags":{},"order":203,"mode":0,"inputs":[{"name":"model","localized_name":"model","type":"MODEL","shape":7,"link":null},{"name":"positive","localized_name":"positive","type":"CONDITIONING","shape":7,"link":null},{"name":"negative","localized_name":"negative","type":"CONDITIONING","shape":7,"link":null},{"name":"latent_image","localized_name":"latent_image","type":"LATENT","shape":7,"link":1953},{"name":"sigmas","localized_name":"sigmas","type":"SIGMAS","shape":7,"link":null},{"name":"guides","localized_name":"guides","type":"GUIDES","shape":7,"link":null},{"name":"options","localized_name":"options","type":"OPTIONS","shape":7,"link":null}],"outputs":[{"name":"output","localized_name":"output","type":"LATENT","links":[],"slot_index":0},{"name":"denoised","localized_name":"denoised","type":"LATENT","links":null},{"name":"options","localized_name":"options","type":"OPTIONS","links":null}],"properties":{"Node name for S&R":"ClownsharKSampler_Beta"},"widgets_values":[0.5,"exponential/res_3s","beta57",30,-1,1,5.5,-1,"fixed","resample",true]},{"id":729,"type":"Note","pos":[1666.1065673828125,4786.38134765625],"size":[210,88],"flags":{},"order":56,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["        RESAMPLER NODE"],"color":"#432","bgcolor":"#653"},{"id":650,"type":"Note","pos":[1771.257080078125,4480],"size":[453.94183349609375,144.25192260742188],"flags":{},"order":57,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["IMPORTANT: sampler_mode is set to \"resample\"!\n\nALSO: seed is set to -1!\n\nThis means \"continue where the last sampler left off\", as in, use the next available unused seed.\n\nIf you set it to another value, the noise sampler that is used at every step might reuse a seed, which can cause the image to burn.\n\n"],"color":"#432","bgcolor":"#653"},{"id":738,"type":"ReHiDreamPatcher","pos":[6490,4280],"size":[210,82],"flags":{},"order":58,"mode":0,"inputs":[{"name":"model","localized_name":"model","type":"MODEL","link":null}],"outputs":[{"name":"model","localized_name":"model","type":"MODEL","links":null}],"properties":{"Node name for S&R":"ReHiDreamPatcher"},"widgets_values":["float32",true]},{"id":739,"type":"ReSD35Patcher","pos":[6490,4420],"size":[210,82],"flags":{},"order":59,"mode":0,"inputs":[{"name":"model","localized_name":"model","type":"MODEL","link":null}],"outputs":[{"name":"model","localized_name":"model","type":"MODEL","links":null}],"properties":{"Node name for S&R":"ReSD35Patcher"},"widgets_values":["float32",true]},{"id":740,"type":"ReAuraPatcher","pos":[6490,4560],"size":[210,82],"flags":{},"order":60,"mode":0,"inputs":[{"name":"model","localized_name":"model","type":"MODEL","link":null}],"outputs":[{"name":"model","localized_name":"model","type":"MODEL","links":null,"slot_index":0}],"properties":{"Node name for S&R":"ReAuraPatcher"},"widgets_values":[true,true]},{"id":741,"type":"ReWanPatcher","pos":[6490,4680],"size":[210,58],"flags":{},"order":61,"mode":0,"inputs":[{"name":"model","localized_name":"model","type":"MODEL","link":null}],"outputs":[{"name":"model","localized_name":"model","type":"MODEL","links":null}],"properties":{"Node name for S&R":"ReWanPatcher"},"widgets_values":[true]},{"id":658,"type":"ClownsharKSampler_Beta","pos":[2070,3140],"size":[296.93646240234375,418],"flags":{},"order":62,"mode":0,"inputs":[{"name":"model","localized_name":"model","type":"MODEL","shape":7,"link":null},{"name":"positive","localized_name":"positive","type":"CONDITIONING","shape":7,"link":null},{"name":"negative","localized_name":"negative","type":"CONDITIONING","shape":7,"link":null},{"name":"latent_image","localized_name":"latent_image","type":"LATENT","shape":7,"link":null},{"name":"sigmas","localized_name":"sigmas","type":"SIGMAS","shape":7,"link":null},{"name":"guides","localized_name":"guides","type":"GUIDES","shape":7,"link":null},{"name":"options","localized_name":"options","type":"OPTIONS","shape":7,"link":null}],"outputs":[{"name":"output","localized_name":"output","type":"LATENT","links":[],"slot_index":0},{"name":"denoised","localized_name":"denoised","type":"LATENT","links":null},{"name":"options","localized_name":"options","type":"OPTIONS","links":null}],"properties":{"Node name for S&R":"ClownsharKSampler_Beta"},"widgets_values":[0.5,"exponential/res_3s","beta57",30,10000,1,5.5,0,"fixed","standard",true]},{"id":734,"type":"Note","pos":[1830,2950],"size":[433.063232421875,101.85264587402344],"flags":{},"order":63,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["NOTE: steps_to_run = -1 means to run all steps (the usual default approach for any sampler).\n\nOn the right, steps_to_run > steps, so it will run all the way till the end, just like on the left. This is the approach traditionally used in KSampler (Advanced)."],"color":"#432","bgcolor":"#653"},{"id":765,"type":"Note","pos":[-3299.93603515625,2699.88427734375],"size":[389.86285400390625,98.29244232177734],"flags":{},"order":64,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["THESE NODES ARE NOT REQUIRED TO USE RES4LYF!!!\n\nThese descriptions are included only out of a desire to consolidate all CSBW node documentation into one location."],"color":"#432","bgcolor":"#653"},{"id":728,"type":"Note","pos":[1311.5924072265625,4784.7666015625],"size":[213.4912109375,88],"flags":{},"order":65,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["        UNSAMPLER NODE"],"color":"#432","bgcolor":"#653"},{"id":723,"type":"ClownGuide_Beta","pos":[1620,5430],"size":[315,290],"flags":{},"order":66,"mode":0,"inputs":[{"name":"guide","localized_name":"guide","type":"LATENT","shape":7,"link":null},{"name":"mask","localized_name":"mask","type":"MASK","shape":7,"link":null},{"name":"weights","localized_name":"weights","type":"SIGMAS","shape":7,"link":null}],"outputs":[{"name":"guides","localized_name":"guides","type":"GUIDES","links":[1985],"slot_index":0}],"properties":{"Node name for S&R":"ClownGuide_Beta"},"widgets_values":["epsilon",false,true,0.75,1,"beta57",0,10,false]},{"id":766,"type":"Note","pos":[1980.62939453125,5502.46337890625],"size":[366.45068359375,97.77838134765625],"flags":{},"order":67,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["Tip: \"projection\" and \"channelwise\" modes can increase the intensity of the effect with epsilon and data guide modes. Sometimes, this effect is very desirable. It's worth experimenting with."],"color":"#432","bgcolor":"#653"},{"id":732,"type":"Note","pos":[1981.25732421875,5003.00537109375],"size":[361.62445068359375,90.62290954589844],"flags":{},"order":68,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["Tip: multistep samplers usually adhere to unsampled images more effectively than others."],"color":"#432","bgcolor":"#653"},{"id":768,"type":"ClownGuides_Beta","pos":[4877.3896484375,5235.57373046875],"size":[333.3587951660156,450],"flags":{},"order":69,"mode":0,"inputs":[{"name":"guide_masked","localized_name":"guide_masked","type":"LATENT","shape":7,"link":null},{"name":"guide_unmasked","localized_name":"guide_unmasked","type":"LATENT","shape":7,"link":null},{"name":"mask","localized_name":"mask","type":"MASK","shape":7,"link":null},{"name":"weights_masked","localized_name":"weights_masked","type":"SIGMAS","shape":7,"link":null},{"name":"weights_unmasked","localized_name":"weights_unmasked","type":"SIGMAS","shape":7,"link":null}],"outputs":[{"name":"guides","localized_name":"guides","type":"GUIDES","links":null}],"properties":{"Node name for S&R":"ClownGuides_Beta"},"widgets_values":["lure",false,false,1,1,1,1,"linear_quadratic","constant",0,0,8,-1,false]},{"id":769,"type":"Note","pos":[4576.1689453125,5281.28271484375],"size":[266.2802734375,135.71385192871094],"flags":{},"order":70,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["INPAINTING TIP: Try using the settings to the right with your input image connected to both the guide_masked and guide_unmasked inputs. Adjust \"end_step_masked\" to change the strength of the inpainting effect (or weight_masked, or eight_scheduler_masked)."],"color":"#432","bgcolor":"#653"},{"id":725,"type":"VAEEncodeAdvanced","pos":[5930,5410],"size":[255.3756103515625,278],"flags":{},"order":71,"mode":0,"inputs":[{"name":"image_1","localized_name":"image_1","type":"IMAGE","shape":7,"link":null},{"name":"image_2","localized_name":"image_2","type":"IMAGE","shape":7,"link":null},{"name":"mask","localized_name":"mask","type":"IMAGE","shape":7,"link":null},{"name":"latent","localized_name":"latent","type":"LATENT","shape":7,"link":null},{"name":"vae","localized_name":"vae","type":"VAE","shape":7,"link":null}],"outputs":[{"name":"latent_1","localized_name":"latent_1","type":"LATENT","links":null},{"name":"latent_2","localized_name":"latent_2","type":"LATENT","links":null},{"name":"mask","localized_name":"mask","type":"MASK","links":null},{"name":"empty_latent","localized_name":"empty_latent","type":"LATENT","links":null},{"name":"width","localized_name":"width","type":"INT","links":null},{"name":"height","localized_name":"height","type":"INT","links":null}],"properties":{"Node name for S&R":"VAEEncodeAdvanced"},"widgets_values":["false",1024,1024,"red",false,"16_channels"]},{"id":735,"type":"ClownGuide_Beta","pos":[5147.18896484375,4861.30419921875],"size":[254.67617797851562,290],"flags":{},"order":72,"mode":0,"inputs":[{"name":"guide","localized_name":"guide","type":"LATENT","shape":7,"link":null},{"name":"mask","localized_name":"mask","type":"MASK","shape":7,"link":null},{"name":"weights","localized_name":"weights","type":"SIGMAS","shape":7,"link":null}],"outputs":[{"name":"guides","localized_name":"guides","type":"GUIDES","links":[1992],"slot_index":0}],"properties":{"Node name for S&R":"ClownGuide_Beta"},"widgets_values":["flow",false,false,1,1,"constant",0,40,false]},{"id":770,"type":"ClownsharKSampler_Beta","pos":[5451.8759765625,4763.7705078125],"size":[315,438],"flags":{},"order":184,"mode":0,"inputs":[{"name":"model","localized_name":"model","type":"MODEL","shape":7,"link":null},{"name":"positive","localized_name":"positive","type":"CONDITIONING","shape":7,"link":null},{"name":"negative","localized_name":"negative","type":"CONDITIONING","shape":7,"link":null},{"name":"latent_image","localized_name":"latent_image","type":"LATENT","shape":7,"link":null},{"name":"sigmas","localized_name":"sigmas","type":"SIGMAS","shape":7,"link":null},{"name":"guides","localized_name":"guides","type":"GUIDES","shape":7,"link":1992},{"name":"options","localized_name":"options","type":"OPTIONS","shape":7,"link":1994},{"name":"options 2","type":"OPTIONS","link":null}],"outputs":[{"name":"output","localized_name":"output","type":"LATENT","links":null},{"name":"denoised","localized_name":"denoised","type":"LATENT","links":null},{"name":"options","localized_name":"options","type":"OPTIONS","links":null}],"properties":{"Node name for S&R":"ClownsharKSampler_Beta"},"widgets_values":[0.5,"multistep/res_2m","beta57",30,-1,1,5.5,0,"randomize","standard",true]},{"id":772,"type":"SharkOptions_GuideCond_Beta","pos":[5230.13525390625,5239.04736328125],"size":[210,98],"flags":{},"order":73,"mode":0,"inputs":[{"name":"positive","localized_name":"positive","type":"CONDITIONING","shape":7,"link":null},{"name":"negative","localized_name":"negative","type":"CONDITIONING","shape":7,"link":null},{"name":"options","localized_name":"options","type":"OPTIONS","shape":7,"link":null}],"outputs":[{"name":"options","localized_name":"options","type":"OPTIONS","links":[1994]}],"properties":{"Node name for S&R":"SharkOptions_GuideCond_Beta"},"widgets_values":[5.5]},{"id":773,"type":"Note","pos":[5229.7958984375,5385.55810546875],"size":[272.242919921875,112.58575439453125],"flags":{},"order":74,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["When using \"flow\" mode a second set of conditionings can be added that will be used to evolve the guide itself to sync up better with your image during sampling. Try describing the guide with some creative liberties to bend things in the desired stylistic direction."],"color":"#432","bgcolor":"#653"},{"id":774,"type":"Note","pos":[4576.4013671875,5501.66796875],"size":[266.2802734375,135.71385192871094],"flags":{},"order":75,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["TIP: ClownGuides allows you to use multiple input images, each with their own separate schedule and strength settings. There's a lot of creative possibilities here, especially when combined with regional conditioning sharing the same mask!"],"color":"#432","bgcolor":"#653"},{"id":746,"type":"ClownRegionalConditioning_AB","pos":[7918.16943359375,3816.63427734375],"size":[248.7556610107422,350],"flags":{},"order":76,"mode":0,"inputs":[{"name":"conditioning_A","localized_name":"conditioning_A","type":"CONDITIONING","shape":7,"link":null},{"name":"conditioning_B","localized_name":"conditioning_B","type":"CONDITIONING","shape":7,"link":null},{"name":"mask_A","localized_name":"mask_A","type":"MASK","shape":7,"link":null},{"name":"mask_B","localized_name":"mask_B","type":"MASK","shape":7,"link":null},{"name":"weights","localized_name":"weights","type":"SIGMAS","shape":7,"link":null},{"name":"region_bleeds","localized_name":"region_bleeds","type":"SIGMAS","shape":7,"link":null}],"outputs":[{"name":"conditioning","localized_name":"conditioning","type":"CONDITIONING","links":null}],"properties":{"Node name for S&R":"ClownRegionalConditioning_AB"},"widgets_values":[1,0,0,"constant",0,-1,"boolean",128,false]},{"id":747,"type":"ClownRegionalConditioning_ABC","pos":[7916.001953125,4221.97314453125],"size":[250.51895141601562,390],"flags":{},"order":77,"mode":0,"inputs":[{"name":"conditioning_A","localized_name":"conditioning_A","type":"CONDITIONING","shape":7,"link":null},{"name":"conditioning_B","localized_name":"conditioning_B","type":"CONDITIONING","shape":7,"link":null},{"name":"conditioning_C","localized_name":"conditioning_C","type":"CONDITIONING","shape":7,"link":null},{"name":"mask_A","localized_name":"mask_A","type":"MASK","shape":7,"link":null},{"name":"mask_B","localized_name":"mask_B","type":"MASK","shape":7,"link":null},{"name":"mask_C","localized_name":"mask_C","type":"MASK","shape":7,"link":null},{"name":"weights","localized_name":"weights","type":"SIGMAS","shape":7,"link":null},{"name":"region_bleeds","localized_name":"region_bleeds","type":"SIGMAS","shape":7,"link":null}],"outputs":[{"name":"conditioning","localized_name":"conditioning","type":"CONDITIONING","links":null}],"properties":{"Node name for S&R":"ClownRegionalConditioning_ABC"},"widgets_values":[1,0,0,"constant",0,100,"boolean",128,false]},{"id":743,"type":"ClownRegionalConditioning3","pos":[7224.5439453125,4216.19189453125],"size":[287.20001220703125,370],"flags":{},"order":78,"mode":0,"inputs":[{"name":"conditioning_A","localized_name":"conditioning_A","type":"CONDITIONING","shape":7,"link":null},{"name":"conditioning_B","localized_name":"conditioning_B","type":"CONDITIONING","shape":7,"link":null},{"name":"conditioning_unmasked","localized_name":"conditioning_unmasked","type":"CONDITIONING","shape":7,"link":null},{"name":"mask_A","localized_name":"mask_A","type":"MASK","shape":7,"link":null},{"name":"mask_B","localized_name":"mask_B","type":"MASK","shape":7,"link":null},{"name":"weights","localized_name":"weights","type":"SIGMAS","shape":7,"link":null},{"name":"region_bleeds","localized_name":"region_bleeds","type":"SIGMAS","shape":7,"link":null}],"outputs":[{"name":"conditioning","localized_name":"conditioning","type":"CONDITIONING","links":null}],"properties":{"Node name for S&R":"ClownRegionalConditioning3"},"widgets_values":[1,0,0,"constant",0,100,"boolean",128,false]},{"id":754,"type":"ClownRegionalConditioning_AB","pos":[7261.39306640625,4816.611328125],"size":[248.7556610107422,350],"flags":{},"order":180,"mode":0,"inputs":[{"name":"conditioning_A","localized_name":"conditioning_A","type":"CONDITIONING","shape":7,"link":null},{"name":"conditioning_B","localized_name":"conditioning_B","type":"CONDITIONING","shape":7,"link":null},{"name":"mask_A","localized_name":"mask_A","type":"MASK","shape":7,"link":1988},{"name":"mask_B","localized_name":"mask_B","type":"MASK","shape":7,"link":1989},{"name":"weights","localized_name":"weights","type":"SIGMAS","shape":7,"link":null},{"name":"region_bleeds","localized_name":"region_bleeds","type":"SIGMAS","shape":7,"link":null}],"outputs":[{"name":"conditioning","localized_name":"conditioning","type":"CONDITIONING","links":null}],"properties":{"Node name for S&R":"ClownRegionalConditioning_AB"},"widgets_values":[1,0,0,"constant",0,-1,"boolean",128,false]},{"id":752,"type":"ClownRegionalConditioning_AB","pos":[7918.654296875,4798.83642578125],"size":[248.7556610107422,350],"flags":{},"order":181,"mode":0,"inputs":[{"name":"conditioning_A","localized_name":"conditioning_A","type":"CONDITIONING","shape":7,"link":null},{"name":"conditioning_B","localized_name":"conditioning_B","type":"CONDITIONING","shape":7,"link":null},{"name":"mask_A","localized_name":"mask_A","type":"MASK","shape":7,"link":1986},{"name":"mask_B","localized_name":"mask_B","type":"MASK","shape":7,"link":1987},{"name":"weights","localized_name":"weights","type":"SIGMAS","shape":7,"link":null},{"name":"region_bleeds","localized_name":"region_bleeds","type":"SIGMAS","shape":7,"link":null}],"outputs":[{"name":"conditioning","localized_name":"conditioning","type":"CONDITIONING","links":null}],"properties":{"Node name for S&R":"ClownRegionalConditioning_AB"},"widgets_values":[1,0,0,"constant",0,-1,"boolean",128,false]},{"id":777,"type":"ClownRegionalConditioning2","pos":[7226.02978515625,3817.949462890625],"size":[287.20001220703125,330],"flags":{},"order":79,"mode":0,"inputs":[{"name":"conditioning_masked","localized_name":"conditioning_masked","type":"CONDITIONING","shape":7,"link":null},{"name":"conditioning_unmasked","localized_name":"conditioning_unmasked","type":"CONDITIONING","shape":7,"link":null},{"name":"mask","localized_name":"mask","type":"MASK","shape":7,"link":null},{"name":"weights","localized_name":"weights","type":"SIGMAS","shape":7,"link":null},{"name":"region_bleeds","localized_name":"region_bleeds","type":"SIGMAS","shape":7,"link":null}],"outputs":[{"name":"conditioning","localized_name":"conditioning","type":"CONDITIONING","links":null}],"properties":{"Node name for S&R":"ClownRegionalConditioning2"},"widgets_values":[1,0,0,"constant",0,-1,"boolean",128,false]},{"id":705,"type":"Note","pos":[6811.22021484375,3808.38671875],"size":[379.8222351074219,549.5839233398438],"flags":{},"order":80,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["\"weight\" affects how strongly the attention mask is applied, which controls how well the masked and unmasked regions are separated. \n\n\"region_bleed\" affects how much the regions can \"talk\" with each other (via self-attention). region_bleed=0.0 will ensure the strongest possible separation, but higher values can help prevent visible seams from forming along the edges of the masked areas.\n\n\nWEIGHT SCHEDULER:\n\nThis controls the weight (strength of separation of the regions) at each step. For example, with the settings shown, the weight will begin at 1.70, and gradually decline before reaching 0.0 after 10 steps (and remaining at 0.0).\n\n\"mask_type\" currently only has the \"gradient\" option, but others may be added later. \n\nYes, this does mean you can use masks with gradients (so you can feather and blur them if you wish)!\n\nMASK_TYPE:\n\nThere are options here that are a bit like causal attention in LLMs. For example, \"boolean_masked\" means the masked area can \"see\" the entire image (via self-attention), while the unmasked area cannot \"see\" the masked area. This is very useful with Flux if you wish to generate a character close to the camera but have an unblurred background. Place the character in the masked area, describe only the background in the unmasked area, select \"boolean_masked\" and set region_bleed = 0.0. \n\nEDGE_WIDTH:\n\nThis creates overlapping self-attention at the boundaries between masked and unmasked areas. This helps to conceal seams. Try values like 50 or 150 to start, and watch the preview.\n\n"],"color":"#432","bgcolor":"#653"},{"id":776,"type":"ClownRegionalConditionings","pos":[9220.0224609375,3819.96826171875],"size":[238.2400665283203,266],"flags":{},"order":222,"mode":0,"inputs":[{"name":"cond_regions","localized_name":"cond_regions","type":"COND_REGIONS","shape":7,"link":2000},{"name":"weights","localized_name":"weights","type":"SIGMAS","shape":7,"link":null},{"name":"region_bleeds","localized_name":"region_bleeds","type":"SIGMAS","shape":7,"link":null}],"outputs":[{"name":"conditioning","localized_name":"conditioning","type":"CONDITIONING","links":null}],"properties":{"Node name for S&R":"ClownRegionalConditionings"},"widgets_values":[0.9,0.25,0,"constant",0,-1,"boolean",false]},{"id":782,"type":"Note","pos":[8261.9765625,4016.659423828125],"size":[272.1261291503906,131.35166931152344],"flags":{},"order":81,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["\"Spineless\" mode means that the region \"has no spine\" and is susceptible to influence by other regions (via self-attention). This is comparable to the \"boolean_masked\" etc. modes in the nodes to the left. For example, \"boolean_masked\" sets the masked area to \"spineless\"."],"color":"#432","bgcolor":"#653"},{"id":785,"type":"Note","pos":[8574.7734375,4022.382080078125],"size":[210,97.39286804199219],"flags":{},"order":82,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["Unlimited regions may be set using these nodes. Up to 12 regions have been successfully tested in a single workflow."],"color":"#432","bgcolor":"#653"},{"id":786,"type":"Note","pos":[8979.33203125,4020.87939453125],"size":[212.89056396484375,176.87088012695312],"flags":{},"order":83,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["The risk of manual control over all masks is that you miss an area (some part ends up not being covered by any mask) which means it then has no conditioning. \n\nThis is easily avoided by simply not hooking up a mask to the final node. It will use any remaining unmasked area as the final mask."],"color":"#432","bgcolor":"#653"},{"id":755,"type":"Note","pos":[7241.16015625,4666.3251953125],"size":[275.73828125,88],"flags":{},"order":84,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["If sliding self-attention is used, only cross-attention needs to be masked."],"color":"#432","bgcolor":"#653"},{"id":748,"type":"ReWanPatcherAdvanced","pos":[6702.76953125,4816.7041015625],"size":[279.3623352050781,214],"flags":{},"order":85,"mode":0,"inputs":[{"name":"model","localized_name":"model","type":"MODEL","link":null}],"outputs":[{"name":"model","localized_name":"model","type":"MODEL","links":null}],"properties":{"Node name for S&R":"ReWanPatcherAdvanced"},"widgets_values":["all","all",true,"standard",60]},{"id":750,"type":"Note","pos":[6444.103515625,4815.1484375],"size":[225.1619873046875,212.99703979492188],"flags":{},"order":86,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["Sliding self-attention is useful for generating sequences where the conditioning changes from one frame to another, or for reducing VRAM requirements and reducing inference time when generating long sequences. At least 601 frames can be generated in one shot on a RTX 4090 with the above settings.\n\nThere are two modes: standard and circular. Circular allows the first frame to \"see\" the last frame, whereas standard does not."],"color":"#432","bgcolor":"#653"},{"id":742,"type":"Note","pos":[6420.9990234375,3806.16064453125],"size":[345.86224365234375,263.46356201171875],"flags":{},"order":87,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["Regional conditioning requires for you to patch the model with a \"Re\" (for Regional) patcher (shown below) and to use the beta versions of either ClownSampler + SharkSampler, or ClownSharkSampler.\n\nFully compatible with Flux Redux, CFG, etc.\n\nHiDream notes:\nRegional negative conditioning is currently supported with HiDream and is useful for controlling styles (i.e., \"photo\" in a region that should be a painting, and vice versa). \n\nWith HiDream, weight and region_bleed may also be set to negative values. The effect in terms of strength is the same for -0.9 vs 0.9, but it will change whether it operates on initial or final blocks in the model. The effect can be quite different.\n"],"color":"#432","bgcolor":"#653"},{"id":737,"type":"ReFluxPatcher","pos":[6490,4140],"size":[210,82],"flags":{},"order":88,"mode":0,"inputs":[{"name":"model","localized_name":"model","type":"MODEL","link":null}],"outputs":[{"name":"model","localized_name":"model","type":"MODEL","links":null}],"properties":{"Node name for S&R":"ReFluxPatcher"},"widgets_values":["float32",true]},{"id":778,"type":"ClownRegionalConditioning","pos":[8500,3820],"size":[211.60000610351562,122],"flags":{},"order":185,"mode":0,"inputs":[{"name":"cond_regions","localized_name":"cond_regions","type":"COND_REGIONS","shape":7,"link":1995},{"name":"conditioning","localized_name":"conditioning","type":"CONDITIONING","shape":7,"link":null},{"name":"mask","localized_name":"mask","type":"MASK","shape":7,"link":null}],"outputs":[{"name":"cond_regions","localized_name":"cond_regions","type":"COND_REGIONS","links":[1996],"slot_index":0}],"properties":{"Node name for S&R":"ClownRegionalConditioning"},"widgets_values":[false,128]},{"id":775,"type":"ClownRegionalConditioning","pos":[8260,3820],"size":[211.60000610351562,122],"flags":{},"order":89,"mode":0,"inputs":[{"name":"cond_regions","localized_name":"cond_regions","type":"COND_REGIONS","shape":7,"link":null},{"name":"conditioning","localized_name":"conditioning","type":"CONDITIONING","shape":7,"link":null},{"name":"mask","localized_name":"mask","type":"MASK","shape":7,"link":null}],"outputs":[{"name":"cond_regions","localized_name":"cond_regions","type":"COND_REGIONS","links":[1995],"slot_index":0}],"properties":{"Node name for S&R":"ClownRegionalConditioning"},"widgets_values":[true,128]},{"id":779,"type":"ClownRegionalConditioning","pos":[8740.115234375,3820.114990234375],"size":[211.60000610351562,122],"flags":{},"order":204,"mode":0,"inputs":[{"name":"cond_regions","localized_name":"cond_regions","type":"COND_REGIONS","shape":7,"link":1996},{"name":"conditioning","localized_name":"conditioning","type":"CONDITIONING","shape":7,"link":null},{"name":"mask","localized_name":"mask","type":"MASK","shape":7,"link":null}],"outputs":[{"name":"cond_regions","localized_name":"cond_regions","type":"COND_REGIONS","links":[1999],"slot_index":0}],"properties":{"Node name for S&R":"ClownRegionalConditioning"},"widgets_values":[false,128]},{"id":783,"type":"ClownRegionalConditioning","pos":[8975.990234375,3820.1171875],"size":[211.60000610351562,122],"flags":{},"order":214,"mode":0,"inputs":[{"name":"cond_regions","localized_name":"cond_regions","type":"COND_REGIONS","shape":7,"link":1999},{"name":"conditioning","localized_name":"conditioning","type":"CONDITIONING","shape":7,"link":null},{"name":"mask","localized_name":"mask","type":"MASK","shape":7,"link":null}],"outputs":[{"name":"cond_regions","localized_name":"cond_regions","type":"COND_REGIONS","links":[2000],"slot_index":0}],"properties":{"Node name for S&R":"ClownRegionalConditioning"},"widgets_values":[false,128]},{"id":651,"type":"Note","pos":[1041.0577392578125,2843.751953125],"size":[304.6747741699219,235.28672790527344],"flags":{},"order":90,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["SDE NOISE:\n\n\"eta\" represents how much noise the sampler adds after each step. If set to 0.0, the samplers will be \"ODEs\". If set to > 0.0, they will be \"SDEs\" and/or \"ancestral\". \n\nThe math has been carefully designed for both variance preserving and exploding models: results are particularly good with SD1.5, SDXL, Stable Cascade, Auraflow, SD3.5 Medium, and Flux. \n\nIn most cases, using eta will result in gains in quality and coherence when using at least 20 sampling steps. Best results are with 30 or more. \n"],"color":"#432","bgcolor":"#653"},{"id":638,"type":"Note","pos":[690,2842.6943359375],"size":[321.5638427734375,270.1020202636719],"flags":{},"order":91,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["SPEED:\n\nAll multistep samplers, like Euler, use one model call per step. Therefore, they run at the same speed.\n\nAll others have the number of model calls per step listed at the end of the name in terms of \"stages\" (abbreviated \"s\").\n\nTherefore, \"res_2s\" has 2 stages, and uses 2 model calls per step. Each step will take 2x as long as a Euler step. \"ralston_3s\" will take 3x as long.\n\nImplicit samplers benefit enormously from an extra model call to initialize each step. Therefore, \"gauss-legendre_2s\" will actually use 3 model calls per step.\n\n"],"color":"#432","bgcolor":"#653"},{"id":681,"type":"Note","pos":[691.0578002929688,3171.1572265625],"size":[320.96875,168.8627166748047],"flags":{},"order":92,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["IMPORTANT: the seed here is set to -1! \n\nThis means \"use the next available seed\" (which will be the most recently used seed + 1).\n\nThis setting is irrelevant if eta = 0.0. It is only used for SDE sampling (where noise is added after each step, the amount of which is controlled by \"eta\").\n\n"],"color":"#432","bgcolor":"#653"},{"id":801,"type":"Note","pos":[631.0161743164062,2693.894775390625],"size":[602.4559326171875,93.21308135986328],"flags":{},"order":93,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["MANY COMPLEX WORKFLOWS BECOME MUCH SIMPLER WHEN USING RES4LYF NODES.\n\nA great emphasis has been placed, during the design of these nodes, on usability - ensuring they are not just more powerful than the default KSampler nodes, and don't just provide superior results, but are also ultimately easier to use, encouraging experimentation. "],"color":"#432","bgcolor":"#653"},{"id":655,"type":"Note","pos":[2114.199951171875,2702.9755859375],"size":[321.8917236328125,108.77723693847656],"flags":{},"order":94,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["BONGMath is an algorithm unique to RES4LYF that vastly improves sampling quality and coherence in most cases, with little to no effect on sampling speed.\n\nIt has no effect when eta is set to 0. \n"],"color":"#432","bgcolor":"#653"},{"id":667,"type":"Note","pos":[2630,2720],"size":[242.25900268554688,198.10833740234375],"flags":{},"order":96,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["OPTIONS NODES:\n\nThese can be connected directly to ClownSampler, ClownSharkSampler, and SharkSampler, to control a variety of advanced parameters.\n\nSHARKoptions may be connected to SHARKsampler or clownSHARKsampler.\n\nCLOWNoptions may be connected to CLOWNsampler or CLOWNsharksampler."],"color":"#432","bgcolor":"#653"},{"id":669,"type":"Note","pos":[2894.58544921875,3200.53369140625],"size":[478.7455139160156,399.50189208984375],"flags":{},"order":97,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["ClownOptions_SDE controls the noise that is added after each step (or substep).\n\nNOISE TYPES:\n\nBrownian can give very good results, and is the \"correct\" noise type to use from a mathematical perspective. It does, however, result in a burned image with BONGMath when using many of the higher order samplers (the issue is with \"non-monotonic\" ones, which are typically those \n whose names end with \"5s\" or greater).\n\nNOISE MODES:\n\nThe \"noise mode\" controls how much noise is actually used after each step. The list is roughly sorted in order of strength (hard at the top being the strongest, hard_var at the bottom being the weakest - and the only one that uses \"mathematically correct\" scaling). \n\n\"Sinusoidal\" begins very weak, then becomes strong in the middle of the sampling process before losing strength again.\n\nThe \"soft\" noise types begin very strong, and drop off extremely rapidly.\n\nSUBSTEPS:\n\nAny sampler that is not euler or ddim uses information from multiple model calls (\"stages\") to predict the step. Multistep samplers reuse previous steps as \"stages\", whereas the rest make new model calls. \n\nThe settings for \"substep\" control these intermediate \"substeps\". If eta_substep is set to 0, BONGMath will have no effect."],"color":"#432","bgcolor":"#653"},{"id":661,"type":"ClownOptions_SDE_Beta","pos":[3414.8017578125,3262.863037109375],"size":[315,266],"flags":{},"order":98,"mode":0,"inputs":[{"name":"etas","localized_name":"etas","type":"SIGMAS","shape":7,"link":null},{"name":"etas_substep","localized_name":"etas_substep","type":"SIGMAS","shape":7,"link":null},{"name":"options","localized_name":"options","type":"OPTIONS","shape":7,"link":null}],"outputs":[{"name":"options","localized_name":"options","type":"OPTIONS","links":[1963],"slot_index":0}],"properties":{"Node name for S&R":"ClownOptions_SDE_Beta"},"widgets_values":["gaussian","gaussian","hard","hard",0.5,0.5,-1,"randomize"]},{"id":677,"type":"Note","pos":[2900,3650],"size":[471.3785095214844,160.20542907714844],"flags":{},"order":99,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["Overshoot > 0 causes the sampler to \"overshoot\" the step size, and then scale backwards to where it was really supposed to end. This is what all other SDE and ancestral sampler implementations do, though I have found it to adversely affect accuracy, especially with high eta values (> 0.7), resulting in softened, simplified images with little detail.\n\nHowever, careful use can soften images and deepen colors with pleasant results.\n\nTo mimic the behavior of the typical SDE and ancestral sampler implementations, set these settings to match those in ClownOptions_SDE."],"color":"#432","bgcolor":"#653"},{"id":683,"type":"Note","pos":[2900,5230],"size":[481.8527526855469,325.1487731933594],"flags":{},"order":100,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["RES4LYF heavily emphasizes giving you control over the sampling process!\n\nYou will often see these green \"sigmas\" inputs that aren't really for sigmas. These are used to control parameters on a step-by-step basis. \n\nIMPORTANT: The values used in the input here are multiplied by the value in ClownSampler/SharkSampler/ClownsharKSampler!\n\nFor example, the KarrasSchedule connected below creates a list of numbers:\n\n1.0, 1.0, 1.0, 1.0, 1.0\n\n(The rest is automatically filled in with 0.0.)\n\nThese are then multiplied by the value for \"eta\" (0.5) in the connected ClownsharKSampler node:\n\n0.5, 0.5, 0.5, 0.5, 0.5\n\nThe result is the sampler sets \"eta\" to 0.5 for the first 5 steps, and then 0.0 for every step after that. \n\nTry connecting something like the BetaScheduler while using \"beta57\" as your sampling scheduler!"],"color":"#432","bgcolor":"#653"},{"id":676,"type":"ClownOptions_StepSize_Beta","pos":[3420,3660],"size":[316.0789794921875,130],"flags":{},"order":101,"mode":0,"inputs":[{"name":"options","localized_name":"options","type":"OPTIONS","shape":7,"link":null}],"outputs":[{"name":"options","localized_name":"options","type":"OPTIONS","links":[1968],"slot_index":0}],"properties":{"Node name for S&R":"ClownOptions_StepSize_Beta"},"widgets_values":["hard","hard",0,0]},{"id":668,"type":"Note","pos":[2900,2720],"size":[476.7748718261719,425.3497314453125],"flags":{},"order":102,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["SharkOptions controls the initial noise generated before starting the sampling process. \n\nNOISE TYPES:\n\nPerlin is great with Stable Cascade, and with Flux will frequently result in a less blurred image (and a somewhat less saturated look, which can be helpful for realism).\n\nThe \"color\" noise modes have more low frequency information (structure), brown being greater than pink. White is neutral, while blue and especially violet have extra high frequency information (details).\n\nhires-pyramid-bicubic can generate exceptionally sharp images in many cases. The other pyramid noise types, and studentt, are often great for painterly styles.\n\nOTHER OPTIONS:\n\n\"noise_stdev\" increases the \"size\" of the noise. Values around 1.05 to 1.1 can have a wonderful effect with some painterly styles, with a boost in saturation.\n\n\"denoise_alt\" overrides the denoise setting. It has a very different effect that can often be easier to control when doing img2img generations with rectified flow models. (It scales the sigmas schedule, instead of slicing it).\n\n\"channelwise_cfg\" changes the cfg method used to one that can be very good with models that use a 16 channel VAE (SD3.5, Flux). Setting a negative value in the \"cfg\" box in any ClownsharKSampler or SharkSampler node is equivalent to using this toggle (for example, cfg = -2.0 is the same as setting cfg = 2.0, and channelwise_cfg = true)."],"color":"#432","bgcolor":"#653"},{"id":666,"type":"SharkOptions_Beta","pos":[3413.490478515625,2880],"size":[257.98193359375,130],"flags":{},"order":103,"mode":0,"inputs":[{"name":"options","localized_name":"options","type":"OPTIONS","shape":7,"link":null}],"outputs":[{"name":"options","localized_name":"options","type":"OPTIONS","links":[1962]}],"properties":{"Node name for S&R":"SharkOptions_Beta"},"widgets_values":["gaussian",1,1,false]},{"id":684,"type":"KarrasScheduler","pos":[3190,5610],"size":[210,130],"flags":{},"order":104,"mode":0,"inputs":[],"outputs":[{"name":"SIGMAS","localized_name":"SIGMAS","type":"SIGMAS","links":[1975,1976],"slot_index":0}],"properties":{"Node name for S&R":"KarrasScheduler"},"widgets_values":[5,1,1,1]},{"id":687,"type":"Note","pos":[2910,5610],"size":[257.2243957519531,88],"flags":{},"order":105,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["Tip: use SigmasPreview very heavily so that you can *see* what's going on!"],"color":"#432","bgcolor":"#653"},{"id":671,"type":"Note","pos":[3820,5080],"size":[363.5062255859375,260.6607971191406],"flags":{},"order":106,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["This node can be used to visualize the effect of different noise parameters on how much noise is actually added (or removed) during the sampling process.\n\nDelta (Δ) signifies change. So for example, Δt = step size.\n\nThe most important thing to look at is the original sigma (σ) schedule vs σup. \n\nThe difference between σ (white line) and σup (red line above) is how much noise is added by the sampler after each step. If the two overlap, you aren't adding noise, and it's in ODE mode (eta = 0.0).\n\nThe most important thing to try here is higher or lower eta values, and different noise_modes. Try comparing \"hard\" vs \"soft\" vs \"hard_var\" with eta = 0.5."],"color":"#432","bgcolor":"#653"},{"id":686,"type":"SigmasPreview","pos":[3430,5610],"size":[289.7076110839844,128.47837829589844],"flags":{},"order":187,"mode":0,"inputs":[{"name":"sigmas","localized_name":"sigmas","type":"SIGMAS","link":1976}],"outputs":[{"name":"IMAGE","localized_name":"IMAGE","type":"IMAGE","links":null}],"properties":{"Node name for S&R":"SigmasPreview"},"widgets_values":[false]},{"id":682,"type":"ClownOptions_Automation_Beta","pos":[3430,5250],"size":[284.9833984375,146],"flags":{},"order":186,"mode":0,"inputs":[{"name":"etas","localized_name":"etas","type":"SIGMAS","shape":7,"link":1975},{"name":"etas_substep","localized_name":"etas_substep","type":"SIGMAS","shape":7,"link":null},{"name":"s_noises","localized_name":"s_noises","type":"SIGMAS","shape":7,"link":null},{"name":"s_noises_substep","localized_name":"s_noises_substep","type":"SIGMAS","shape":7,"link":null},{"name":"epsilon_scales","localized_name":"epsilon_scales","type":"SIGMAS","shape":7,"link":null},{"name":"frame_weights","localized_name":"frame_weights","type":"SIGMAS","shape":7,"link":null},{"name":"options","localized_name":"options","type":"OPTIONS","shape":7,"link":null}],"outputs":[{"name":"options","localized_name":"options","type":"OPTIONS","links":[1974]}],"properties":{"Node name for S&R":"ClownOptions_Automation_Beta"},"widgets_values":[]},{"id":673,"type":"Note","pos":[2900.961181640625,4977.04736328125],"size":[480.85333251953125,190.63368225097656],"flags":{},"order":107,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["This option node can be very useful for SAVING TIME! \n\n\"swap_below_error\" is a tolerance threshold where, if the total error at each step falls below the value in the box, it will switch to the sampler specified here.\n\n\"log_err_to_console\" will print these values at each step to the terminal/console/cmd.exe window where ComfyUI is running. This is essential if you wish to choose a reasonable value for \"swap_below_err\".\n\n\"swap_at_step\" will switch after the step specified, no matter what. This is equivalent to chaining two samplers together as shown to the left - it's just more convenient and compact.\n"],"color":"#432","bgcolor":"#653"},{"id":665,"type":"ClownOptions_SwapSampler_Beta","pos":[3430.416015625,5008.54541015625],"size":[287.92266845703125,130],"flags":{},"order":108,"mode":0,"inputs":[{"name":"options","localized_name":"options","type":"OPTIONS","shape":7,"link":null}],"outputs":[{"name":"options","localized_name":"options","type":"OPTIONS","links":[1972],"slot_index":0}],"properties":{"Node name for S&R":"ClownOptions_SwapSampler_Beta"},"widgets_values":["multistep/res_3m",0,30,false]},{"id":798,"type":"ClownOptions_Momentum_Beta","pos":[3433.12158203125,4837.14990234375],"size":[286.6007995605469,58],"flags":{},"order":109,"mode":0,"inputs":[{"name":"options","localized_name":"options","type":"OPTIONS","shape":7,"link":null}],"outputs":[{"name":"options","localized_name":"options","type":"OPTIONS","links":[2003],"slot_index":0}],"properties":{"Node name for S&R":"ClownOptions_Momentum_Beta"},"widgets_values":[0.5]},{"id":803,"type":"Note","pos":[2904.318359375,4827.84912109375],"size":[481.74639892578125,88],"flags":{},"order":110,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["Momentum can be used to accelerate convergence in some cases. Use carefully.\n\nMay be best used with chained workflows, with momentum applied only to some portion of early steps."],"color":"#432","bgcolor":"#653"},{"id":672,"type":"Note","pos":[2904.900634765625,4490.91796875],"size":[483.2145690917969,270.3226623535156],"flags":{},"order":111,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["Implicit steps refine the sampling process by feeding the output of each step back into its input and rerunning it. This means setting either to \"1\" will increase the runtime 2x, as you're doubling the number of steps. \n\nThey can drastically increase quality. In some cases, results can actually be improved by cutting the step count in half, and running with implicit_steps=1 or implicit_substeps=1 (which results in an equivalent runtime).\n\nWith the other samplers, rebound will add one extra model call per step. \n\nBongmath and predictor-corrector can have significantly different effects. Rebound can as well (but also adds 1 model call per implicit step or substep).\n\nTRUE IMPLICIT SAMPLERS:\n\nIt is recommended to use \"implicit_steps\" with the \"fully_implicit\" samplers, and \"implicit_substeps\" with the \"diag_implicit\" samplers. Both of these sampler types will ignore the \"implicit_type\" settings.\n"],"color":"#432","bgcolor":"#653"},{"id":675,"type":"Note","pos":[2906.080322265625,4199.57763671875],"size":[474.05108642578125,230.29006958007812],"flags":{},"order":112,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["ClownOptions_DetailBoost aims to BREAK the noise scaling math that was so carefully prepared by ClownOptions_SDE. Most users see this as a replacement for the \"Detail Daemon\" node.\n\nTry experimenting with different methods: ones that end with \"normal\" will attempt to preserve luminosity in the image after the adjustments to the noise are made.\n\nIt is worth trying \"sinusoidal\" mode as well, as this is designed to be strongest at middle steps.\n\nEta will increase the intensity of the effect. \n\nIt seems to be best to not have this start on the first step (step 0), and to have it end no more than halfway (end_step = 1/2 of total steps or less). With method = \"model\", this seems to add a lot of detail without losing saturation, increasing luminosity, or triggering mutations."],"color":"#432","bgcolor":"#653"},{"id":763,"type":"ClownOptions_DetailBoost_Beta","pos":[3436.449462890625,4207.4345703125],"size":[282.9725646972656,218],"flags":{},"order":113,"mode":0,"inputs":[{"name":"weights","localized_name":"weights","type":"SIGMAS","shape":7,"link":null},{"name":"etas","localized_name":"etas","type":"SIGMAS","shape":7,"link":null},{"name":"options","localized_name":"options","type":"OPTIONS","shape":7,"link":null}],"outputs":[{"name":"options","localized_name":"options","type":"OPTIONS","links":[1991],"slot_index":0}],"properties":{"Node name for S&R":"ClownOptions_DetailBoost_Beta"},"widgets_values":[1,"model","hard",0.5,3,10]},{"id":761,"type":"Note","pos":[2905.32470703125,3869.700439453125],"size":[471.6525573730469,266.9491882324219],"flags":{},"order":114,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["ClownOptions_SigmaScaling aims to BREAK the noise scaling math that was so carefully prepared by ClownOptions_SDE.\n\n\"noise_anchor_sde\" can make the image look much dirtier with lower values. Try 0.5 for starters, especially with any non-multistep sampler.\n\n\"s_noise\" increases the \"size\" of the noise added with each step. Values around 1.05-1.1 can considerably boost saturation in painterly images. BONGMath is particularly good when this is set to values > 1.0.\n\n\"s_noise_substep\" is not compatible with BONGMath. You will get a terrible image if you use them together.\n\n\"lying\" is equivalent to the popular \"lying sigmas\" approach. Like \"noise_anchor\", values < 1.0 will increase the \"dirty\" look. Try starting with 0.95.\n\n\"lying_inv\" will do the opposite of \"lying\". If you find your images look \"dried out\" or desaturated when using lying, try setting this to a similar value, and have it start at a later step, as shown below."],"color":"#432","bgcolor":"#653"},{"id":760,"type":"ClownOptions_SigmaScaling_Beta","pos":[3436.542724609375,3886.986328125],"size":[272.21429443359375,454],"flags":{},"order":115,"mode":0,"inputs":[{"name":"s_noises","localized_name":"s_noises","type":"SIGMAS","shape":7,"link":null},{"name":"s_noises_substep","localized_name":"s_noises_substep","type":"SIGMAS","shape":7,"link":null},{"name":"options","localized_name":"options","type":"OPTIONS","shape":7,"link":null}],"outputs":[{"name":"options","localized_name":"options","type":"OPTIONS","links":[1990],"slot_index":0}],"properties":{"Node name for S&R":"ClownOptions_SigmaScaling_Beta"},"widgets_values":[1,1,1,0.9500000000000001,0.9500000000000001,2,8]},{"id":678,"type":"Note","pos":[3783.1923828125,4263.46484375],"size":[363.2837219238281,88],"flags":{},"order":116,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["Tip: if your results are too noisy,\ntry setting \"overshoot\" in \"ClownOptions StepSize\" to the same value as \"eta\" used in \"ClownOptions SDE\"! \n\n(Default eta is 0.50 if \"ClownOptions SDE\" is not used)."],"color":"#432","bgcolor":"#653"},{"id":806,"type":"ClownsharkChainsampler_Beta","pos":[5163.4833984375,2735.41357421875],"size":[262.0870056152344,298],"flags":{},"order":206,"mode":0,"inputs":[{"name":"model","localized_name":"model","type":"MODEL","shape":7,"link":null},{"name":"positive","localized_name":"positive","type":"CONDITIONING","shape":7,"link":null},{"name":"negative","localized_name":"negative","type":"CONDITIONING","shape":7,"link":null},{"name":"sigmas","localized_name":"sigmas","type":"SIGMAS","shape":7,"link":null},{"name":"latent_image","localized_name":"latent_image","type":"LATENT","shape":7,"link":2005},{"name":"guides","localized_name":"guides","type":"GUIDES","shape":7,"link":null},{"name":"options","localized_name":"options","type":"OPTIONS","shape":7,"link":null}],"outputs":[{"name":"output","localized_name":"output","type":"LATENT","links":null},{"name":"denoised","localized_name":"denoised","type":"LATENT","links":null},{"name":"options","localized_name":"options","type":"OPTIONS","links":null}],"properties":{"Node name for S&R":"ClownsharkChainsampler_Beta"},"widgets_values":[0.5,"multistep/res_2m",-1,5.5,"resample",true]},{"id":804,"type":"ClownsharKSampler_Beta","pos":[4552.6552734375,2734.24609375],"size":[268.7583312988281,418],"flags":{},"order":117,"mode":0,"inputs":[{"name":"model","localized_name":"model","type":"MODEL","shape":7,"link":null},{"name":"positive","localized_name":"positive","type":"CONDITIONING","shape":7,"link":null},{"name":"negative","localized_name":"negative","type":"CONDITIONING","shape":7,"link":null},{"name":"latent_image","localized_name":"latent_image","type":"LATENT","shape":7,"link":null},{"name":"sigmas","localized_name":"sigmas","type":"SIGMAS","shape":7,"link":null},{"name":"guides","localized_name":"guides","type":"GUIDES","shape":7,"link":null},{"name":"options","localized_name":"options","type":"OPTIONS","shape":7,"link":null}],"outputs":[{"name":"output","localized_name":"output","type":"LATENT","links":[2004],"slot_index":0},{"name":"denoised","localized_name":"denoised","type":"LATENT","links":null},{"name":"options","localized_name":"options","type":"OPTIONS","links":null}],"properties":{"Node name for S&R":"ClownsharKSampler_Beta"},"widgets_values":[0.5,"multistep/res_2m","beta57",20,14,1,5.5,0,"fixed","unsample",true]},{"id":805,"type":"ClownsharkChainsampler_Beta","pos":[4861.5244140625,2737.638671875],"size":[262.0870056152344,318],"flags":{},"order":188,"mode":0,"inputs":[{"name":"model","localized_name":"model","type":"MODEL","shape":7,"link":null},{"name":"positive","localized_name":"positive","type":"CONDITIONING","shape":7,"link":null},{"name":"negative","localized_name":"negative","type":"CONDITIONING","shape":7,"link":null},{"name":"sigmas","localized_name":"sigmas","type":"SIGMAS","shape":7,"link":null},{"name":"latent_image","localized_name":"latent_image","type":"LATENT","shape":7,"link":2004},{"name":"guides","localized_name":"guides","type":"GUIDES","shape":7,"link":null},{"name":"options","localized_name":"options","type":"OPTIONS","shape":7,"link":2006},{"name":"options 2","type":"OPTIONS","link":null}],"outputs":[{"name":"output","localized_name":"output","type":"LATENT","links":[2005],"slot_index":0},{"name":"denoised","localized_name":"denoised","type":"LATENT","links":null},{"name":"options","localized_name":"options","type":"OPTIONS","links":null}],"properties":{"Node name for S&R":"ClownsharkChainsampler_Beta"},"widgets_values":[0.5,"multistep/res_2m",1,5.5,"resample",true]},{"id":808,"type":"Note","pos":[4806.57275390625,3320.429443359375],"size":[384.6367492675781,194.1151580810547],"flags":{},"order":118,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["ClownOptions Cycles causes the sampler node to rerun after completion, while reversing the sampling mode (resample becomes unsample, unsample becomes resample). \n\n1.0 cycles implies it returns to where it began. \n\n1.5 cycles implies it returns to where it began, then reverses direction and reruns one last time - so it would end at the end of the step.\n\nThis often has VERY good results with unsampling workflows, various img2img workflows, style transfer, etc. With 1 steps_to_run, it's a lot like \"ClownOptions Implicit\", though results are often better."],"color":"#432","bgcolor":"#653"},{"id":717,"type":"Note","pos":[2635.989501953125,4579.111328125],"size":[237.44444274902344,91.61251831054688],"flags":{},"order":119,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["INPAINTING TIP: Implicit steps can really help, especially with seams! They also can have a significant impact on unsampling, and guides in general."],"color":"#432","bgcolor":"#653"},{"id":662,"type":"ClownOptions_ImplicitSteps_Beta","pos":[3440.08251953125,4551.392578125],"size":[286.5861511230469,130],"flags":{},"order":120,"mode":0,"inputs":[{"name":"options","localized_name":"options","type":"OPTIONS","shape":7,"link":null}],"outputs":[{"name":"options","localized_name":"options","type":"OPTIONS","links":[1971],"slot_index":0}],"properties":{"Node name for S&R":"ClownOptions_ImplicitSteps_Beta"},"widgets_values":["bongmath","bongmath",0,0]},{"id":811,"type":"ClownOptions_Cycles_Beta","pos":[3860.137451171875,4546.62158203125],"size":[261.53253173828125,202],"flags":{},"order":121,"mode":0,"inputs":[{"name":"options","localized_name":"options","type":"OPTIONS","shape":7,"link":null}],"outputs":[{"name":"options","localized_name":"options","type":"OPTIONS","links":[2007],"slot_index":0}],"properties":{"Node name for S&R":"ClownOptions_Cycles_Beta"},"widgets_values":[5,1,0.5,1,-1,1,false]},{"id":812,"type":"Note","pos":[3846.717041015625,4748.94482421875],"size":[308.37188720703125,88],"flags":{},"order":122,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["This node is closely related to ImplicitSteps! It is explained in more detail in the \"Cyclosampling\" group above and to the right (northeast)."],"color":"#432","bgcolor":"#653"},{"id":807,"type":"ClownOptions_Cycles_Beta","pos":[4863.31494140625,3128.078125],"size":[261.53253173828125,202],"flags":{},"order":123,"mode":0,"inputs":[{"name":"options","localized_name":"options","type":"OPTIONS","shape":7,"link":null}],"outputs":[{"name":"options","localized_name":"options","type":"OPTIONS","links":[2006]}],"properties":{"Node name for S&R":"ClownOptions_Cycles_Beta"},"widgets_values":[5,1,0.5,5.5,-1,1,false]},{"id":818,"type":"Note","pos":[5294.46533203125,3122.492431640625],"size":[309.0342712402344,192.40728759765625],"flags":{},"order":124,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["eta_decay_scale multiplies the eta by that value after each cycle. This can help the cyclosampling process converge on an output. \n\nFor example, if you started with an eta of 0.5, and eta_decay_scale is set to 0.9, the following etas will be used for successive cycles:\n\n0.5\n0.45   (0.5 * 0.9)\n0.405  (0.5 * 0.9 * 0.9)\n0.3645 (0.5 * 0.9 * 0.9 * 0.9)"],"color":"#432","bgcolor":"#653"},{"id":809,"type":"ClownsharkChainsampler_Beta","pos":[5704.94384765625,2739.097900390625],"size":[262.0870056152344,318],"flags":{},"order":190,"mode":0,"inputs":[{"name":"model","localized_name":"model","type":"MODEL","shape":7,"link":null},{"name":"positive","localized_name":"positive","type":"CONDITIONING","shape":7,"link":null},{"name":"negative","localized_name":"negative","type":"CONDITIONING","shape":7,"link":null},{"name":"sigmas","localized_name":"sigmas","type":"SIGMAS","shape":7,"link":null},{"name":"latent_image","localized_name":"latent_image","type":"LATENT","shape":7,"link":null},{"name":"guides","localized_name":"guides","type":"GUIDES","shape":7,"link":null},{"name":"options","localized_name":"options","type":"OPTIONS","shape":7,"link":2009},{"name":"options 2","type":"OPTIONS","link":null}],"outputs":[{"name":"output","localized_name":"output","type":"LATENT","links":[],"slot_index":0},{"name":"denoised","localized_name":"denoised","type":"LATENT","links":null},{"name":"options","localized_name":"options","type":"OPTIONS","links":null}],"properties":{"Node name for S&R":"ClownsharkChainsampler_Beta"},"widgets_values":[0.5,"multistep/res_2m",5,5.5,"resample",true],"color":"#2a363b","bgcolor":"#3f5159"},{"id":814,"type":"ClownsharkChainsampler_Beta","pos":[6042.30615234375,2736.216064453125],"size":[262.0870056152344,318],"flags":{},"order":125,"mode":0,"inputs":[{"name":"model","localized_name":"model","type":"MODEL","shape":7,"link":null},{"name":"positive","localized_name":"positive","type":"CONDITIONING","shape":7,"link":null},{"name":"negative","localized_name":"negative","type":"CONDITIONING","shape":7,"link":null},{"name":"sigmas","localized_name":"sigmas","type":"SIGMAS","shape":7,"link":null},{"name":"latent_image","localized_name":"latent_image","type":"LATENT","shape":7,"link":null},{"name":"guides","localized_name":"guides","type":"GUIDES","shape":7,"link":null},{"name":"options","localized_name":"options","type":"OPTIONS","shape":7,"link":null},{"name":"options 2","type":"OPTIONS","link":null}],"outputs":[{"name":"output","localized_name":"output","type":"LATENT","links":[2010],"slot_index":0},{"name":"denoised","localized_name":"denoised","type":"LATENT","links":null},{"name":"options","localized_name":"options","type":"OPTIONS","links":null}],"properties":{"Node name for S&R":"ClownsharkChainsampler_Beta"},"widgets_values":[0.5,"multistep/res_2m",5,0.5,"resample",true],"color":"#2a363b","bgcolor":"#3f5159"},{"id":815,"type":"ClownsharkChainsampler_Beta","pos":[6327.12060546875,2732.67724609375],"size":[262.0870056152344,318],"flags":{},"order":189,"mode":0,"inputs":[{"name":"model","localized_name":"model","type":"MODEL","shape":7,"link":null},{"name":"positive","localized_name":"positive","type":"CONDITIONING","shape":7,"link":null},{"name":"negative","localized_name":"negative","type":"CONDITIONING","shape":7,"link":null},{"name":"sigmas","localized_name":"sigmas","type":"SIGMAS","shape":7,"link":null},{"name":"latent_image","localized_name":"latent_image","type":"LATENT","shape":7,"link":2010},{"name":"guides","localized_name":"guides","type":"GUIDES","shape":7,"link":null},{"name":"options","localized_name":"options","type":"OPTIONS","shape":7,"link":null},{"name":"options 2","type":"OPTIONS","link":null}],"outputs":[{"name":"output","localized_name":"output","type":"LATENT","links":[2011],"slot_index":0},{"name":"denoised","localized_name":"denoised","type":"LATENT","links":null},{"name":"options","localized_name":"options","type":"OPTIONS","links":null}],"properties":{"Node name for S&R":"ClownsharkChainsampler_Beta"},"widgets_values":[0.25,"multistep/res_2m",5,4,"unsample",true],"color":"#233","bgcolor":"#355"},{"id":817,"type":"ClownsharkChainsampler_Beta","pos":[6619.41552734375,2730.05029296875],"size":[262.0870056152344,318],"flags":{},"order":207,"mode":0,"inputs":[{"name":"model","localized_name":"model","type":"MODEL","shape":7,"link":null},{"name":"positive","localized_name":"positive","type":"CONDITIONING","shape":7,"link":null},{"name":"negative","localized_name":"negative","type":"CONDITIONING","shape":7,"link":null},{"name":"sigmas","localized_name":"sigmas","type":"SIGMAS","shape":7,"link":null},{"name":"latent_image","localized_name":"latent_image","type":"LATENT","shape":7,"link":2011},{"name":"guides","localized_name":"guides","type":"GUIDES","shape":7,"link":null},{"name":"options","localized_name":"options","type":"OPTIONS","shape":7,"link":null},{"name":"options 2","type":"OPTIONS","link":null}],"outputs":[{"name":"output","localized_name":"output","type":"LATENT","links":[],"slot_index":0},{"name":"denoised","localized_name":"denoised","type":"LATENT","links":null},{"name":"options","localized_name":"options","type":"OPTIONS","links":null}],"properties":{"Node name for S&R":"ClownsharkChainsampler_Beta"},"widgets_values":[0.5,"multistep/res_2m",5,0.5,"resample",true],"color":"#2a363b","bgcolor":"#3f5159"},{"id":810,"type":"Note","pos":[5840.63916015625,3313.710693359375],"size":[333.3376770019531,103.0768051147461],"flags":{},"order":126,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["The two setups above are equivalent. \n\nI suggest running \"ClownOptions Cycles\" with 10 steps_to_run and just watching the progress bar. It's easier to understand visually."],"color":"#2a363b","bgcolor":"#3f5159"},{"id":813,"type":"ClownOptions_Cycles_Beta","pos":[5706.35546875,3124.623291015625],"size":[261.53253173828125,202],"flags":{},"order":127,"mode":0,"inputs":[{"name":"options","localized_name":"options","type":"OPTIONS","shape":7,"link":null}],"outputs":[{"name":"options","localized_name":"options","type":"OPTIONS","links":[2009],"slot_index":0}],"properties":{"Node name for S&R":"ClownOptions_Cycles_Beta"},"widgets_values":[1,1,0.25,4,-1,1,false],"color":"#233","bgcolor":"#355"},{"id":816,"type":"Note","pos":[6323.08056640625,3110.669189453125],"size":[274.8790588378906,88],"flags":{},"order":128,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["Compare these settings to the \"ClownOptions Cycles\" node to the left (eta 0.25, cfg 4.0).\n"],"color":"#233","bgcolor":"#355"},{"id":692,"type":"ReFluxPatcher","pos":[7490,3210],"size":[210,82],"flags":{},"order":191,"mode":0,"inputs":[{"name":"model","localized_name":"model","type":"MODEL","link":1978}],"outputs":[{"name":"model","localized_name":"model","type":"MODEL","links":[1979],"slot_index":0}],"properties":{"Node name for S&R":"ReFluxPatcher"},"widgets_values":["float32",true]},{"id":820,"type":"Note","pos":[7770,3350],"size":[251.27003479003906,88],"flags":{},"order":129,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["THIS NODE IS NOT REQUIRED!\n\nEXPERIMENTAL!"],"color":"#432","bgcolor":"#653"},{"id":693,"type":"FluxLoader","pos":[7090,3210],"size":[315,282],"flags":{},"order":130,"mode":0,"inputs":[],"outputs":[{"name":"model","localized_name":"model","type":"MODEL","links":[1978],"slot_index":0},{"name":"clip","localized_name":"clip","type":"CLIP","links":null},{"name":"vae","localized_name":"vae","type":"VAE","links":null},{"name":"clip_vision","localized_name":"clip_vision","type":"CLIP_VISION","links":null},{"name":"style_model","localized_name":"style_model","type":"STYLE_MODEL","links":null}],"properties":{"Node name for S&R":"FluxLoader"},"widgets_values":["consolidated_s6700.safetensors","default",".use_ckpt_clip",".none",".use_ckpt_vae","sigclip_vision_patch14_384.safetensors","flux1-redux-dev.safetensors"]},{"id":819,"type":"ClownModelLoader","pos":[7090,2740],"size":[315,266],"flags":{},"order":131,"mode":0,"inputs":[],"outputs":[{"name":"model","localized_name":"model","type":"MODEL","links":null},{"name":"clip","localized_name":"clip","type":"CLIP","links":null},{"name":"vae","localized_name":"vae","type":"VAE","links":null}],"properties":{"Node name for S&R":"ClownModelLoader"},"widgets_values":["hidream_i1_full_fp8.safetensors","fp8_e4m3fn","clip_g_hidream.safetensors","clip_l_hidream.safetensors","t5xxl_fp8_e4m3fn_scaled.safetensors","llama_3.1_8b_instruct_fp8_scaled.safetensors","hidream","ae.sft"]},{"id":698,"type":"Note","pos":[8098.36279296875,3386.5087890625],"size":[282.65814208984375,92.654541015625],"flags":{},"order":132,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["This node is similar ModelSamplingAdvanced, except it uses the dimensions of the latent image to set the shift value."],"color":"#432","bgcolor":"#653"},{"id":795,"type":"Image Sharpen FS","pos":[8812.0927734375,2744.748046875],"size":[210,106],"flags":{},"order":133,"mode":0,"inputs":[{"name":"images","localized_name":"images","type":"IMAGE","link":null}],"outputs":[{"name":"image","localized_name":"image","type":"IMAGE","links":null}],"properties":{"Node name for S&R":"Image Sharpen FS"},"widgets_values":["hard","median",6]},{"id":821,"type":"Note","pos":[8531.4560546875,2746.428466796875],"size":[211.12799072265625,95.03887939453125],"flags":{},"order":134,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["Unique method for sharpening images. Can add a lot of \"pop\" to SDXL and AuraFlow outputs that otherwise look soft due to the 4 channel VAE."],"color":"#432","bgcolor":"#653"},{"id":796,"type":"Image Grain Add","pos":[8819.529296875,2974.022216796875],"size":[210,58],"flags":{},"order":135,"mode":0,"inputs":[{"name":"image","localized_name":"image","type":"IMAGE","link":null}],"outputs":[{"name":"IMAGE","localized_name":"IMAGE","type":"IMAGE","links":null}],"properties":{"Node name for S&R":"Image Grain Add"},"widgets_values":[0.5]},{"id":822,"type":"Note","pos":[8537.251953125,2954.097412109375],"size":[210.33291625976562,88],"flags":{},"order":136,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["Very useful with ClipVision, IPadapter, etc. for avoiding blurry or blown out/oversaturated outputs."],"color":"#432","bgcolor":"#653"},{"id":797,"type":"Image Repeat Tile To Size","pos":[8819.0595703125,3152.188720703125],"size":[210,106],"flags":{},"order":137,"mode":0,"inputs":[{"name":"image","localized_name":"image","type":"IMAGE","link":null}],"outputs":[{"name":"image","localized_name":"image","type":"IMAGE","links":null}],"properties":{"Node name for S&R":"Image Repeat Tile To Size"},"widgets_values":[1024,1024,true]},{"id":823,"type":"Note","pos":[8541.458984375,3162.56103515625],"size":[229.4075927734375,156.3510284423828],"flags":{},"order":138,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["Use in conjunction with \"ClownGuide Style\" when upscaling to prevent blurry outputs. \n\nWhen used wisely (not applied to all steps), this can improve results dramatically.\n\nConnect your original (unresized) input image to this node."],"color":"#432","bgcolor":"#653"},{"id":828,"type":"PreviewImage","pos":[9950,2830],"size":[210,26],"flags":{},"order":216,"mode":0,"inputs":[{"name":"images","localized_name":"images","type":"IMAGE","link":2015}],"outputs":[],"properties":{"Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":829,"type":"PreviewImage","pos":[9950,3220],"size":[210,26],"flags":{},"order":218,"mode":0,"inputs":[{"name":"images","localized_name":"images","type":"IMAGE","link":2018}],"outputs":[],"properties":{"Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":825,"type":"Frequency Separation Hard Light","pos":[9990,3070],"size":[260.3999938964844,66],"flags":{},"order":217,"mode":0,"inputs":[{"name":"high_pass","localized_name":"high_pass","type":"IMAGE","shape":7,"link":2016},{"name":"original","localized_name":"original","type":"IMAGE","shape":7,"link":null},{"name":"low_pass","localized_name":"low_pass","type":"IMAGE","shape":7,"link":2017}],"outputs":[{"name":"high_pass","localized_name":"high_pass","type":"IMAGE","links":null},{"name":"original","localized_name":"original","type":"IMAGE","links":[2019],"slot_index":1},{"name":"low_pass","localized_name":"low_pass","type":"IMAGE","links":null}],"properties":{"Node name for S&R":"Frequency Separation Hard Light"},"widgets_values":[]},{"id":830,"type":"PreviewImage","pos":[10300,3090],"size":[210,26],"flags":{},"order":223,"mode":0,"inputs":[{"name":"images","localized_name":"images","type":"IMAGE","link":2019}],"outputs":[],"properties":{"Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":831,"type":"Note","pos":[9205.6611328125,2745.06982421875],"size":[293.7847900390625,149.87860107421875],"flags":{},"order":139,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["Unique frequency separation method. Try combining the low pass layer from one image, and the high pass layer from another, such as with faces with carefully matched overlapping alignment, or other scenes. Better at transferring compositional information such as lighting and hue than the frequency separation method in Photoshop."],"color":"#432","bgcolor":"#653"},{"id":827,"type":"Image Median Blur","pos":[9443.4658203125,3153.701416015625],"size":[210,58],"flags":{},"order":192,"mode":0,"inputs":[{"name":"images","localized_name":"images","type":"IMAGE","link":2013}],"outputs":[{"name":"image","localized_name":"image","type":"IMAGE","links":[2014],"slot_index":0}],"properties":{"Node name for S&R":"Image Median Blur"},"widgets_values":[40]},{"id":832,"type":"Image Gaussian Blur","pos":[9442.099609375,3277.42578125],"size":[210,58],"flags":{},"order":140,"mode":0,"inputs":[{"name":"images","localized_name":"images","type":"IMAGE","link":null}],"outputs":[{"name":"image","localized_name":"image","type":"IMAGE","links":null}],"properties":{"Node name for S&R":"Image Gaussian Blur"},"widgets_values":[40]},{"id":824,"type":"Frequency Separation Hard Light","pos":[9680,3070],"size":[260.3999938964844,66],"flags":{},"order":209,"mode":0,"inputs":[{"name":"high_pass","localized_name":"high_pass","type":"IMAGE","shape":7,"link":null},{"name":"original","localized_name":"original","type":"IMAGE","shape":7,"link":2012},{"name":"low_pass","localized_name":"low_pass","type":"IMAGE","shape":7,"link":2014}],"outputs":[{"name":"high_pass","localized_name":"high_pass","type":"IMAGE","links":[2015,2016],"slot_index":0},{"name":"original","localized_name":"original","type":"IMAGE","links":null},{"name":"low_pass","localized_name":"low_pass","type":"IMAGE","links":[2017,2018],"slot_index":2}],"properties":{"Node name for S&R":"Frequency Separation Hard Light"},"widgets_values":[]},{"id":833,"type":"Note","pos":[9539.69921875,2749.275146484375],"size":[255.63558959960938,88],"flags":{},"order":141,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["Median blur is edge-aware, and usually gives better results than gaussian blur, if images are carefully aligned first."],"color":"#432","bgcolor":"#653"},{"id":840,"type":"Frequency Separation Hard Light","pos":[11160,3190],"size":[260.3999938964844,66],"flags":{},"order":211,"mode":0,"inputs":[{"name":"high_pass","localized_name":"high_pass","type":"IMAGE","shape":7,"link":null},{"name":"original","localized_name":"original","type":"IMAGE","shape":7,"link":2025},{"name":"low_pass","localized_name":"low_pass","type":"IMAGE","shape":7,"link":2026}],"outputs":[{"name":"high_pass","localized_name":"high_pass","type":"IMAGE","links":[],"slot_index":0},{"name":"original","localized_name":"original","type":"IMAGE","links":null},{"name":"low_pass","localized_name":"low_pass","type":"IMAGE","links":[2022],"slot_index":2}],"properties":{"Node name for S&R":"Frequency Separation Hard Light"},"widgets_values":[]},{"id":838,"type":"Image Median Blur","pos":[10920,3270],"size":[210,58],"flags":{},"order":194,"mode":0,"inputs":[{"name":"images","localized_name":"images","type":"IMAGE","link":2024}],"outputs":[{"name":"image","localized_name":"image","type":"IMAGE","links":[2026],"slot_index":0}],"properties":{"Node name for S&R":"Image Median Blur"},"widgets_values":[40]},{"id":842,"type":"Image Median Blur","pos":[10930,3010],"size":[210,58],"flags":{},"order":193,"mode":0,"inputs":[{"name":"images","localized_name":"images","type":"IMAGE","link":2031}],"outputs":[{"name":"image","localized_name":"image","type":"IMAGE","links":[2032],"slot_index":0}],"properties":{"Node name for S&R":"Image Median Blur"},"widgets_values":[40]},{"id":826,"type":"LoadImage","pos":[9212.66796875,3090.664306640625],"size":[210,314],"flags":{},"order":142,"mode":0,"inputs":[],"outputs":[{"name":"IMAGE","localized_name":"IMAGE","type":"IMAGE","links":[2012,2013],"slot_index":0},{"name":"MASK","localized_name":"MASK","type":"MASK","links":null}],"properties":{"Node name for S&R":"LoadImage"},"widgets_values":["00107-496528661.png","image"]},{"id":843,"type":"LoadImage","pos":[10690,2920],"size":[210,314],"flags":{},"order":143,"mode":0,"inputs":[],"outputs":[{"name":"IMAGE","localized_name":"IMAGE","type":"IMAGE","links":[2030,2031],"slot_index":0},{"name":"MASK","localized_name":"MASK","type":"MASK","links":null}],"properties":{"Node name for S&R":"LoadImage"},"widgets_values":["00109-3396456281.png","image"]},{"id":835,"type":"Frequency Separation Hard Light","pos":[11480,3030],"size":[260.3999938964844,66],"flags":{},"order":219,"mode":0,"inputs":[{"name":"high_pass","localized_name":"high_pass","type":"IMAGE","shape":7,"link":2033},{"name":"original","localized_name":"original","type":"IMAGE","shape":7,"link":null},{"name":"low_pass","localized_name":"low_pass","type":"IMAGE","shape":7,"link":2022}],"outputs":[{"name":"high_pass","localized_name":"high_pass","type":"IMAGE","links":null},{"name":"original","localized_name":"original","type":"IMAGE","links":[2023],"slot_index":1},{"name":"low_pass","localized_name":"low_pass","type":"IMAGE","links":null}],"properties":{"Node name for S&R":"Frequency Separation Hard Light"},"widgets_values":[]},{"id":837,"type":"PreviewImage","pos":[11800,3050],"size":[210,26],"flags":{},"order":224,"mode":0,"inputs":[{"name":"images","localized_name":"images","type":"IMAGE","link":2023}],"outputs":[],"properties":{"Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":841,"type":"Frequency Separation Hard Light","pos":[11160,2910],"size":[260.3999938964844,66],"flags":{},"order":210,"mode":0,"inputs":[{"name":"high_pass","localized_name":"high_pass","type":"IMAGE","shape":7,"link":null},{"name":"original","localized_name":"original","type":"IMAGE","shape":7,"link":2030},{"name":"low_pass","localized_name":"low_pass","type":"IMAGE","shape":7,"link":2032}],"outputs":[{"name":"high_pass","localized_name":"high_pass","type":"IMAGE","links":[2033],"slot_index":0},{"name":"original","localized_name":"original","type":"IMAGE","links":null},{"name":"low_pass","localized_name":"low_pass","type":"IMAGE","links":[],"slot_index":2}],"properties":{"Node name for S&R":"Frequency Separation Hard Light"},"widgets_values":[]},{"id":836,"type":"LoadImage","pos":[10680,3210],"size":[213.1792755126953,314],"flags":{},"order":144,"mode":0,"inputs":[],"outputs":[{"name":"IMAGE","localized_name":"IMAGE","type":"IMAGE","links":[2024,2025],"slot_index":0},{"name":"MASK","localized_name":"MASK","type":"MASK","links":null}],"properties":{"Node name for S&R":"LoadImage"},"widgets_values":["00107-496528661.png","image"]},{"id":844,"type":"Note","pos":[10287.0224609375,3208.888916015625],"size":[255.63558959960938,88],"flags":{},"order":145,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["This will output the original image."],"color":"#432","bgcolor":"#653"},{"id":845,"type":"Note","pos":[11723.419921875,2862.596923828125],"size":[285.8372497558594,88.79490661621094],"flags":{},"order":146,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["This will combine high frequency (detail) information from the first image with the low frequency (color, hue, lighting) information from the second image."],"color":"#432","bgcolor":"#653"},{"id":794,"type":"Image Get Color Swatches","pos":[8580,5060],"size":[295.6000061035156,26],"flags":{},"order":147,"mode":0,"inputs":[{"name":"image_color_swatches","localized_name":"image_color_swatches","type":"IMAGE","link":null}],"outputs":[{"name":"color_swatches","localized_name":"color_swatches","type":"COLOR_SWATCHES","links":[2034],"slot_index":0}],"properties":{"Node name for S&R":"Image Get Color Swatches"},"widgets_values":[]},{"id":848,"type":"Note","pos":[8750,4900],"size":[328.192138671875,88],"flags":{},"order":148,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["This configuration is equivalent to \"Masks From Colors\"."],"color":"#432","bgcolor":"#653"},{"id":792,"type":"Masks From Color Swatches","pos":[8900,5040],"size":[315,46],"flags":{},"order":195,"mode":0,"inputs":[{"name":"image_color_mask","localized_name":"image_color_mask","type":"IMAGE","link":null},{"name":"color_swatches","localized_name":"color_swatches","type":"COLOR_SWATCHES","link":2034}],"outputs":[{"name":"masks","localized_name":"masks","type":"MASK","links":null}],"properties":{"Node name for S&R":"Masks From Color Swatches"},"widgets_values":[]},{"id":851,"type":"Masks Unpack 8","pos":[9280,4590],"size":[140,166],"flags":{},"order":149,"mode":0,"inputs":[{"name":"masks","localized_name":"masks","type":"MASK","link":null}],"outputs":[{"name":"masks","localized_name":"masks","type":"MASK","links":null},{"name":"masks","localized_name":"masks","type":"MASK","links":null},{"name":"masks","localized_name":"masks","type":"MASK","links":null},{"name":"masks","localized_name":"masks","type":"MASK","links":null},{"name":"masks","localized_name":"masks","type":"MASK","links":null},{"name":"masks","localized_name":"masks","type":"MASK","links":null},{"name":"masks","localized_name":"masks","type":"MASK","links":null},{"name":"masks","localized_name":"masks","type":"MASK","links":null}],"properties":{"Node name for S&R":"Masks Unpack 8"},"widgets_values":[]},{"id":852,"type":"Masks Unpack 4","pos":[9280,4430],"size":[140,86],"flags":{},"order":150,"mode":0,"inputs":[{"name":"masks","localized_name":"masks","type":"MASK","link":null}],"outputs":[{"name":"masks","localized_name":"masks","type":"MASK","links":null},{"name":"masks","localized_name":"masks","type":"MASK","links":null},{"name":"masks","localized_name":"masks","type":"MASK","links":null},{"name":"masks","localized_name":"masks","type":"MASK","links":null}],"properties":{"Node name for S&R":"Masks Unpack 4"},"widgets_values":[]},{"id":849,"type":"Note","pos":[8590,4370],"size":[296.4569396972656,149.35540771484375],"flags":{},"order":151,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["image_color_swatches:\n\nThis is an image with colors drawn one at a time, top to bottom. It will set the order of the masks outputted in the connected \"unpack\" node to be the same as the order they appear in the \"swatches\" image.\n\nNote: white is the background and is ignored!"],"color":"#432","bgcolor":"#653"},{"id":793,"type":"Masks From Colors","pos":[8910,4430],"size":[330,46],"flags":{},"order":152,"mode":0,"inputs":[{"name":"image_color_swatches","localized_name":"image_color_swatches","type":"IMAGE","link":null},{"name":"image_color_mask","localized_name":"image_color_mask","type":"IMAGE","link":null}],"outputs":[{"name":"masks","localized_name":"masks","type":"MASK","links":[2036,2037],"slot_index":0}],"properties":{"Node name for S&R":"Masks From Colors"},"widgets_values":[]},{"id":855,"type":"MaskPreview+","pos":[8970,4590],"size":[210,26],"flags":{},"order":197,"mode":0,"inputs":[{"name":"mask","localized_name":"mask","type":"MASK","link":2037}],"outputs":[],"properties":{"Node name for S&R":"MaskPreview+"},"widgets_values":[]},{"id":854,"type":"Note","pos":[8600,4580],"size":[284.8203125,146.1818084716797],"flags":{},"order":153,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["image_color_mask:\n\nDraw a mask using the same colors used in the swatches. \n\nI *strongly* suggest using Mask Preview as shown to the right to get a feel for this."],"color":"#432","bgcolor":"#653"},{"id":847,"type":"MaskFromRGBCMYBW+","pos":[8300,4640],"size":[224.02476501464844,246],"flags":{},"order":154,"mode":0,"inputs":[{"name":"image","localized_name":"image","type":"IMAGE","link":null}],"outputs":[{"name":"red","localized_name":"red","type":"MASK","links":null},{"name":"green","localized_name":"green","type":"MASK","links":null},{"name":"blue","localized_name":"blue","type":"MASK","links":null},{"name":"cyan","localized_name":"cyan","type":"MASK","links":null},{"name":"magenta","localized_name":"magenta","type":"MASK","links":null},{"name":"yellow","localized_name":"yellow","type":"MASK","links":null},{"name":"black","localized_name":"black","type":"MASK","links":null},{"name":"white","localized_name":"white","type":"MASK","links":null}],"properties":{"Node name for S&R":"MaskFromRGBCMYBW+"},"widgets_values":[0.15,0.15,0.15]},{"id":846,"type":"Note","pos":[8270,4370],"size":[286.9356994628906,206.45907592773438],"flags":{},"order":155,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["These nodes can be useful in situations where you want to composite complex masks with many regions, without overlap, and without missing areas. They allow these to be made easily in an editor such as MSPaint.\n\nThey are somewhat similar in function to the node shown below from ComfyUI Essentials. They will all get the job done. The only advantage of the \"Masks From Colors\" nodes is that any color may be used, theoretically allowing dozens of zones to be drawn. For 8 or fewer zones (most cases) either may be used."],"color":"#432","bgcolor":"#653"},{"id":850,"type":"Masks Unpack 16","pos":[9280,4840],"size":[140,326],"flags":{},"order":196,"mode":0,"inputs":[{"name":"masks","localized_name":"masks","type":"MASK","link":2036}],"outputs":[{"name":"masks","localized_name":"masks","type":"MASK","links":null},{"name":"masks","localized_name":"masks","type":"MASK","links":null},{"name":"masks","localized_name":"masks","type":"MASK","links":null},{"name":"masks","localized_name":"masks","type":"MASK","links":null},{"name":"masks","localized_name":"masks","type":"MASK","links":null},{"name":"masks","localized_name":"masks","type":"MASK","links":null},{"name":"masks","localized_name":"masks","type":"MASK","links":null},{"name":"masks","localized_name":"masks","type":"MASK","links":null},{"name":"masks","localized_name":"masks","type":"MASK","links":null},{"name":"masks","localized_name":"masks","type":"MASK","links":null},{"name":"masks","localized_name":"masks","type":"MASK","links":null},{"name":"masks","localized_name":"masks","type":"MASK","links":null},{"name":"masks","localized_name":"masks","type":"MASK","links":null},{"name":"masks","localized_name":"masks","type":"MASK","links":null},{"name":"masks","localized_name":"masks","type":"MASK","links":null},{"name":"masks","localized_name":"masks","type":"MASK","links":null}],"properties":{"Node name for S&R":"Masks Unpack 16"},"widgets_values":[]},{"id":858,"type":"VAEEncode","pos":[12693.298828125,3026.815673828125],"size":[140,46],"flags":{},"order":212,"mode":0,"inputs":[{"name":"pixels","localized_name":"pixels","type":"IMAGE","link":2039},{"name":"vae","localized_name":"vae","type":"VAE","link":null}],"outputs":[{"name":"LATENT","localized_name":"LATENT","type":"LATENT","links":[2040],"slot_index":0}],"properties":{"Node name for S&R":"VAEEncode"},"widgets_values":[]},{"id":862,"type":"Note","pos":[12226.9638671875,2733.324951171875],"size":[307.74560546875,219.57456970214844],"flags":{},"order":156,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["ConditioningBatch4 (and 8) apply conditioning to each tile in the order received by the sampler. This is very useful for ensuring coherent results. This WF avoids the creation of seams, and is efficient, only requiring 4 tiles for upscales. \n\nConditioningBatch4 currently is not supported by the negative conditioning input. Use a standard negative prompt (or nothing).\n\nIf you separate the tiles individually, you should be able to use Flux Redux conditioning for each of the ConditioningBatch4 inputs."],"color":"#432","bgcolor":"#653"},{"id":860,"type":"VAEDecode","pos":[13233.298828125,2776.815673828125],"size":[140,46],"flags":{},"order":225,"mode":0,"inputs":[{"name":"samples","localized_name":"samples","type":"LATENT","link":2041},{"name":"vae","localized_name":"vae","type":"VAE","link":null}],"outputs":[{"name":"IMAGE","localized_name":"IMAGE","type":"IMAGE","links":[2042],"slot_index":0}],"properties":{"Node name for S&R":"VAEDecode"},"widgets_values":[]},{"id":853,"type":"ConditioningBatch4","pos":[12613.298828125,2746.815673828125],"size":[228.39999389648438,86],"flags":{},"order":157,"mode":0,"inputs":[{"name":"conditioning_0","localized_name":"conditioning_0","type":"CONDITIONING","link":null},{"name":"conditioning_1","localized_name":"conditioning_1","type":"CONDITIONING","shape":7,"link":null},{"name":"conditioning_2","localized_name":"conditioning_2","type":"CONDITIONING","shape":7,"link":null},{"name":"conditioning_3","localized_name":"conditioning_3","type":"CONDITIONING","shape":7,"link":null}],"outputs":[{"name":"conditioning","localized_name":"conditioning","type":"CONDITIONING","links":[2038],"slot_index":0}],"properties":{"Node name for S&R":"ConditioningBatch4"},"widgets_values":[]},{"id":856,"type":"ClownsharKSampler_Beta","pos":[12883.298828125,2776.815673828125],"size":[315,418],"flags":{},"order":220,"mode":0,"inputs":[{"name":"model","localized_name":"model","type":"MODEL","shape":7,"link":null},{"name":"positive","localized_name":"positive","type":"CONDITIONING","shape":7,"link":2038},{"name":"negative","localized_name":"negative","type":"CONDITIONING","shape":7,"link":2043},{"name":"latent_image","localized_name":"latent_image","type":"LATENT","shape":7,"link":2040},{"name":"sigmas","localized_name":"sigmas","type":"SIGMAS","shape":7,"link":null},{"name":"guides","localized_name":"guides","type":"GUIDES","shape":7,"link":null},{"name":"options","localized_name":"options","type":"OPTIONS","shape":7,"link":null}],"outputs":[{"name":"output","localized_name":"output","type":"LATENT","links":[2041],"slot_index":0},{"name":"denoised","localized_name":"denoised","type":"LATENT","links":null},{"name":"options","localized_name":"options","type":"OPTIONS","links":null}],"properties":{"Node name for S&R":"ClownsharKSampler_Beta"},"widgets_values":[0.5,"multistep/res_2m","beta57",30,-1,1,5.5,0,"randomize","standard",true]},{"id":863,"type":"CLIPTextEncode","pos":[12610.970703125,2882.634033203125],"size":[229.78173828125,88],"flags":{},"order":158,"mode":0,"inputs":[{"name":"clip","localized_name":"clip","type":"CLIP","link":null}],"outputs":[{"name":"CONDITIONING","localized_name":"CONDITIONING","type":"CONDITIONING","links":[2043]}],"properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":[""]},{"id":864,"type":"ImageResize+","pos":[12208.77734375,3038.4794921875],"size":[210,218],"flags":{},"order":159,"mode":0,"inputs":[{"name":"image","localized_name":"image","type":"IMAGE","link":null}],"outputs":[{"name":"IMAGE","localized_name":"IMAGE","type":"IMAGE","links":[2044]},{"name":"width","localized_name":"width","type":"INT","links":null},{"name":"height","localized_name":"height","type":"INT","links":null}],"properties":{"Node name for S&R":"ImageResize+"},"widgets_values":[1792,1792,"nearest","stretch","always",0]},{"id":857,"type":"ImageTile+","pos":[12453.298828125,3036.815673828125],"size":[210,234],"flags":{},"order":198,"mode":0,"inputs":[{"name":"image","localized_name":"image","type":"IMAGE","link":2044}],"outputs":[{"name":"IMAGE","localized_name":"IMAGE","type":"IMAGE","links":[2039],"slot_index":0},{"name":"tile_width","localized_name":"tile_width","type":"INT","links":null},{"name":"tile_height","localized_name":"tile_height","type":"INT","links":null},{"name":"overlap_x","localized_name":"overlap_x","type":"INT","links":null},{"name":"overlap_y","localized_name":"overlap_y","type":"INT","links":null}],"properties":{"Node name for S&R":"ImageTile+"},"widgets_values":[2,2,0,128,128]},{"id":859,"type":"ImageUntile+","pos":[13413.298828125,2776.815673828125],"size":[210,130],"flags":{},"order":227,"mode":0,"inputs":[{"name":"tiles","localized_name":"tiles","type":"IMAGE","link":2042}],"outputs":[{"name":"IMAGE","localized_name":"IMAGE","type":"IMAGE","links":null}],"properties":{"Node name for S&R":"ImageUntile+"},"widgets_values":[128,128,2,2]},{"id":868,"type":"Note","pos":[9664.4189453125,3771.01416015625],"size":[284.8223571777344,176.87057495117188],"flags":{},"order":160,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["Styles are supported for:\n\nHiDream (outstanding results)\n\nFlux (best results are with style loras, as the base model is severely lacking understanding of styles)\n\nWAN \n\nUse of the \"Re...\" patcher nodes is required, as custom model code is used."],"color":"#432","bgcolor":"#653"},{"id":869,"type":"TorchCompileModels","pos":[7795.904296875,2736.478515625],"size":[247.29759216308594,178],"flags":{},"order":161,"mode":0,"inputs":[{"name":"model","localized_name":"model","type":"MODEL","link":null}],"outputs":[{"name":"model","localized_name":"model","type":"MODEL","links":null}],"properties":{"Node name for S&R":"TorchCompileModels"},"widgets_values":["inductor",false,"default",false,64,0]},{"id":703,"type":"SD35Loader","pos":[7438.462890625,2740.95849609375],"size":[315,218],"flags":{},"order":162,"mode":0,"inputs":[],"outputs":[{"name":"model","localized_name":"model","type":"MODEL","links":null},{"name":"clip","localized_name":"clip","type":"CLIP","links":null},{"name":"vae","localized_name":"vae","type":"VAE","links":null}],"properties":{"Node name for S&R":"SD35Loader"},"widgets_values":["sd3.5_medium.safetensors","default",".use_ckpt_clip",".none",".none",".use_ckpt_vae"]},{"id":700,"type":"Note","pos":[7480,3060],"size":[225.09121704101562,88],"flags":{},"order":163,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["This node must be used when using regional conditioning with Flux. "],"color":"#432","bgcolor":"#653"},{"id":870,"type":"Note","pos":[8087.9755859375,2736.00830078125],"size":[291.73583984375,88],"flags":{},"order":164,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["Generic compile node for many models."],"color":"#432","bgcolor":"#653"},{"id":696,"type":"ModelSamplingAdvanced","pos":[8136.62109375,3062.419677734375],"size":[210,82],"flags":{},"order":165,"mode":0,"inputs":[{"name":"model","localized_name":"model","type":"MODEL","link":null}],"outputs":[{"name":"model","localized_name":"model","type":"MODEL","links":null}],"properties":{"Node name for S&R":"ModelSamplingAdvanced"},"widgets_values":["exponential",3]},{"id":697,"type":"Note","pos":[8088.63037109375,2876.072998046875],"size":[299.7002868652344,122.62284851074219],"flags":{},"order":166,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["ModelSamplingAdvanced many different models, including AuraFlow, SD3.5, Flux, and more, including video models.\n\nWhen \"scaling\" is set to \"exponential\" it uses the method employed by Flux, which is actually quite good with SD3.5. \"linear\" is the default method used by SD3.5."],"color":"#432","bgcolor":"#653"},{"id":788,"type":"ClownGuide_Style_Beta","pos":[9993.591796875,4034.93017578125],"size":[243.85076904296875,286],"flags":{},"order":167,"mode":0,"inputs":[{"name":"guide","localized_name":"guide","type":"LATENT","shape":7,"link":null},{"name":"mask","localized_name":"mask","type":"MASK","shape":7,"link":null},{"name":"weights","localized_name":"weights","type":"SIGMAS","shape":7,"link":null},{"name":"guides","localized_name":"guides","type":"GUIDES","shape":7,"link":null}],"outputs":[{"name":"guides","localized_name":"guides","type":"GUIDES","links":null}],"properties":{"Node name for S&R":"ClownGuide_Style_Beta"},"widgets_values":["positive","WCT",1,1,"constant",0,15,false]},{"id":865,"type":"Note","pos":[9667.3056640625,4012.013427734375],"size":[283.76544189453125,448.7384338378906],"flags":{},"order":168,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["ClownGuide style: the settings shown are the ones you will generally use. WCT is the more accurate of the two methods. If you have issues, you can fall back to AdaIN. \n\nIt is best to use this on the first 1/2 of steps or so. Be sure to provide some information about the style in the prompt for best results \"cel-shaded anime illustration of...\" \"\"gritty illustration of....\" \"analog photo of\".\n\nThe mask current has no effect, but is there as a placeholder as regional style methods are under development.\n\n\nIf you are using CFG = 1.0 (typical with distilled models such as Flux or HiDream Dev), synweight has no effect and can be ignored.\n\nSynweight simply applies the same style to the opposite conditioning (so if apply_to = positive, and synweight is at 0.5, it will use it at 0.5 strength on the negative). In the vast majority of cases, it's best to leave synweight at the default. Occasionally, setting it to 0.5 or 0.0 can be helpful, but it can result in burning the image due to issues with CFG. \n\nStandard guides may be inputted into this node, if you wish to use them together.\n"],"color":"#432","bgcolor":"#653"},{"id":871,"type":"Note","pos":[9669.4208984375,4527.666015625],"size":[277.0335998535156,102.53260040283203],"flags":{},"order":169,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["ClownGuide Mean: somewhat similar effect, but does not require the \"Re...\" patcher nodes and works with all models. Effect is typically considerably less precise."],"color":"#432","bgcolor":"#653"},{"id":866,"type":"Note","pos":[10292.3017578125,4024.706787109375],"size":[284.8223571777344,176.87057495117188],"flags":{},"order":170,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["BLUR KILLER TIP:\n\nWhen generating photography with Flux or HiDream (where blur can be frustratingly difficult to avoid), try using a style guide for the first 1/3rd of steps that is a sharp photograph with similar lighting/hues to what you are aiming for. You might need to try a handful of photos before landing on a \"hit\", but the right one will eliminate blur 100%, even with a close up portrait photograph.\n"],"color":"#432","bgcolor":"#653"},{"id":872,"type":"ClownGuide_AdaIN_MMDiT_Beta","pos":[10680,3810],"size":[246.13087463378906,430],"flags":{},"order":171,"mode":0,"inputs":[{"name":"guide","localized_name":"guide","type":"LATENT","shape":7,"link":null},{"name":"mask","localized_name":"mask","type":"MASK","shape":7,"link":null},{"name":"weights","localized_name":"weights","type":"SIGMAS","shape":7,"link":null},{"name":"guides","localized_name":"guides","type":"GUIDES","shape":7,"link":null}],"outputs":[{"name":"guides","localized_name":"guides","type":"GUIDES","links":null}],"properties":{"Node name for S&R":"ClownGuide_AdaIN_MMDiT_Beta"},"widgets_values":[1,"constant","","","20","0.5",0,15,false]},{"id":874,"type":"ClownGuide_AttnInj_MMDiT_Beta","pos":[10990,3810],"size":[272.0969543457031,718],"flags":{},"order":172,"mode":0,"inputs":[{"name":"guide","localized_name":"guide","type":"LATENT","shape":7,"link":null},{"name":"mask","localized_name":"mask","type":"MASK","shape":7,"link":null},{"name":"weights","localized_name":"weights","type":"SIGMAS","shape":7,"link":null},{"name":"guides","localized_name":"guides","type":"GUIDES","shape":7,"link":null}],"outputs":[{"name":"guides","localized_name":"guides","type":"GUIDES","links":null}],"properties":{"Node name for S&R":"ClownGuide_AttnInj_MMDiT_Beta"},"widgets_values":[1,"constant","0,1,3","1.0","20","0.5",0,0,1,0,0,0,0,0,0,0,0,0,0,15,false]},{"id":873,"type":"Note","pos":[10590,4300],"size":[348.2928771972656,313.42919921875],"flags":{},"order":173,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["ClownGuide AdaIN and AttnInj:\n\nAdvanced experimental nodes for HiDream. Very strong effect and can be used together with all other guide nodes.\n\nBest used like a monkey in a missile silo. Start pushing buttons and you'll win eventually!\n\nList the blocks you wish the effect to be applied to, and the weight of the effect on that block, in the same order. \"all\" will use all blocks of that type, and if only one weight is listed, it will use that for all blocks listed.\n\nThere are 16 double blocks, and 32 single blocks. Each is numbered beginning at 0. For example, the following block numberings are equivalent for double_blocks:\n\nall\n0-15\n0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15\n"],"color":"#432","bgcolor":"#653"},{"id":875,"type":"Note","pos":[10980,4590],"size":[301.1705017089844,233.60943603515625],"flags":{},"order":174,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["Injects calculated attention from the guide into the main sampling process. This will carry over some compositional information, as well as lighting. It can be very interesting in combination with ClownGuide Style or ClownGuide AdaIN (MMDiT).\n\nimg_v will have the most color/style information with the least effect on composition.\n\nimg_k will increase the amount of compositional information.\n\nimg_q will increase the compositional information to the point where it can begin looking more like a traditional guide mode."],"color":"#432","bgcolor":"#653"},{"id":867,"type":"ClownGuide_Mean_Beta","pos":[9997.337890625,4526.90869140625],"size":[241.34442138671875,238],"flags":{},"order":175,"mode":0,"inputs":[{"name":"guide","localized_name":"guide","type":"LATENT","shape":7,"link":null},{"name":"mask","localized_name":"mask","type":"MASK","shape":7,"link":null},{"name":"weights","localized_name":"weights","type":"SIGMAS","shape":7,"link":null},{"name":"guides","localized_name":"guides","type":"GUIDES","shape":7,"link":null}],"outputs":[{"name":"guides","localized_name":"guides","type":"GUIDES","links":null}],"properties":{"Node name for S&R":"ClownGuide_Mean_Beta"},"widgets_values":[1,1,"constant",0,15,false]},{"id":679,"type":"SharkSampler_Beta","pos":[1370,3140],"size":[285.713623046875,386],"flags":{},"order":199,"mode":0,"inputs":[{"name":"model","localized_name":"model","type":"MODEL","shape":7,"link":null},{"name":"positive","localized_name":"positive","type":"CONDITIONING","shape":7,"link":null},{"name":"negative","localized_name":"negative","type":"CONDITIONING","shape":7,"link":null},{"name":"sampler","localized_name":"sampler","type":"SAMPLER","shape":7,"link":1973},{"name":"sigmas","localized_name":"sigmas","type":"SIGMAS","shape":7,"link":null},{"name":"latent_image","localized_name":"latent_image","type":"LATENT","shape":7,"link":null},{"name":"options","localized_name":"options","type":"OPTIONS","shape":7,"link":2046},{"name":"options 2","type":"OPTIONS","link":null}],"outputs":[{"name":"output","localized_name":"output","type":"LATENT","links":null},{"name":"denoised","localized_name":"denoised","type":"LATENT","links":null},{"name":"options","localized_name":"options","type":"OPTIONS","links":null}],"properties":{"Node name for S&R":"SharkSampler_Beta"},"widgets_values":["beta57",30,-1,1,5.5,0,"fixed","standard"]},{"id":876,"type":"SharkOptions_GuiderInput","pos":[1051.8299560546875,3379.638427734375],"size":[282.30291748046875,46],"flags":{},"order":176,"mode":0,"inputs":[{"name":"guider","localized_name":"guider","type":"GUIDER","link":null},{"name":"options","localized_name":"options","type":"OPTIONS","shape":7,"link":null}],"outputs":[{"name":"options","localized_name":"options","type":"OPTIONS","links":[2046],"slot_index":0}],"properties":{"Node name for S&R":"SharkOptions_GuiderInput"}},{"id":802,"type":"Note","pos":[690.13916015625,3410.965576171875],"size":[321.8917236328125,108.77723693847656],"flags":{},"order":95,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["Typically, SharkSampler slots into workflows where SamplerCustom would have been used.\n\nSharkOptions GuiderInput allows it to be used like SamplerCustomAdvanced, with any guider input of your choosing. It may also be used with ClownSharkSampler."],"color":"#432","bgcolor":"#653"}],"links":[[1365,453,0,454,0,"IMAGE"],[1890,584,0,606,0,"MODEL"],[1904,606,0,601,0,"MODEL"],[1907,598,0,610,1,"CONDITIONING"],[1908,599,0,610,2,"CONDITIONING"],[1909,601,0,610,0,"MODEL"],[1910,601,0,612,0,"MODEL"],[1911,598,0,612,1,"CONDITIONING"],[1912,599,0,612,2,"CONDITIONING"],[1914,598,0,613,1,"CONDITIONING"],[1915,599,0,613,2,"CONDITIONING"],[1923,613,0,453,0,"LATENT"],[1926,609,0,613,0,"MODEL"],[1937,606,1,598,0,"CLIP"],[1938,606,1,599,0,"CLIP"],[1939,620,0,606,1,"CLIP"],[1940,621,0,453,1,"VAE"],[1947,624,0,612,6,"OPTIONS"],[1948,625,0,613,6,"OPTIONS"],[1949,610,0,612,3,"LATENT"],[1950,612,0,613,3,"LATENT"],[1951,626,0,610,6,"OPTIONS"],[1952,640,0,641,3,"LATENT"],[1953,641,0,642,3,"LATENT"],[1962,666,0,660,6,"OPTIONS"],[1963,661,0,660,7,"OPTIONS"],[1968,676,0,660,9,"OPTIONS"],[1971,662,0,660,10,"OPTIONS"],[1972,665,0,660,11,"OPTIONS"],[1973,680,0,679,3,"SAMPLER"],[1974,682,0,660,12,"OPTIONS"],[1975,684,0,682,0,"SIGMAS"],[1976,684,0,686,0,"SIGMAS"],[1977,688,0,691,5,"GUIDES"],[1978,693,0,692,0,"MODEL"],[1979,692,0,694,0,"MODEL"],[1980,694,0,695,0,"MODEL"],[1982,724,0,720,1,"CONDITIONING"],[1983,724,0,720,2,"CONDITIONING"],[1984,722,0,720,5,"GUIDES"],[1985,723,0,721,5,"GUIDES"],[1986,751,0,752,2,"MASK"],[1987,753,0,752,3,"MASK"],[1988,756,0,754,2,"MASK"],[1989,757,0,754,3,"MASK"],[1990,760,0,660,13,"OPTIONS"],[1991,763,0,660,8,"OPTIONS"],[1992,735,0,770,5,"GUIDES"],[1994,772,0,770,6,"OPTIONS"],[1995,775,0,778,0,"COND_REGIONS"],[1996,778,0,779,0,"COND_REGIONS"],[1999,779,0,783,0,"COND_REGIONS"],[2000,783,0,776,0,"COND_REGIONS"],[2003,798,0,660,14,"OPTIONS"],[2004,804,0,805,4,"LATENT"],[2005,805,0,806,4,"LATENT"],[2006,807,0,805,6,"OPTIONS"],[2007,811,0,660,15,"OPTIONS"],[2009,813,0,809,6,"OPTIONS"],[2010,814,0,815,4,"LATENT"],[2011,815,0,817,4,"LATENT"],[2012,826,0,824,1,"IMAGE"],[2013,826,0,827,0,"IMAGE"],[2014,827,0,824,2,"IMAGE"],[2015,824,0,828,0,"IMAGE"],[2016,824,0,825,0,"IMAGE"],[2017,824,2,825,2,"IMAGE"],[2018,824,2,829,0,"IMAGE"],[2019,825,1,830,0,"IMAGE"],[2022,840,2,835,2,"IMAGE"],[2023,835,1,837,0,"IMAGE"],[2024,836,0,838,0,"IMAGE"],[2025,836,0,840,1,"IMAGE"],[2026,838,0,840,2,"IMAGE"],[2030,843,0,841,1,"IMAGE"],[2031,843,0,842,0,"IMAGE"],[2032,842,0,841,2,"IMAGE"],[2033,841,0,835,0,"IMAGE"],[2034,794,0,792,1,"COLOR_SWATCHES"],[2036,793,0,850,0,"MASK"],[2037,793,0,855,0,"MASK"],[2038,853,0,856,1,"CONDITIONING"],[2039,857,0,858,0,"IMAGE"],[2040,858,0,856,3,"LATENT"],[2041,856,0,860,0,"LATENT"],[2042,860,0,859,0,"IMAGE"],[2043,863,0,856,2,"CONDITIONING"],[2044,864,0,857,0,"IMAGE"],[2046,876,0,679,6,"OPTIONS"]],"groups":[{"id":1,"title":"UNSAMPLING SETUP","bounding":[727.6610717773438,4702.3486328125,1679.59423828125,1066.484619140625],"color":"#3f789e","font_size":24,"flags":{}},{"id":2,"title":"CHAINED SAMPLER SETUP","bounding":[726.7158203125,3763.15576171875,1680.4798583984375,894.4533081054688],"color":"#3f789e","font_size":24,"flags":{}},{"id":3,"title":"INTRODUCTION TO CLOWNSAMPLING","bounding":[603.1690063476562,2607.28857421875,1866.77099609375,983.0913696289062],"color":"#3f789e","font_size":24,"flags":{}},{"id":5,"title":"OPTIONS AND AUTOMATION","bounding":[2599.417236328125,2632.92578125,1724.455078125,3136.83154296875],"color":"#3f789e","font_size":24,"flags":{}},{"id":6,"title":"GUIDES","bounding":[4494.4521484375,3692.791259765625,1757.123291015625,2078.85498046875],"color":"#3f789e","font_size":24,"flags":{}},{"id":7,"title":"LOADERS AND PATCHERS","bounding":[7042.78515625,2636.466552734375,1379.5494384765625,916.3328247070312],"color":"#3f789e","font_size":24,"flags":{}},{"id":8,"title":"ULTRACASCADE","bounding":[-3341.39892578125,2604.916748046875,3831.125244140625,1936.0570068359375],"color":"#3f789e","font_size":24,"flags":{}},{"id":9,"title":"REGIONAL CONDITIONING","bounding":[6335.28125,3695.2412109375,3155.973388671875,1510.357421875],"color":"#3f789e","font_size":24,"flags":{}},{"id":10,"title":"Cyclosampling (looping a sampler node)","bounding":[4505.0283203125,2635.9287109375,2438.49853515625,916.0137939453125],"color":"#3f789e","font_size":24,"flags":{}},{"id":11,"title":"Miscellaneous Image Nodes","bounding":[8475.5224609375,2640.341552734375,610.4679565429688,912.4259033203125],"color":"#3f789e","font_size":24,"flags":{}},{"id":12,"title":"Frequency Separation","bounding":[9150.265625,2642.074462890625,2909.011474609375,911.339111328125],"color":"#3f789e","font_size":24,"flags":{}},{"id":13,"title":"Tiled Upscales with Tiled Conditioning","bounding":[12136.822265625,2643.802490234375,1541.95556640625,664.3409423828125],"color":"#3f789e","font_size":24,"flags":{}},{"id":14,"title":"Style Transfer","bounding":[9615.3837890625,3690.478515625,2453.906494140625,1514.1885986328125],"color":"#3f789e","font_size":24,"flags":{}}],"config":{},"extra":{"ds":{"scale":1.6105100000000008,"offset":[1291.1169756467461,-2415.779581669771]},"VHS_latentpreview":false,"VHS_latentpreviewrate":0},"version":0.4}