//* MutationObserver for Vite to work correctly in UXP
(function(){var t;null==window.MutationObserver&&(t=function(){function t(t){this.callBack=t}return t.prototype.observe=function(t,n){var e;return this.element=t,this.interval=setInterval((e=this,function(){var t;if((t=e.element.innerHTML)!==e.oldHtml)return e.oldHtml=t,e.callBack.apply(null)}),200)},t.prototype.disconnect=function(){return window.clearInterval(this.interval)},t}(),window.MutationObserver=t)}).call(this);

"use strict";var Na=Object.defineProperty;var za=(i,e,t)=>e in i?Na(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t;var Be=(i,e,t)=>za(i,typeof e!="symbol"?e+"":e,t);const Xs=require("photoshop");function le(){}function at(i,e){for(const t in e)i[t]=e[t];return i}function co(i){return i()}function mr(){return Object.create(null)}function lt(i){i.forEach(co)}function tt(i){return typeof i=="function"}function be(i,e){return i!=i?e==e:i!==e||i&&typeof i=="object"||typeof i=="function"}let hs;function ho(i,e){return i===e?!0:(hs||(hs=document.createElement("a")),hs.href=e,i===hs.href)}function Fa(i){return Object.keys(i).length===0}function po(i,...e){if(i==null){for(const n of e)n(void 0);return le}const t=i.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function Qe(i){let e;return po(i,t=>e=t)(),e}function Y(i,e,t){i.$$.on_destroy.push(po(e,t))}function jt(i,e,t,n){if(i){const s=go(i,e,t,n);return i[0](s)}}function go(i,e,t,n){return i[1]&&n?at(t.ctx.slice(),i[1](n(e))):t.ctx}function qt(i,e,t,n){if(i[2]&&n){const s=i[2](n(t));if(e.dirty===void 0)return s;if(typeof s=="object"){const r=[],o=Math.max(e.dirty.length,s.length);for(let a=0;a<o;a+=1)r[a]=e.dirty[a]|s[a];return r}return e.dirty|s}return e.dirty}function Wt(i,e,t,n,s,r){if(s){const o=go(e,t,n,r);i.p(o,s)}}function Gt(i){if(i.ctx.length>32){const e=[],t=i.ctx.length/32;for(let n=0;n<t;n++)e[n]=-1;return e}return-1}function Cs(i){const e={};for(const t in i)t[0]!=="$"&&(e[t]=i[t]);return e}function Pn(i,e){const t={};e=new Set(e);for(const n in i)!e.has(n)&&n[0]!=="$"&&(t[n]=i[n]);return t}function Et(i){return i??""}function Ve(i,e,t){return i.set(t),e}function $(i,e){i.appendChild(e)}function R(i,e,t){i.insertBefore(e,t||null)}function M(i){i.parentNode&&i.parentNode.removeChild(i)}function Hs(i,e){for(let t=0;t<i.length;t+=1)i[t]&&i[t].d(e)}function L(i){return document.createElement(i)}function Wi(i){return document.createElementNS("http://www.w3.org/2000/svg",i)}function K(i){return document.createTextNode(i)}function N(){return K(" ")}function bt(){return K("")}function ie(i,e,t,n){return i.addEventListener(e,t,n),()=>i.removeEventListener(e,t,n)}function O(i,e,t){t==null?i.removeAttribute(e):i.getAttribute(e)!==t&&i.setAttribute(e,t)}const Ba=["width","height"];function An(i,e){const t=Object.getOwnPropertyDescriptors(i.__proto__);for(const n in e)e[n]==null?i.removeAttribute(n):n==="style"?i.style.cssText=e[n]:n==="__value"?i.value=i[n]=e[n]:t[n]&&t[n].set&&Ba.indexOf(n)===-1?i[n]=e[n]:O(i,n,e[n])}function _r(i,e){for(const t in e)O(i,t,e[t])}function oe(i,e,t){const n=e.toLowerCase();n in i?i[n]=typeof i[n]=="boolean"&&t===""?!0:t:e in i?i[e]=typeof i[e]=="boolean"&&t===""?!0:t:O(i,e,t)}function Va(i){return Array.from(i.childNodes)}function Z(i,e){e=""+e,i.data!==e&&(i.data=e)}function es(i,e){i.value=e??""}function te(i,e,t,n){t==null?i.style.removeProperty(e):i.style.setProperty(e,t,"")}function mt(i,e,t){i.classList.toggle(e,!!t)}function Ha(i,e,{bubbles:t=!1,cancelable:n=!1}={}){return new CustomEvent(i,{detail:e,bubbles:t,cancelable:n})}class Ua{constructor(e=!1){Be(this,"is_svg",!1);Be(this,"e");Be(this,"n");Be(this,"t");Be(this,"a");this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,t,n=null){this.e||(this.is_svg?this.e=Wi(t.nodeName):this.e=L(t.nodeType===11?"TEMPLATE":t.nodeName),this.t=t.tagName!=="TEMPLATE"?t:t.content,this.c(e)),this.i(n)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)R(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(M)}}let ts;function Gn(i){ts=i}function Us(){if(!ts)throw new Error("Function called outside component initialization");return ts}function yt(i){Us().$$.on_mount.push(i)}function ja(i){Us().$$.after_update.push(i)}function mo(i){Us().$$.on_destroy.push(i)}function js(){const i=Us();return(e,t,{cancelable:n=!1}={})=>{const s=i.$$.callbacks[e];if(s){const r=Ha(e,t,{cancelable:n});return s.slice().forEach(o=>{o.call(i,r)}),!r.defaultPrevented}return!0}}const _n=[],Q=[];let wn=[];const gi=[],qa=Promise.resolve();let mi=!1;function Wa(){mi||(mi=!0,qa.then(_o))}function _i(i){wn.push(i)}function me(i){gi.push(i)}const ei=new Set;let dn=0;function _o(){if(dn!==0)return;const i=ts;do{try{for(;dn<_n.length;){const e=_n[dn];dn++,Gn(e),Ga(e.$$)}}catch(e){throw _n.length=0,dn=0,e}for(Gn(null),_n.length=0,dn=0;Q.length;)Q.pop()();for(let e=0;e<wn.length;e+=1){const t=wn[e];ei.has(t)||(ei.add(t),t())}wn.length=0}while(_n.length);for(;gi.length;)gi.pop()();mi=!1,ei.clear(),Gn(i)}function Ga(i){if(i.fragment!==null){i.update(),lt(i.before_update);const e=i.dirty;i.dirty=[-1],i.fragment&&i.fragment.p(i.ctx,e),i.after_update.forEach(_i)}}function Ka(i){const e=[],t=[];wn.forEach(n=>i.indexOf(n)===-1?e.push(n):t.push(n)),t.forEach(n=>n()),wn=e}const ms=new Set;let Zt;function At(){Zt={r:0,c:[],p:Zt}}function Ot(){Zt.r||lt(Zt.c),Zt=Zt.p}function T(i,e){i&&i.i&&(ms.delete(i),i.i(e))}function I(i,e,t,n){if(i&&i.o){if(ms.has(i))return;ms.add(i),Zt.c.push(()=>{ms.delete(i),n&&(t&&i.d(1),n())}),i.o(e)}else n&&n()}function Bt(i){return(i==null?void 0:i.length)!==void 0?i:Array.from(i)}function qs(i,e){const t={},n={},s={$$scope:1};let r=i.length;for(;r--;){const o=i[r],a=e[r];if(a){for(const l in o)l in a||(n[l]=1);for(const l in a)s[l]||(t[l]=a[l],s[l]=1);i[r]=a}else for(const l in o)s[l]=1}for(const o in n)o in t||(t[o]=void 0);return t}function _e(i,e,t){const n=i.$$.props[e];n!==void 0&&(i.$$.bound[n]=t,t(i.$$.ctx[n]))}function V(i){i&&i.c()}function F(i,e,t){const{fragment:n,after_update:s}=i.$$;n&&n.m(e,t),_i(()=>{const r=i.$$.on_mount.map(co).filter(tt);i.$$.on_destroy?i.$$.on_destroy.push(...r):lt(r),i.$$.on_mount=[]}),s.forEach(_i)}function B(i,e){const t=i.$$;t.fragment!==null&&(Ka(t.after_update),lt(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function Ya(i,e){i.$$.dirty[0]===-1&&(_n.push(i),Wa(),i.$$.dirty.fill(0)),i.$$.dirty[e/31|0]|=1<<e%31}function we(i,e,t,n,s,r,o=null,a=[-1]){const l=ts;Gn(i);const u=i.$$={fragment:null,ctx:[],props:r,update:le,not_equal:s,bound:mr(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(l?l.$$.context:[])),callbacks:mr(),dirty:a,skip_bound:!1,root:e.target||l.$$.root};o&&o(u.root);let f=!1;if(u.ctx=t?t(i,e.props||{},(d,c,...p)=>{const m=p.length?p[0]:c;return u.ctx&&s(u.ctx[d],u.ctx[d]=m)&&(!u.skip_bound&&u.bound[d]&&u.bound[d](m),f&&Ya(i,d)),c}):[],u.update(),f=!0,lt(u.before_update),u.fragment=n?n(u.ctx):!1,e.target){if(e.hydrate){const d=Va(e.target);u.fragment&&u.fragment.l(d),d.forEach(M)}else u.fragment&&u.fragment.c();e.intro&&T(i.$$.fragment),F(i,e.target,e.anchor),_o()}Gn(l)}class $e{constructor(){Be(this,"$$");Be(this,"$$set")}$destroy(){B(this,1),this.$destroy=le}$on(e,t){if(!tt(t))return le;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const s=n.indexOf(t);s!==-1&&n.splice(s,1)}}$set(e){this.$$set&&!Fa(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Ja="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Ja);const hn=[];function Ge(i,e=le){let t;const n=new Set;function s(a){if(be(i,a)&&(i=a,t)){const l=!hn.length;for(const u of n)u[1](),hn.push(u,i);if(l){for(let u=0;u<hn.length;u+=2)hn[u][0](hn[u+1]);hn.length=0}}}function r(a){s(a(i))}function o(a,l=le){const u=[a,l];return n.add(u),n.size===1&&(t=e(s,r)||le),a(i),()=>{n.delete(u),n.size===0&&t&&(t(),t=null)}}return{set:s,update:r,subscribe:o}}const vo="/assets/defaultImg-BcFEYa9o.jpg",{app:he,core:Vt}=require("photoshop"),{localFileSystem:Gi}=require("uxp").storage,Ss=require("uxp").storage.localFileSystem,vr=require("photoshop").imaging,{batchPlay:_t}=require("photoshop").action;let Ki;const Qa=require("uxp").shell,Yi=require("uxp").host,Za=Yi.uiLocale;Yi.name;Yi.version;(async()=>Ki=await Gi.getDataFolder())();var bo=(i=>(i.ERROR="ERROR",i.WARN="WARN",i.INFO="INFO",i.DEBUG="DEBUG",i))(bo||{});const Xa=15*1024;let el=class{constructor(e="logs",t=5,n="INFO"){Be(this,"logDirectory");Be(this,"maxRuntimes");Be(this,"currentLogFile");Be(this,"currentLogLevel");Be(this,"runtimeId");Be(this,"runtimeStarted",!1);this.logDirectory=e,this.maxRuntimes=t,this.currentLogLevel=n,this.runtimeId=`runtime_${Date.now()}`,this.initializeLogger()}async initializeLogger(){await this.cleanupOldRuntimes(),await this.startNewRuntime()}async startNewRuntime(){try{const e=await Ss.getDataFolder();this.currentLogFile=await e.createFile(`${this.runtimeId}.log`,{overwrite:!0}),this.runtimeStarted=!0}catch(e){console.error("Error creating new runtime log file:",e)}}async log(e,...t){if(!this.shouldLog(e))return;const n=new Date().toISOString(),s=t.map(o=>{if(typeof o=="object"){const a=JSON.stringify(o);return a.length>100*1024?"over 100kb":a}return o}),r=`${n} [${e}]: ${s.join(" ")}`;if(console.log(r),!this.runtimeStarted){console.error("Runtime log file is not ready yet.");return}try{await this.currentLogFile.write(r+`
`,{append:!0})}catch(o){console.error("Error writing log to file:",o)}}formatMessage(e){let t=e.map(n=>typeof n=="object"?JSON.stringify(n):n).join(" ");return Buffer.byteLength(t,"utf8")>Xa?"over 100kb":t}shouldLog(e){const t=Object.values(bo);return t.indexOf(e)<=t.indexOf(this.currentLogLevel)}async cleanupOldRuntimes(){try{const n=(await(await Gi.getDataFolder()).getEntries()).filter(s=>s.name.startsWith("log_")).sort((s,r)=>{const o=parseInt(s.name?.split("_")[1]?.split(".")[0]),a=parseInt(r.name?.split("_")[1]?.split(".")[0]);return o-a});n.length>=this.maxRuntimes&&await n.shift().delete()}catch(e){console.error("Error cleaning up old runtimes:",e)}}async error(...e){await this.log("ERROR",...e)}async warn(...e){await this.log("WARN",...e)}async info(...e){await this.log("INFO",...e)}async debug(...e){await this.log("DEBUG",...e)}};const ne=new el,tl={type:"logger",log(i){this.output("log",i)},warn(i){this.output("warn",i)},error(i){this.output("error",i)},output(i,e){console&&console[i]&&console[i].apply(console,e)}};class ks{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,t)}init(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||tl,this.options=t,this.debug=t.debug}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"error","")}deprecate(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,n,s){return s&&!this.debug?null:(typeof e[0]=="string"&&(e[0]=`${n}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new ks(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new ks(this.logger,e)}}var ht=new ks;class Ws{constructor(){this.observers={}}on(e,t){return e?.split(" ").forEach(n=>{this.observers[n]||(this.observers[n]=new Map);const s=this.observers[n].get(t)||0;this.observers[n].set(t,s+1)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e].delete(t)}}emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(o=>{let[a,l]=o;for(let u=0;u<l;u++)a(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(o=>{let[a,l]=o;for(let u=0;u<l;u++)a.apply(a,[e,...n])})}}const Hn=()=>{let i,e;const t=new Promise((n,s)=>{i=n,e=s});return t.resolve=i,t.reject=e,t},br=i=>i==null?"":""+i,nl=(i,e,t)=>{i.forEach(n=>{e[n]&&(t[n]=e[n])})},sl=/###/g,yr=i=>i&&i.indexOf("###")>-1?i.replace(sl,"."):i,wr=i=>!i||typeof i=="string",Kn=(i,e,t)=>{const n=typeof e!="string"?e:e?.split(".");let s=0;for(;s<n.length-1;){if(wr(i))return{};const r=yr(n[s]);!i[r]&&t&&(i[r]=new t),Object.prototype.hasOwnProperty.call(i,r)?i=i[r]:i={},++s}return wr(i)?{}:{obj:i,k:yr(n[s])}},$r=(i,e,t)=>{const{obj:n,k:s}=Kn(i,e,Object);if(n!==void 0||e.length===1){n[s]=t;return}let r=e[e.length-1],o=e.slice(0,e.length-1),a=Kn(i,o,Object);for(;a.obj===void 0&&o.length;)r=`${o[o.length-1]}.${r}`,o=o.slice(0,o.length-1),a=Kn(i,o,Object),a&&a.obj&&typeof a.obj[`${a.k}.${r}`]<"u"&&(a.obj=void 0);a.obj[`${a.k}.${r}`]=t},il=(i,e,t,n)=>{const{obj:s,k:r}=Kn(i,e,Object);s[r]=s[r]||[],s[r].push(t)},Ps=(i,e)=>{const{obj:t,k:n}=Kn(i,e);if(t)return t[n]},rl=(i,e,t)=>{const n=Ps(i,t);return n!==void 0?n:Ps(e,t)},yo=(i,e,t)=>{for(const n in e)n!=="__proto__"&&n!=="constructor"&&(n in i?typeof i[n]=="string"||i[n]instanceof String||typeof e[n]=="string"||e[n]instanceof String?t&&(i[n]=e[n]):yo(i[n],e[n],t):i[n]=e[n]);return i},pn=i=>i.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var ol={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const al=i=>typeof i=="string"?i.replace(/[&<>"'\/]/g,e=>ol[e]):i;class ll{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(t!==void 0)return t;const n=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,n),this.regExpQueue.push(e),n}}const ul=[" ",",","?","!",";"],fl=new ll(20),cl=(i,e,t)=>{e=e||"",t=t||"";const n=ul.filter(o=>e.indexOf(o)<0&&t.indexOf(o)<0);if(n.length===0)return!0;const s=fl.getRegExp(`(${n.map(o=>o==="?"?"\\?":o).join("|")})`);let r=!s.test(i);if(!r){const o=i.indexOf(t);o>0&&!s.test(i.substring(0,o))&&(r=!0)}return r},vi=function(i,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!i)return;if(i[e])return i[e];const n=e?.split(t);let s=i;for(let r=0;r<n.length;){if(!s||typeof s!="object")return;let o,a="";for(let l=r;l<n.length;++l)if(l!==r&&(a+=t),a+=n[l],o=s[a],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&l<n.length-1)continue;r+=l-r+1;break}s=o}return s},As=i=>i&&i.indexOf("_")>0?i.replace("_","-"):i;class Cr extends Ws{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,n){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const r=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,o=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure;let a;e.indexOf(".")>-1?a=e?.split("."):(a=[e,t],n&&(Array.isArray(n)?a.push(...n):typeof n=="string"&&r?a.push(...n?.split(r)):a.push(n)));const l=Ps(this.data,a);return!l&&!t&&!n&&e.indexOf(".")>-1&&(e=a[0],t=a[1],n=a.slice(2).join(".")),l||!o||typeof n!="string"?l:vi(this.data&&this.data[e]&&this.data[e][t],n,r)}addResource(e,t,n,s){let r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const o=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator;let a=[e,t];n&&(a=a.concat(o?n?.split(o):n)),e.indexOf(".")>-1&&(a=e?.split("."),s=t,t=a[1]),this.addNamespaces(t),$r(this.data,a,s),r.silent||this.emit("added",e,t,n,s)}addResources(e,t,n){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const r in n)(typeof n[r]=="string"||Array.isArray(n[r]))&&this.addResource(e,t,r,n[r],{silent:!0});s.silent||this.emit("added",e,t,n)}addResourceBundle(e,t,n,s,r){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},a=[e,t];e.indexOf(".")>-1&&(a=e?.split("."),s=n,n=t,t=a[1]),this.addNamespaces(t);let l=Ps(this.data,a)||{};o.skipCopy||(n=JSON.parse(JSON.stringify(n))),s?yo(l,n,r):l={...l,...n},$r(this.data,a,l),o.silent||this.emit("added",e,t,n)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return this.getResource(e,t)!==void 0}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(e,t)}:this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(s=>t[s]&&Object.keys(t[s]).length>0)}toJSON(){return this.data}}var wo={processors:{},addPostProcessor(i){this.processors[i.name]=i},handle(i,e,t,n,s){return i.forEach(r=>{this.processors[r]&&(e=this.processors[r].process(e,t,n,s))}),e}};const Sr={};class Os extends Ws{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),nl(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=ht.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const n=this.resolve(e,t);return n&&n.res!==void 0}extractFromKey(e,t){let n=t.nsSeparator!==void 0?t.nsSeparator:this.options.nsSeparator;n===void 0&&(n=":");const s=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator;let r=t.ns||this.options.defaultNS||[];const o=n&&e.indexOf(n)>-1,a=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!cl(e,n,s);if(o&&!a){const l=e.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:e,namespaces:r};const u=e?.split(n);(n!==s||n===s&&this.options.ns.indexOf(u[0])>-1)&&(r=u.shift()),e=u.join(s)}return typeof r=="string"&&(r=[r]),{key:e,namespaces:r}}translate(e,t,n){if(typeof t!="object"&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),typeof t=="object"&&(t={...t}),t||(t={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const s=t.returnDetails!==void 0?t.returnDetails:this.options.returnDetails,r=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator,{key:o,namespaces:a}=this.extractFromKey(e[e.length-1],t),l=a[a.length-1],u=t.lng||this.language,f=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(u&&u.toLowerCase()==="cimode"){if(f){const C=t.nsSeparator||this.options.nsSeparator;return s?{res:`${l}${C}${o}`,usedKey:o,exactUsedKey:o,usedLng:u,usedNS:l,usedParams:this.getUsedParamsDetails(t)}:`${l}${C}${o}`}return s?{res:o,usedKey:o,exactUsedKey:o,usedLng:u,usedNS:l,usedParams:this.getUsedParamsDetails(t)}:o}const d=this.resolve(e,t);let c=d&&d.res;const p=d&&d.usedKey||o,m=d&&d.exactUsedKey||o,h=Object.prototype.toString.apply(c),g=["[object Number]","[object Function]","[object RegExp]"],_=t.joinArrays!==void 0?t.joinArrays:this.options.joinArrays,b=!this.i18nFormat||this.i18nFormat.handleAsObject;if(b&&c&&(typeof c!="string"&&typeof c!="boolean"&&typeof c!="number")&&g.indexOf(h)<0&&!(typeof _=="string"&&Array.isArray(c))){if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const C=this.options.returnedObjectHandler?this.options.returnedObjectHandler(p,c,{...t,ns:a}):`key '${o} (${this.language})' returned an object instead of string.`;return s?(d.res=C,d.usedParams=this.getUsedParamsDetails(t),d):C}if(r){const C=Array.isArray(c),v=C?[]:{},k=C?m:p;for(const P in c)if(Object.prototype.hasOwnProperty.call(c,P)){const S=`${k}${r}${P}`;v[P]=this.translate(S,{...t,joinArrays:!1,ns:a}),v[P]===S&&(v[P]=c[P])}c=v}}else if(b&&typeof _=="string"&&Array.isArray(c))c=c.join(_),c&&(c=this.extendTranslation(c,e,t,n));else{let C=!1,v=!1;const k=t.count!==void 0&&typeof t.count!="string",P=Os.hasDefaultValue(t),S=k?this.pluralResolver.getSuffix(u,t.count,t):"",A=t.ordinal&&k?this.pluralResolver.getSuffix(u,t.count,{ordinal:!1}):"",H=k&&!t.ordinal&&t.count===0&&this.pluralResolver.shouldUseIntlApi(),j=H&&t[`defaultValue${this.options.pluralSeparator}zero`]||t[`defaultValue${S}`]||t[`defaultValue${A}`]||t.defaultValue;!this.isValidLookup(c)&&P&&(C=!0,c=j),this.isValidLookup(c)||(v=!0,c=o);const w=(t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&v?void 0:c,x=P&&j!==c&&this.options.updateMissing;if(v||C||x){if(this.logger.log(x?"updateKey":"missingKey",u,l,o,x?j:c),r){const G=this.resolve(o,{...t,keySeparator:!1});G&&G.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let q=[];const D=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if(this.options.saveMissingTo==="fallback"&&D&&D[0])for(let G=0;G<D.length;G++)q.push(D[G]);else this.options.saveMissingTo==="all"?q=this.languageUtils.toResolveHierarchy(t.lng||this.language):q.push(t.lng||this.language);const W=(G,se,X)=>{const ae=P&&X!==c?X:w;this.options.missingKeyHandler?this.options.missingKeyHandler(G,l,se,ae,x,t):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(G,l,se,ae,x,t),this.emit("missingKey",G,l,se,c)};this.options.saveMissing&&(this.options.saveMissingPlurals&&k?q.forEach(G=>{const se=this.pluralResolver.getSuffixes(G,t);H&&t[`defaultValue${this.options.pluralSeparator}zero`]&&se.indexOf(`${this.options.pluralSeparator}zero`)<0&&se.push(`${this.options.pluralSeparator}zero`),se.forEach(X=>{W([G],o+X,t[`defaultValue${X}`]||j)})}):W(q,o,j))}c=this.extendTranslation(c,e,t,d,n),v&&c===o&&this.options.appendNamespaceToMissingKey&&(c=`${l}:${o}`),(v||C)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?c=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${l}:${o}`:o,C?c:void 0):c=this.options.parseMissingKeyHandler(c))}return s?(d.res=c,d.usedParams=this.getUsedParamsDetails(t),d):c}extendTranslation(e,t,n,s,r){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const u=typeof e=="string"&&(n&&n.interpolation&&n.interpolation.skipOnVariables!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let f;if(u){const c=e.match(this.interpolator.nestingRegexp);f=c&&c.length}let d=n.replace&&typeof n.replace!="string"?n.replace:n;if(this.options.interpolation.defaultVariables&&(d={...this.options.interpolation.defaultVariables,...d}),e=this.interpolator.interpolate(e,d,n.lng||this.language||s.usedLng,n),u){const c=e.match(this.interpolator.nestingRegexp),p=c&&c.length;f<p&&(n.nest=!1)}!n.lng&&this.options.compatibilityAPI!=="v1"&&s&&s.res&&(n.lng=this.language||s.usedLng),n.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var c=arguments.length,p=new Array(c),m=0;m<c;m++)p[m]=arguments[m];return r&&r[0]===p[0]&&!n.context?(o.logger.warn(`It seems you are nesting recursively key: ${p[0]} in key: ${t[0]}`),null):o.translate(...p,t)},n)),n.interpolation&&this.interpolator.reset()}const a=n.postProcess||this.options.postProcess,l=typeof a=="string"?[a]:a;return e!=null&&l&&l.length&&n.applyPostProcessor!==!1&&(e=wo.handle(l,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...s,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),e}resolve(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n,s,r,o,a;return typeof e=="string"&&(e=[e]),e.forEach(l=>{if(this.isValidLookup(n))return;const u=this.extractFromKey(l,t),f=u.key;s=f;let d=u.namespaces;this.options.fallbackNS&&(d=d.concat(this.options.fallbackNS));const c=t.count!==void 0&&typeof t.count!="string",p=c&&!t.ordinal&&t.count===0&&this.pluralResolver.shouldUseIntlApi(),m=t.context!==void 0&&(typeof t.context=="string"||typeof t.context=="number")&&t.context!=="",h=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);d.forEach(g=>{this.isValidLookup(n)||(a=g,!Sr[`${h[0]}-${g}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(a)&&(Sr[`${h[0]}-${g}`]=!0,this.logger.warn(`key "${s}" for languages "${h.join(", ")}" won't get resolved as namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),h.forEach(_=>{if(this.isValidLookup(n))return;o=_;const b=[f];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(b,f,_,g,t);else{let C;c&&(C=this.pluralResolver.getSuffix(_,t.count,t));const v=`${this.options.pluralSeparator}zero`,k=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(c&&(b.push(f+C),t.ordinal&&C.indexOf(k)===0&&b.push(f+C.replace(k,this.options.pluralSeparator)),p&&b.push(f+v)),m){const P=`${f}${this.options.contextSeparator}${t.context}`;b.push(P),c&&(b.push(P+C),t.ordinal&&C.indexOf(k)===0&&b.push(P+C.replace(k,this.options.pluralSeparator)),p&&b.push(P+v))}}let y;for(;y=b.pop();)this.isValidLookup(n)||(r=y,n=this.getResource(_,g,y,t))}))})}),{res:n,usedKey:s,exactUsedKey:r,usedLng:o,usedNS:a}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,t,n){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,n,s):this.resourceStore.getResource(e,t,n,s)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=e.replace&&typeof e.replace!="string";let s=n?e.replace:e;if(n&&typeof e.count<"u"&&(s.count=e.count),this.options.interpolation.defaultVariables&&(s={...this.options.interpolation.defaultVariables,...s}),!n){s={...s};for(const r of t)delete s[r]}return s}static hasDefaultValue(e){const t="defaultValue";for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t===n.substring(0,t.length)&&e[n]!==void 0)return!0;return!1}}const ti=i=>i.charAt(0).toUpperCase()+i.slice(1);class kr{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=ht.create("languageUtils")}getScriptPartFromCode(e){if(e=As(e),!e||e.indexOf("-")<0)return null;const t=e?.split("-");return t.length===2||(t.pop(),t[t.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(e=As(e),!e||e.indexOf("-")<0)return e;const t=e?.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(typeof e=="string"&&e.indexOf("-")>-1){const t=["hans","hant","latn","cyrl","cans","mong","arab"];let n=e?.split("-");return this.options.lowerCaseLng?n=n.map(s=>s.toLowerCase()):n.length===2?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=ti(n[1].toLowerCase()))):n.length===3&&(n[0]=n[0].toLowerCase(),n[1].length===2&&(n[1]=n[1].toUpperCase()),n[0]!=="sgn"&&n[2].length===2&&(n[2]=n[2].toUpperCase()),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=ti(n[1].toLowerCase())),t.indexOf(n[2].toLowerCase())>-1&&(n[2]=ti(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(n=>{if(t)return;const s=this.formatLanguageCode(n);(!this.options.supportedLngs||this.isSupportedCode(s))&&(t=s)}),!t&&this.options.supportedLngs&&e.forEach(n=>{if(t)return;const s=this.getLanguagePartFromCode(n);if(this.isSupportedCode(s))return t=s;t=this.options.supportedLngs.find(r=>{if(r===s)return r;if(!(r.indexOf("-")<0&&s.indexOf("-")<0)&&(r.indexOf("-")>0&&s.indexOf("-")<0&&r.substring(0,r.indexOf("-"))===s||r.indexOf(s)===0&&s.length>1))return r})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if(typeof e=="function"&&(e=e(t)),typeof e=="string"&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e.default),n||[]}toResolveHierarchy(e,t){const n=this.getFallbackCodes(t||this.options.fallbackLng||[],e),s=[],r=o=>{o&&(this.isSupportedCode(o)?s.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return typeof e=="string"&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&r(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&r(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&r(this.getLanguagePartFromCode(e))):typeof e=="string"&&r(this.formatLanguageCode(e)),n.forEach(o=>{s.indexOf(o)<0&&r(this.formatLanguageCode(o))}),s}}let dl=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],hl={1:i=>+(i>1),2:i=>+(i!=1),3:i=>0,4:i=>i%10==1&&i%100!=11?0:i%10>=2&&i%10<=4&&(i%100<10||i%100>=20)?1:2,5:i=>i==0?0:i==1?1:i==2?2:i%100>=3&&i%100<=10?3:i%100>=11?4:5,6:i=>i==1?0:i>=2&&i<=4?1:2,7:i=>i==1?0:i%10>=2&&i%10<=4&&(i%100<10||i%100>=20)?1:2,8:i=>i==1?0:i==2?1:i!=8&&i!=11?2:3,9:i=>+(i>=2),10:i=>i==1?0:i==2?1:i<7?2:i<11?3:4,11:i=>i==1||i==11?0:i==2||i==12?1:i>2&&i<20?2:3,12:i=>+(i%10!=1||i%100==11),13:i=>+(i!==0),14:i=>i==1?0:i==2?1:i==3?2:3,15:i=>i%10==1&&i%100!=11?0:i%10>=2&&(i%100<10||i%100>=20)?1:2,16:i=>i%10==1&&i%100!=11?0:i!==0?1:2,17:i=>i==1||i%10==1&&i%100!=11?0:1,18:i=>i==0?0:i==1?1:2,19:i=>i==1?0:i==0||i%100>1&&i%100<11?1:i%100>10&&i%100<20?2:3,20:i=>i==1?0:i==0||i%100>0&&i%100<20?1:2,21:i=>i%100==1?1:i%100==2?2:i%100==3||i%100==4?3:0,22:i=>i==1?0:i==2?1:(i<0||i>10)&&i%10==0?2:3};const pl=["v1","v2","v3"],gl=["v4"],Pr={zero:0,one:1,two:2,few:3,many:4,other:5},ml=()=>{const i={};return dl.forEach(e=>{e.lngs.forEach(t=>{i[t]={numbers:e.nr,plurals:hl[e.fc]}})}),i};class _l{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=t,this.logger=ht.create("pluralResolver"),(!this.options.compatibilityJSON||gl.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=ml(),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{const n=As(e==="dev"?"en":e),s=t.ordinal?"ordinal":"cardinal",r=JSON.stringify({cleanedCode:n,type:s});if(r in this.pluralRulesCache)return this.pluralRulesCache[r];const o=new Intl.PluralRules(n,{type:s});return this.pluralRulesCache[r]=o,o}catch{return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=this.getRule(e,t);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}getPluralFormsOfKey(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,n).map(s=>`${t}${s}`)}getSuffixes(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=this.getRule(e,t);return n?this.shouldUseIntlApi()?n.resolvedOptions().pluralCategories.sort((s,r)=>Pr[s]-Pr[r]).map(s=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${s}`):n.numbers.map(s=>this.getSuffix(e,s,t)):[]}getSuffix(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const s=this.getRule(e,n);return s?this.shouldUseIntlApi()?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${s.select(t)}`:this.getSuffixRetroCompatible(s,t):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,t){const n=e.noAbs?e.plurals(t):e.plurals(Math.abs(t));let s=e.numbers[n];this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1&&(s===2?s="plural":s===1&&(s=""));const r=()=>this.options.prepend&&s.toString()?this.options.prepend+s.toString():s.toString();return this.options.compatibilityJSON==="v1"?s===1?"":typeof s=="number"?`_plural_${s.toString()}`:r():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1?r():this.options.prepend&&n.toString()?this.options.prepend+n.toString():n.toString()}shouldUseIntlApi(){return!pl.includes(this.options.compatibilityJSON)}}const Ar=function(i,e,t){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,r=rl(i,e,t);return!r&&s&&typeof t=="string"&&(r=vi(i,t,n),r===void 0&&(r=vi(e,t,n))),r},ni=i=>i.replace(/\$/g,"$$$$");class vl{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=ht.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(t=>t),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:n,useRawValueToEscape:s,prefix:r,prefixEscaped:o,suffix:a,suffixEscaped:l,formatSeparator:u,unescapeSuffix:f,unescapePrefix:d,nestingPrefix:c,nestingPrefixEscaped:p,nestingSuffix:m,nestingSuffixEscaped:h,nestingOptionsSeparator:g,maxReplaces:_,alwaysFormat:b}=e.interpolation;this.escape=t!==void 0?t:al,this.escapeValue=n!==void 0?n:!0,this.useRawValueToEscape=s!==void 0?s:!1,this.prefix=r?pn(r):o||"{{",this.suffix=a?pn(a):l||"}}",this.formatSeparator=u||",",this.unescapePrefix=f?"":d||"-",this.unescapeSuffix=this.unescapePrefix?"":f||"",this.nestingPrefix=c?pn(c):p||pn("$t("),this.nestingSuffix=m?pn(m):h||pn(")"),this.nestingOptionsSeparator=g||",",this.maxReplaces=_||1e3,this.alwaysFormat=b!==void 0?b:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(t,n)=>t&&t.source===n?(t.lastIndex=0,t):new RegExp(n,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,t,n,s){let r,o,a;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=p=>{if(p.indexOf(this.formatSeparator)<0){const _=Ar(t,l,p,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(_,void 0,n,{...s,...t,interpolationkey:p}):_}const m=p?.split(this.formatSeparator),h=m.shift().trim(),g=m.join(this.formatSeparator).trim();return this.format(Ar(t,l,h,this.options.keySeparator,this.options.ignoreJSONStructure),g,n,{...s,...t,interpolationkey:h})};this.resetRegExp();const f=s&&s.missingInterpolationHandler||this.options.missingInterpolationHandler,d=s&&s.interpolation&&s.interpolation.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:p=>ni(p)},{regex:this.regexp,safeValue:p=>this.escapeValue?ni(this.escape(p)):ni(p)}].forEach(p=>{for(a=0;r=p.regex.exec(e);){const m=r[1].trim();if(o=u(m),o===void 0)if(typeof f=="function"){const g=f(e,r,s);o=typeof g=="string"?g:""}else if(s&&Object.prototype.hasOwnProperty.call(s,m))o="";else if(d){o=r[0];continue}else this.logger.warn(`missed to pass in variable ${m} for interpolating ${e}`),o="";else typeof o!="string"&&!this.useRawValueToEscape&&(o=br(o));const h=p.safeValue(o);if(e=e.replace(r[0],h),d?(p.regex.lastIndex+=o.length,p.regex.lastIndex-=r[0].length):p.regex.lastIndex=0,a++,a>=this.maxReplaces)break}}),e}nest(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s,r,o;const a=(l,u)=>{const f=this.nestingOptionsSeparator;if(l.indexOf(f)<0)return l;const d=l?.split(new RegExp(`${f}[ ]*{`));let c=`{${d[1]}`;l=d[0],c=this.interpolate(c,o);const p=c.match(/'/g),m=c.match(/"/g);(p&&p.length%2===0&&!m||m.length%2!==0)&&(c=c.replace(/'/g,'"'));try{o=JSON.parse(c),u&&(o={...u,...o})}catch(h){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,h),`${l}${f}${c}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,l};for(;s=this.nestingRegexp.exec(e);){let l=[];o={...n},o=o.replace&&typeof o.replace!="string"?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;let u=!1;if(s[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(s[1])){const f=s[1]?.split(this.formatSeparator).map(d=>d.trim());s[1]=f.shift(),l=f,u=!0}if(r=t(a.call(this,s[1].trim(),o),o),r&&s[0]===e&&typeof r!="string")return r;typeof r!="string"&&(r=br(r)),r||(this.logger.warn(`missed to resolve ${s[1]} for nesting ${e}`),r=""),u&&(r=l.reduce((f,d)=>this.format(f,d,n.lng,{...n,interpolationkey:s[1].trim()}),r.trim())),e=e.replace(s[0],r),this.regexp.lastIndex=0}return e}}const bl=i=>{let e=i.toLowerCase().trim();const t={};if(i.indexOf("(")>-1){const n=i?.split("(");e=n[0].toLowerCase().trim();const s=n[1].substring(0,n[1].length-1);e==="currency"&&s.indexOf(":")<0?t.currency||(t.currency=s.trim()):e==="relativetime"&&s.indexOf(":")<0?t.range||(t.range=s.trim()):s?.split(";").forEach(o=>{if(o){const[a,...l]=o?.split(":"),u=l.join(":").trim().replace(/^'+|'+$/g,""),f=a.trim();t[f]||(t[f]=u),u==="false"&&(t[f]=!1),u==="true"&&(t[f]=!0),isNaN(u)||(t[f]=parseInt(u,10))}})}return{formatName:e,formatOptions:t}},gn=i=>{const e={};return(t,n,s)=>{let r=s;s&&s.interpolationkey&&s.formatParams&&s.formatParams[s.interpolationkey]&&s[s.interpolationkey]&&(r={...r,[s.interpolationkey]:void 0});const o=n+JSON.stringify(r);let a=e[o];return a||(a=i(As(n),s),e[o]=a),a(t)}};class yl{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=ht.create("formatter"),this.options=e,this.formats={number:gn((t,n)=>{const s=new Intl.NumberFormat(t,{...n});return r=>s.format(r)}),currency:gn((t,n)=>{const s=new Intl.NumberFormat(t,{...n,style:"currency"});return r=>s.format(r)}),datetime:gn((t,n)=>{const s=new Intl.DateTimeFormat(t,{...n});return r=>s.format(r)}),relativetime:gn((t,n)=>{const s=new Intl.RelativeTimeFormat(t,{...n});return r=>s.format(r,n.range||"day")}),list:gn((t,n)=>{const s=new Intl.ListFormat(t,{...n});return r=>s.format(r)})},this.init(e)}init(e){const n=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=n.formatSeparator?n.formatSeparator:n.formatSeparator||","}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=gn(t)}format(e,t,n){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const r=t?.split(this.formatSeparator);if(r.length>1&&r[0].indexOf("(")>1&&r[0].indexOf(")")<0&&r.find(a=>a.indexOf(")")>-1)){const a=r.findIndex(l=>l.indexOf(")")>-1);r[0]=[r[0],...r.splice(1,a)].join(this.formatSeparator)}return r.reduce((a,l)=>{const{formatName:u,formatOptions:f}=bl(l);if(this.formats[u]){let d=a;try{const c=s&&s.formatParams&&s.formatParams[s.interpolationkey]||{},p=c.locale||c.lng||s.locale||s.lng||n;d=this.formats[u](a,p,{...f,...s,...c})}catch(c){this.logger.warn(c)}return d}else this.logger.warn(`there was no format function for ${u}`);return a},e)}}const wl=(i,e)=>{i.pending[e]!==void 0&&(delete i.pending[e],i.pendingCount--)};class $l extends Ws{constructor(e,t,n){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=t,this.services=n,this.languageUtils=n.languageUtils,this.options=s,this.logger=ht.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=s.maxParallelReads||10,this.readingCalls=0,this.maxRetries=s.maxRetries>=0?s.maxRetries:5,this.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(n,s.backend,s)}queueLoad(e,t,n,s){const r={},o={},a={},l={};return e.forEach(u=>{let f=!0;t.forEach(d=>{const c=`${u}|${d}`;!n.reload&&this.store.hasResourceBundle(u,d)?this.state[c]=2:this.state[c]<0||(this.state[c]===1?o[c]===void 0&&(o[c]=!0):(this.state[c]=1,f=!1,o[c]===void 0&&(o[c]=!0),r[c]===void 0&&(r[c]=!0),l[d]===void 0&&(l[d]=!0)))}),f||(a[u]=!0)}),(Object.keys(r).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(r),pending:Object.keys(o),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(l)}}loaded(e,t,n){const s=e?.split("|"),r=s[0],o=s[1];t&&this.emit("failedLoading",r,o,t),!t&&n&&this.store.addResourceBundle(r,o,n,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&n&&(this.state[e]=0);const a={};this.queue.forEach(l=>{il(l.loaded,[r],o),wl(l,e),t&&l.errors.push(t),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(u=>{a[u]||(a[u]={});const f=l.loaded[u];f.length&&f.forEach(d=>{a[u][d]===void 0&&(a[u][d]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",a),this.queue=this.queue.filter(l=>!l.done)}read(e,t,n){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,o=arguments.length>5?arguments[5]:void 0;if(!e.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:n,tried:s,wait:r,callback:o});return}this.readingCalls++;const a=(u,f)=>{if(this.readingCalls--,this.waitingReads.length>0){const d=this.waitingReads.shift();this.read(d.lng,d.ns,d.fcName,d.tried,d.wait,d.callback)}if(u&&f&&s<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,n,s+1,r*2,o)},r);return}o(u,f)},l=this.backend[n].bind(this.backend);if(l.length===2){try{const u=l(e,t);u&&typeof u.then=="function"?u.then(f=>a(null,f)).catch(a):a(null,u)}catch(u){a(u)}return}return l(e,t,a)}prepareLoading(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();typeof e=="string"&&(e=this.languageUtils.toResolveHierarchy(e)),typeof t=="string"&&(t=[t]);const r=this.queueLoad(e,t,n,s);if(!r.toLoad.length)return r.pending.length||s(),null;r.toLoad.forEach(o=>{this.loadOne(o)})}load(e,t,n){this.prepareLoading(e,t,{},n)}reload(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}loadOne(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const n=e?.split("|"),s=n[0],r=n[1];this.read(s,r,"read",void 0,void 0,(o,a)=>{o&&this.logger.warn(`${t}loading namespace ${r} for language ${s} failed`,o),!o&&a&&this.logger.log(`${t}loaded namespace ${r} for language ${s}`,a),this.loaded(e,o,a)})}saveMissing(e,t,n,s,r){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},a=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t)){this.logger.warn(`did not save key "${n}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(n==null||n==="")){if(this.backend&&this.backend.create){const l={...o,isUpdate:r},u=this.backend.create.bind(this.backend);if(u.length<6)try{let f;u.length===5?f=u(e,t,n,s,l):f=u(e,t,n,s),f&&typeof f.then=="function"?f.then(d=>a(null,d)).catch(a):a(null,f)}catch(f){a(f)}else u(e,t,n,s,a,l)}!e||!e[0]||this.store.addResource(e[0],t,n,s)}}}const Or=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:i=>{let e={};if(typeof i[1]=="object"&&(e=i[1]),typeof i[1]=="string"&&(e.defaultValue=i[1]),typeof i[2]=="string"&&(e.tDescription=i[2]),typeof i[2]=="object"||typeof i[3]=="object"){const t=i[3]||i[2];Object.keys(t).forEach(n=>{e[n]=t[n]})}return e},interpolation:{escapeValue:!0,format:i=>i,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),Tr=i=>(typeof i.ns=="string"&&(i.ns=[i.ns]),typeof i.fallbackLng=="string"&&(i.fallbackLng=[i.fallbackLng]),typeof i.fallbackNS=="string"&&(i.fallbackNS=[i.fallbackNS]),i.supportedLngs&&i.supportedLngs.indexOf("cimode")<0&&(i.supportedLngs=i.supportedLngs.concat(["cimode"])),i),ps=()=>{},Cl=i=>{Object.getOwnPropertyNames(Object.getPrototypeOf(i)).forEach(t=>{typeof i[t]=="function"&&(i[t]=i[t].bind(i))})};class ns extends Ws{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(super(),this.options=Tr(e),this.services={},this.logger=ht,this.modules={external:[]},Cl(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(){var e=this;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof t=="function"&&(n=t,t={}),!t.defaultNS&&t.defaultNS!==!1&&t.ns&&(typeof t.ns=="string"?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const s=Or();this.options={...s,...this.options,...Tr(t)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...s.interpolation,...this.options.interpolation}),t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator);const r=f=>f?typeof f=="function"?new f:f:null;if(!this.options.isClone){this.modules.logger?ht.init(r(this.modules.logger),this.options):ht.init(null,this.options);let f;this.modules.formatter?f=this.modules.formatter:typeof Intl<"u"&&(f=yl);const d=new kr(this.options);this.store=new Cr(this.options.resources,this.options);const c=this.services;c.logger=ht,c.resourceStore=this.store,c.languageUtils=d,c.pluralResolver=new _l(d,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),f&&(!this.options.interpolation.format||this.options.interpolation.format===s.interpolation.format)&&(c.formatter=r(f),c.formatter.init(c,this.options),this.options.interpolation.format=c.formatter.format.bind(c.formatter)),c.interpolator=new vl(this.options),c.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},c.backendConnector=new $l(r(this.modules.backend),c.resourceStore,c,this.options),c.backendConnector.on("*",function(p){for(var m=arguments.length,h=new Array(m>1?m-1:0),g=1;g<m;g++)h[g-1]=arguments[g];e.emit(p,...h)}),this.modules.languageDetector&&(c.languageDetector=r(this.modules.languageDetector),c.languageDetector.init&&c.languageDetector.init(c,this.options.detection,this.options)),this.modules.i18nFormat&&(c.i18nFormat=r(this.modules.i18nFormat),c.i18nFormat.init&&c.i18nFormat.init(this)),this.translator=new Os(this.services,this.options),this.translator.on("*",function(p){for(var m=arguments.length,h=new Array(m>1?m-1:0),g=1;g<m;g++)h[g-1]=arguments[g];e.emit(p,...h)}),this.modules.external.forEach(p=>{p.init&&p.init(this)})}if(this.format=this.options.interpolation.format,n||(n=ps),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const f=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);f.length>0&&f[0]!=="dev"&&(this.options.lng=f[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(f=>{this[f]=function(){return e.store[f](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(f=>{this[f]=function(){return e.store[f](...arguments),e}});const l=Hn(),u=()=>{const f=(d,c)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(c),n(d,c)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return f(null,this.t.bind(this));this.changeLanguage(this.options.lng,f)};return this.options.resources||!this.options.initImmediate?u():setTimeout(u,0),l}loadResources(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ps;const s=typeof e=="string"?e:this.language;if(typeof e=="function"&&(n=e),!this.options.resources||this.options.partialBundledLanguages){if(s&&s.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return n();const r=[],o=a=>{if(!a||a==="cimode")return;this.services.languageUtils.toResolveHierarchy(a).forEach(u=>{u!=="cimode"&&r.indexOf(u)<0&&r.push(u)})};s?o(s):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(l=>o(l)),this.options.preload&&this.options.preload.forEach(a=>o(a)),this.services.backendConnector.load(r,this.options.ns,a=>{!a&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),n(a)})}else n(null)}reloadResources(e,t,n){const s=Hn();return typeof e=="function"&&(n=e,e=void 0),typeof t=="function"&&(n=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),n||(n=ps),this.services.backendConnector.reload(e,t,r=>{s.resolve(),n(r)}),s}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&wo.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let t=0;t<this.languages.length;t++){const n=this.languages[t];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}}changeLanguage(e,t){var n=this;this.isLanguageChangingTo=e;const s=Hn();this.emit("languageChanging",e);const r=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},o=(l,u)=>{u?(r(u),this.translator.changeLanguage(u),this.isLanguageChangingTo=void 0,this.emit("languageChanged",u),this.logger.log("languageChanged",u)):this.isLanguageChangingTo=void 0,s.resolve(function(){return n.t(...arguments)}),t&&t(l,function(){return n.t(...arguments)})},a=l=>{!e&&!l&&this.services.languageDetector&&(l=[]);const u=typeof l=="string"?l:this.services.languageUtils.getBestMatchFromCodes(l);u&&(this.language||r(u),this.translator.language||this.translator.changeLanguage(u),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(u)),this.loadResources(u,f=>{o(f,u)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?a(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(e),s}getFixedT(e,t,n){var s=this;const r=function(o,a){let l;if(typeof a!="object"){for(var u=arguments.length,f=new Array(u>2?u-2:0),d=2;d<u;d++)f[d-2]=arguments[d];l=s.options.overloadTranslationOptionHandler([o,a].concat(f))}else l={...a};l.lng=l.lng||r.lng,l.lngs=l.lngs||r.lngs,l.ns=l.ns||r.ns,l.keyPrefix!==""&&(l.keyPrefix=l.keyPrefix||n||r.keyPrefix);const c=s.options.keySeparator||".";let p;return l.keyPrefix&&Array.isArray(o)?p=o.map(m=>`${l.keyPrefix}${c}${m}`):p=l.keyPrefix?`${l.keyPrefix}${c}${o}`:o,s.t(p,l)};return typeof e=="string"?r.lng=e:r.lngs=e,r.ns=t,r.keyPrefix=n,r}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=t.lng||this.resolvedLanguage||this.languages[0],s=this.options?this.options.fallbackLng:!1,r=this.languages[this.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const o=(a,l)=>{const u=this.services.backendConnector.state[`${a}|${l}`];return u===-1||u===0||u===2};if(t.precheck){const a=t.precheck(this,o);if(a!==void 0)return a}return!!(this.hasResourceBundle(n,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(n,e)&&(!s||o(r,e)))}loadNamespaces(e,t){const n=Hn();return this.options.ns?(typeof e=="string"&&(e=[e]),e.forEach(s=>{this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}),this.loadResources(s=>{n.resolve(),t&&t(s)}),n):(t&&t(),Promise.resolve())}loadLanguages(e,t){const n=Hn();typeof e=="string"&&(e=[e]);const s=this.options.preload||[],r=e.filter(o=>s.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return r.length?(this.options.preload=s.concat(r),this.loadResources(o=>{n.resolve(),t&&t(o)}),n):(t&&t(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],n=this.services&&this.services.languageUtils||new kr(Or());return t.indexOf(n.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return new ns(e,t)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ps;const n=e.forkResourceStore;n&&delete e.forkResourceStore;const s={...this.options,...e,isClone:!0},r=new ns(s);return(e.debug!==void 0||e.prefix!==void 0)&&(r.logger=r.logger.clone(e)),["store","services","language"].forEach(a=>{r[a]=this[a]}),r.services={...this.services},r.services.utils={hasLoadedNamespace:r.hasLoadedNamespace.bind(r)},n&&(r.store=new Cr(this.store.data,s),r.services.resourceStore=r.store),r.translator=new Os(r.services,s),r.translator.on("*",function(a){for(var l=arguments.length,u=new Array(l>1?l-1:0),f=1;f<l;f++)u[f-1]=arguments[f];r.emit(a,...u)}),r.init(s,t),r.translator.options=s,r.translator.backendConnector.services.utils={hasLoadedNamespace:r.hasLoadedNamespace.bind(r)},r}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Ie=ns.createInstance();Ie.createInstance=ns.createInstance;Ie.createInstance;Ie.dir;Ie.init;Ie.loadResources;Ie.reloadResources;Ie.use;Ie.changeLanguage;Ie.getFixedT;Ie.t;Ie.exists;Ie.setDefaultNamespace;Ie.hasLoadedNamespace;Ie.loadNamespaces;Ie.loadLanguages;const si=Ge(!0);class Sl{constructor(e){this.i18n=this.createInstance(e),this.isLoading=this.createLoadingInstance(e)}createInstance(e){const t=Ge(e);return e.on("initialized",()=>{t.set(e)}),e.on("loaded",()=>{t.set(e)}),e.on("added",()=>t.set(e)),e.on("languageChanged",()=>{t.set(e)}),t}createLoadingInstance(e){return e.on("loaded",t=>{Object.keys(t).length!==0&&si.set(!1)}),e.on("failedLoading",()=>{si.set(!0)}),si}}const kl=i=>new Sl(i).i18n,Pl="Sponsored by",Al="PHOTOSHOP<br />to COMFYUI",Ol="Buy a Coffee ☕",Tl="V{{version}} - By NimaNzrii",Ll="Get Started",Il="🚀 Request new features!",El="Have an Idea?",Dl="🐞 Report bugs here!",Ml="Report",Rl="🤝 Collaborate with us!",xl="Collab",Nl="Let's Collaborate!",zl="If you'd like to work together, feel free to reach out via email.",Fl="Email me at:",Bl="Preset",Vl="Positive Prompt:",Hl="Negative Prompt:",Ul="Slider Value",jl="Randomize",ql="IP Address",Wl="Reset",Gl="Apply",Kl="Image Processing",Yl="DownScale if Bigger:",Jl="Upscale if Smaller:",Ql="Fix Mask Edge (feather mask)",Zl="Force Resize Layer To Doc Size",Xl="Crop Padding (%):",eu="Padding will only work when is enabled.",tu="General",nu="Show Negative Prompt in AI Panel",su="Keep Bottom Controller Visible",iu="Keep Everything Visible (Reload Required)",ru="Disable All Animations",ou="Reload Plugin",au="Logs",lu="Render on PS Changes",uu=`Crop to selection area.
(set padding in settings)`,fu="🖱️R-Click: Randomize",cu="Render",du="Add to Layer",hu="click empty Area",pu="Install",gu="Added New Features!",mu="✨ DO IT!",_u="Workflow",vu="Render Mode",bu="Render On Changes",yu="Prompt",wu="🔀 Auto Randomize each time",$u="ComfyUI Photoshop Plugin Panel",Cu="Save as PNG",Su="Connect",ku="Send Latest IMG & MASK etc to comfy",Pu="ComfyUI IP Address",Au="make it empty to reset",Ou="DownScale if Bigger",Tu="Upscale if Smaller",Lu="is enabled.",Iu={sponsoredBy:Pl,title:Al,buyACoffee:Ol,version:Tl,getStarted:Ll,requestFeatures:Il,haveAnIdea:El,reportBugs:Dl,report:Ml,collaborate:Rl,collab:xl,modalTitle:Nl,modalDescription:zl,emailMe:Fl,preset:Bl,positivePrompt:Vl,negativePrompt:Hl,sliderValue:Ul,randomize:jl,ipAddress:ql,reset:Wl,apply:Gl,imageProcessing:Kl,downScaleIfBigger:Yl,upScaleIfSmaller:Jl,fixMaskEdge:Ql,forceResize:Zl,cropPadding:Xl,paddingInfo:eu,general:tu,showNegativeInput:nu,keepBottomControllerVisible:su,keepEverythingVisible:iu,disableAllAnimations:ru,reloadPlugin:ou,logs:au,renderOnPSChanges:lu,cropToSelectionArea:uu,randomizeHint:fu,render:cu,addToLayer:du,clickEmptyArea:hu,install:pu,newFeatures:gu,installHint:mu,workflow:_u,renderMode:vu,renderOnChanges:bu,prompt:yu,autoRandomizeHint:wu,panelTitle:$u,saveAsPng:Cu,connect:Su,sendLatestImgAndMask:ku,comfyUIIP:Pu,resetStatus:Au,downscaleIfBigger:Ou,upscaleIfSmaller:Tu,enabled:Lu},Eu="赞助商",Du="PHOTOSHOP<br />到 COMFYUI",Mu="买杯咖啡 ☕",Ru="版本{{version}} - 由 NimaNzrii 提供",xu="开始使用",Nu="🚀 请求新功能!",zu="有想法吗?",Fu="🐞 在这里报告错误!",Bu="报告",Vu="🤝 与我们合作!",Hu="合作",Uu="让我们合作吧!",ju="如果你想一起合作，随时通过电子邮件联系我们。",qu="通过电子邮件联系我:",Wu="预设",Gu="正面提示:",Ku="负面提示:",Yu="滑块值",Ju="随机",Qu="IP 地址",Zu="重置",Xu="应用",ef="图像处理",tf="如果更大则缩小:",nf="如果更小则放大:",sf="修复遮罩边缘 (羽化遮罩)",rf="强制调整图层大小以匹配文档尺寸",of="裁剪填充 (%):",af="填充仅在 启用时有效。",lf="常规",uf="在 AI 面板中显示负面提示",ff="保持底部控制器可见",cf="保持一切可见 (需要重新加载)",df="禁用所有动画",hf="重新加载插件",pf="日志",gf="在 PS 更改时渲染",mf=`裁剪到选择区域。
(设置中调整填充)`,_f="🖱️ 右键单击: 随机化",vf="渲染",bf="添加到图层",yf="点击空白区域",wf="安装",$f="新增功能!",Cf="✨ 执行!",Sf="工作流",kf="渲染模式",Pf="更改时渲染",Af="提示",Of="🔀 每次自动随机化",Tf="ComfyUI Photoshop 插件面板",Lf="保存为 PNG",If="连接",Ef="将最新的图片和遮罩等发送到 comfy",Df="ComfyUI IP 地址",Mf="留空以重置",Rf="如果更大则缩小",xf="如果更小则放大",Nf="已启用",zf={sponsoredBy:Eu,title:Du,buyACoffee:Mu,version:Ru,getStarted:xu,requestFeatures:Nu,haveAnIdea:zu,reportBugs:Fu,report:Bu,collaborate:Vu,collab:Hu,modalTitle:Uu,modalDescription:ju,emailMe:qu,preset:Wu,positivePrompt:Gu,negativePrompt:Ku,sliderValue:Yu,randomize:Ju,ipAddress:Qu,reset:Zu,apply:Xu,imageProcessing:ef,downScaleIfBigger:tf,upScaleIfSmaller:nf,fixMaskEdge:sf,forceResize:rf,cropPadding:of,paddingInfo:af,general:lf,showNegativeInput:uf,keepBottomControllerVisible:ff,keepEverythingVisible:cf,disableAllAnimations:df,reloadPlugin:hf,logs:pf,renderOnPSChanges:gf,cropToSelectionArea:mf,randomizeHint:_f,render:vf,addToLayer:bf,clickEmptyArea:yf,install:wf,newFeatures:$f,installHint:Cf,workflow:Sf,renderMode:kf,renderOnChanges:Pf,prompt:Af,autoRandomizeHint:Of,panelTitle:Tf,saveAsPng:Lf,connect:If,sendLatestImgAndMask:Ef,comfyUIIP:Df,resetStatus:Mf,downscaleIfBigger:Rf,upscaleIfSmaller:xf,enabled:Nf},Ff="贊助商",Bf="PHOTOSHOP<br />到 COMFYUI",Vf="買杯咖啡 ☕",Hf="版本{{version}} - 由 NimaNzrii 提供",Uf="開始使用",jf="🚀 請求新功能!",qf="有想法嗎?",Wf="🐞 在這裡報告錯誤!",Gf="報告",Kf="🤝 與我們合作!",Yf="合作",Jf="讓我們合作吧!",Qf="如果你想一起合作，隨時通過電子郵件聯繫我們。",Zf="電子郵件聯繫我:",Xf="預設",ec="正面提示:",tc="負面提示:",nc="滑桿值",sc="隨機化",ic="IP 地址",rc="重置",oc="應用",ac="圖像處理",lc="如果更大則縮小:",uc="如果更小則放大:",fc="修復遮罩邊緣 (羽化遮罩)",cc="強制調整圖層大小以匹配文檔尺寸",dc="裁剪填充 (%):",hc="填充僅在啟用時有效。",pc="一般",gc="在 AI 面板中顯示負面提示",mc="保持底部控制器可見",_c="保持一切可見 (需要重新載入)",vc="禁用所有動畫",bc="重新載入插件",yc="日誌",wc="在 PS 更改時渲染",$c=`裁剪到選擇區域。
(設定中調整填充)`,Cc="🖱️ 右鍵點擊: 隨機化",Sc="渲染",kc="添加到圖層",Pc="點擊空白區域",Ac="安裝",Oc="新增功能!",Tc="✨ 執行!",Lc="工作流程",Ic="渲染模式",Ec="變更時渲染",Dc="提示",Mc="🔀 每次自動隨機化",Rc="ComfyUI Photoshop 插件面板",xc="保存為 PNG",Nc="連接",zc="將最新的圖像和遮罩等發送到 comfy",Fc="ComfyUI IP 地址",Bc="留空以重置",Vc="若較大則縮小",Hc="若較小則放大",Uc="已啟用",jc={sponsoredBy:Ff,title:Bf,buyACoffee:Vf,version:Hf,getStarted:Uf,requestFeatures:jf,haveAnIdea:qf,reportBugs:Wf,report:Gf,collaborate:Kf,collab:Yf,modalTitle:Jf,modalDescription:Qf,emailMe:Zf,preset:Xf,positivePrompt:ec,negativePrompt:tc,sliderValue:nc,randomize:sc,ipAddress:ic,reset:rc,apply:oc,imageProcessing:ac,downScaleIfBigger:lc,upScaleIfSmaller:uc,fixMaskEdge:fc,forceResize:cc,cropPadding:dc,paddingInfo:hc,general:pc,showNegativeInput:gc,keepBottomControllerVisible:mc,keepEverythingVisible:_c,disableAllAnimations:vc,reloadPlugin:bc,logs:yc,renderOnPSChanges:wc,cropToSelectionArea:$c,randomizeHint:Cc,render:Sc,addToLayer:kc,clickEmptyArea:Pc,install:Ac,newFeatures:Oc,installHint:Tc,workflow:Lc,renderMode:Ic,renderOnChanges:Ec,prompt:Dc,autoRandomizeHint:Mc,panelTitle:Rc,saveAsPng:xc,connect:Nc,sendLatestImgAndMask:zc,comfyUIIP:Fc,resetStatus:Bc,downscaleIfBigger:Vc,upscaleIfSmaller:Hc,enabled:Uc},qc="후원:",Wc="포토샵<br />에서 COMFYUI로",Gc="커피 한 잔 사기 ☕",Kc="버전{{version}} - NimaNzrii 제공",Yc="시작하기",Jc="🚀 새로운 기능 요청하기!",Qc="아이디어가 있나요?",Zc="🐞 버그 보고하기!",Xc="보고하기",ed="🤝 협력하기!",td="협력",nd="협력하자!",sd="함께 작업하고 싶다면 이메일로 연락주세요.",id="이메일로 연락하기:",rd="프리셋",od="긍정적 프롬프트:",ad="부정적 프롬프트:",ld="슬라이더 값",ud="랜덤화",fd="IP 주소",cd="재설정",dd="적용",hd="이미지 처리",pd="크면 축소:",gd="작으면 확대:",md="마스크 가장자리 수정 (마스크 흐림)",_d="문서 크기에 맞게 레이어 강제 리사이즈",vd="크롭 패딩 (%):",bd="패딩은가 활성화 되어 있을 때만 작동합니다.",yd="일반",wd="AI 패널에 부정적 프롬프트 표시",$d="하단 컨트롤러 항상 표시",Cd="모두 보기 (재로드 필요)",Sd="모든 애니메이션 비활성화",kd="플러그인 재로드",Pd="로그",Ad="PS 변경 시 렌더링",Od=`선택 영역으로 크롭.
(설정에서 패딩 설정)`,Td="🖱️오른쪽 클릭: 랜덤화",Ld="렌더링",Id="레이어에 추가",Ed="빈 영역 클릭",Dd="설치",Md="새 기능 추가됨!",Rd="✨ 실행!",xd="워크플로우",Nd="렌더링 모드",zd="변경 시 렌더링",Fd="프롬프트",Bd="🔀 매번 자동 랜덤화",Vd="ComfyUI 포토샵 플러그인 패널",Hd="PNG로 저장",Ud="연결",jd="최신 이미지 및 마스크를 comfy로 전송",qd="ComfyUI IP 주소",Wd="비워두면 재설정됩니다",Gd="더 클 경우 축소",Kd="더 작을 경우 확대",Yd="활성화됨",Jd={sponsoredBy:qc,title:Wc,buyACoffee:Gc,version:Kc,getStarted:Yc,requestFeatures:Jc,haveAnIdea:Qc,reportBugs:Zc,report:Xc,collaborate:ed,collab:td,modalTitle:nd,modalDescription:sd,emailMe:id,preset:rd,positivePrompt:od,negativePrompt:ad,sliderValue:ld,randomize:ud,ipAddress:fd,reset:cd,apply:dd,imageProcessing:hd,downScaleIfBigger:pd,upScaleIfSmaller:gd,fixMaskEdge:md,forceResize:_d,cropPadding:vd,paddingInfo:bd,general:yd,showNegativeInput:wd,keepBottomControllerVisible:$d,keepEverythingVisible:Cd,disableAllAnimations:Sd,reloadPlugin:kd,logs:Pd,renderOnPSChanges:Ad,cropToSelectionArea:Od,randomizeHint:Td,render:Ld,addToLayer:Id,clickEmptyArea:Ed,install:Dd,newFeatures:Md,installHint:Rd,workflow:xd,renderMode:Nd,renderOnChanges:zd,prompt:Fd,autoRandomizeHint:Bd,panelTitle:Vd,saveAsPng:Hd,connect:Ud,sendLatestImgAndMask:jd,comfyUIIP:qd,resetStatus:Wd,downscaleIfBigger:Gd,upscaleIfSmaller:Kd,enabled:Yd},Qd="スポンサー提供",Zd="PHOTOSHOP<br />から COMFYUI へ",Xd="コーヒーを買う ☕",e1="バージョン{{version}} - NimaNzriiによる",t1="始める",n1="🚀 新機能をリクエスト!",s1="アイデアはありますか?",i1="🐞 バグを報告する!",r1="報告",o1="🤝 私たちと協力!",a1="協力",l1="協力しましょう!",u1="一緒に仕事をしたい場合は、メールでご連絡ください。",f1="メールで連絡してください:",c1="プリセット",d1="ポジティブプロンプト:",h1="ネガティブプロンプト:",p1="スライダーの値",g1="ランダム化",m1="IPアドレス",_1="リセット",v1="適用",b1="画像処理",y1="大きい場合は縮小:",w1="小さい場合は拡大:",$1="マスクエッジを修正 (マスクをぼかす)",C1="レイヤーをドキュメントサイズに強制的にリサイズ",S1="クロップパディング (%):",k1="パディングはが有効になっている場合のみ機能します。",P1="一般",A1="AIパネルにネガティブプロンプトを表示",O1="下部コントローラーを常に表示",T1="すべてを表示 (再読み込みが必要)",L1="すべてのアニメーションを無効にする",I1="プラグインを再読み込み",E1="ログ",D1="PSの変更時にレンダリング",M1=`選択エリアにクロップ。
(設定でパディングを設定)`,R1="🖱️右クリック: ランダム化",x1="レンダリング",N1="レイヤーに追加",z1="空の領域をクリック",F1="インストール",B1="新機能が追加されました!",V1="✨ 実行!",H1="ワークフロー",U1="レンダリングモード",j1="変更時にレンダリング",q1="プロンプト",W1="🔀 自動ランダム化",G1="ComfyUI Photoshop プラグインパネル",K1="PNGとして保存",Y1="接続",J1="最新の画像とマスクを comfy に送信",Q1="ComfyUI IP アドレス",Z1="空にするとリセットされます",X1="大きい場合は縮小",eh="小さい場合は拡大",th="が有効です",nh={sponsoredBy:Qd,title:Zd,buyACoffee:Xd,version:e1,getStarted:t1,requestFeatures:n1,haveAnIdea:s1,reportBugs:i1,report:r1,collaborate:o1,collab:a1,modalTitle:l1,modalDescription:u1,emailMe:f1,preset:c1,positivePrompt:d1,negativePrompt:h1,sliderValue:p1,randomize:g1,ipAddress:m1,reset:_1,apply:v1,imageProcessing:b1,downScaleIfBigger:y1,upScaleIfSmaller:w1,fixMaskEdge:$1,forceResize:C1,cropPadding:S1,paddingInfo:k1,general:P1,showNegativeInput:A1,keepBottomControllerVisible:O1,keepEverythingVisible:T1,disableAllAnimations:L1,reloadPlugin:I1,logs:E1,renderOnPSChanges:D1,cropToSelectionArea:M1,randomizeHint:R1,render:x1,addToLayer:N1,clickEmptyArea:z1,install:F1,newFeatures:B1,installHint:V1,workflow:H1,renderMode:U1,renderOnChanges:j1,prompt:q1,autoRandomizeHint:W1,panelTitle:G1,saveAsPng:K1,connect:Y1,sendLatestImgAndMask:J1,comfyUIIP:Q1,resetStatus:Z1,downscaleIfBigger:X1,upscaleIfSmaller:eh,enabled:th},Ts={1:{name:"English",short:"en_US"},2:{name:"简体中文",short:"zh_CN"},3:{name:"繁體中文",short:"zh_TW"},4:{name:"한국어",short:"ko_KR"},5:{name:"日本語",short:"ja_JP"}},sh=Object.entries(Ts).map(([i,e])=>({id:i,...e})),Lr=sh.find(i=>i.short===Za),Ls=Ee("pluginlang",Lr?Lr.id:"1"),ih=require("uxp").host.uiLocale,rh="en_US";function $o(i){var n;const e=((n=Ts[i])==null?void 0:n.short)||ih,t=Object.values(Ts).some(s=>s.short===e)?e:rh;Ie.init({lng:t,resources:{en_US:{translation:Iu},zh_CN:{translation:zf},zh_TW:{translation:jc},ko_KR:{translation:Jd},ja_JP:{translation:nh}}})}Ls.subscribe(i=>{$o(i)});const un=kl(Ie);$o(Qe(Ls));const ss=require("uxp").versions.plugin;function Ee(i,e,t=e){const n=localStorage.getItem(i);let s=n?JSON.parse(n):e;const r=Ge(s);return r.subscribe(o=>{try{localStorage.setItem(i,JSON.stringify(o)),(o===""||o===null||o===void 0)&&o!=t&&(ne.warn(`Value for key "${i}" is invalid, resetting to default.`),r.set(t))}catch(a){ne.error(`Failed to update localStorage for key "${i}":`,a)}}),r}const Co=Ee("imageMode","cover"),On=Ee("positivePrompt","",""),Tn=Ee("negativePrompt","",""),Nt=Ee("sliderValue","32","0"),Is=Ee("cropPad","32",""),Dt=Ee("seed","1379","1"),bi=Ee("maxRes","1024","1024"),yi=Ee("minRes","512","512"),wi=Ee("fixMaskEdge",!0,!0),$i=Ee("showNegativeInput",!1),Ln=Ee("NoAnim",!1),on=Ee("cropToBounding",!1),Es=Ee("StaticPanel",!0),_s=Ee("DontHideController",!0),Ci=Ee("ForceResize",!1),Si=Ee("bgImg",vo),is=Ge(!0),Xt=Ge(!0),Un=Ge(!0),ki=Ge(!1),Pi=Ge(!1),Yn=Ge(!1),Jn=Ge(!1),So=Ge(""),rt=Ge("http://127.0.0.1:8188"),Ds=Ge(null),ko=Ge({status:"Not Connected",color:"red"});function St(i,e){let t=null;i instanceof MouseEvent?t=i.currentTarget:i instanceof CustomEvent&&(t=i.detail.target||i.target),t instanceof HTMLElement?(Ds.set(t),So.set(e)):Ds.set(null)}function $t(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function Po(i,e){i.prototype=Object.create(e.prototype),i.prototype.constructor=i,i.__proto__=e}/*!
 * GSAP 3.12.5
 * https://gsap.com
 *
 * @license Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var Ze={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},In={duration:.5,overwrite:!1,delay:0},Ji,Re,pe,nt=1e8,ce=1/nt,Ai=Math.PI*2,oh=Ai/4,ah=0,Ao=Math.sqrt,lh=Math.cos,uh=Math.sin,Te=function(e){return typeof e=="string"},ye=function(e){return typeof e=="function"},kt=function(e){return typeof e=="number"},Qi=function(e){return typeof e>"u"},vt=function(e){return typeof e=="object"},He=function(e){return e!==!1},Zi=function(){return typeof window<"u"},gs=function(e){return ye(e)||Te(e)},Oo=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},xe=Array.isArray,Oi=/(?:-?\.?\d|\.)+/gi,To=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,vn=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,ii=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,Lo=/[+-]=-?[.\d]+/,Io=/[^,'"\[\]\s]+/gi,fh=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,ge,ct,Ti,Xi,Xe={},Ms={},Eo,Do=function(e){return(Ms=an(e,Xe))&&We},er=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},rs=function(e,t){return!t&&console.warn(e)},Mo=function(e,t){return e&&(Xe[e]=t)&&Ms&&(Ms[e]=t)||Xe},os=function(){return 0},ch={suppressEvents:!0,isStart:!0,kill:!1},vs={suppressEvents:!0,kill:!1},dh={suppressEvents:!0},tr={},zt=[],Li={},Ro,Ke={},ri={},Ir=30,bs=[],nr="",sr=function(e){var t=e[0],n,s;if(vt(t)||ye(t)||(e=[e]),!(n=(t._gsap||{}).harness)){for(s=bs.length;s--&&!bs[s].targetTest(t););n=bs[s]}for(s=e.length;s--;)e[s]&&(e[s]._gsap||(e[s]._gsap=new ra(e[s],n)))||e.splice(s,1);return e},tn=function(e){return e._gsap||sr(st(e))[0]._gsap},xo=function(e,t,n){return(n=e[t])&&ye(n)?e[t]():Qi(n)&&e.getAttribute&&e.getAttribute(t)||n},Ue=function(e,t){return(e=e?.split(",")).forEach(t)||e},Se=function(e){return Math.round(e*1e5)/1e5||0},Ae=function(e){return Math.round(e*1e7)/1e7||0},$n=function(e,t){var n=t.charAt(0),s=parseFloat(t.substr(2));return e=parseFloat(e),n==="+"?e+s:n==="-"?e-s:n==="*"?e*s:e/s},hh=function(e,t){for(var n=t.length,s=0;e.indexOf(t[s])<0&&++s<n;);return s<n},Rs=function(){var e=zt.length,t=zt.slice(0),n,s;for(Li={},zt.length=0,n=0;n<e;n++)s=t[n],s&&s._lazy&&(s.render(s._lazy[0],s._lazy[1],!0)._lazy=0)},No=function(e,t,n,s){zt.length&&!Re&&Rs(),e.render(t,n,Re&&t<0&&(e._initted||e._startAt)),zt.length&&!Re&&Rs()},zo=function(e){var t=parseFloat(e);return(t||t===0)&&(e+"").match(Io).length<2?t:Te(e)?e.trim():e},Fo=function(e){return e},it=function(e,t){for(var n in t)n in e||(e[n]=t[n]);return e},ph=function(e){return function(t,n){for(var s in n)s in t||s==="duration"&&e||s==="ease"||(t[s]=n[s])}},an=function(e,t){for(var n in t)e[n]=t[n];return e},Er=function i(e,t){for(var n in t)n!=="__proto__"&&n!=="constructor"&&n!=="prototype"&&(e[n]=vt(t[n])?i(e[n]||(e[n]={}),t[n]):t[n]);return e},xs=function(e,t){var n={},s;for(s in e)s in t||(n[s]=e[s]);return n},Qn=function(e){var t=e.parent||ge,n=e.keyframes?ph(xe(e.keyframes)):it;if(He(e.inherit))for(;t;)n(e,t.vars.defaults),t=t.parent||t._dp;return e},gh=function(e,t){for(var n=e.length,s=n===t.length;s&&n--&&e[n]===t[n];);return n<0},Bo=function(e,t,n,s,r){var o=e[s],a;if(r)for(a=t[r];o&&o[r]>a;)o=o._prev;return o?(t._next=o._next,o._next=t):(t._next=e[n],e[n]=t),t._next?t._next._prev=t:e[s]=t,t._prev=o,t.parent=t._dp=e,t},Gs=function(e,t,n,s){n===void 0&&(n="_first"),s===void 0&&(s="_last");var r=t._prev,o=t._next;r?r._next=o:e[n]===t&&(e[n]=o),o?o._prev=r:e[s]===t&&(e[s]=r),t._next=t._prev=t.parent=null},Ht=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},nn=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var n=e;n;)n._dirty=1,n=n.parent;return e},mh=function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e},Ii=function(e,t,n,s){return e._startAt&&(Re?e._startAt.revert(vs):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,s))},_h=function i(e){return!e||e._ts&&i(e.parent)},Dr=function(e){return e._repeat?En(e._tTime,e=e.duration()+e._rDelay)*e:0},En=function(e,t){var n=Math.floor(e/=t);return e&&n===e?n-1:n},Ns=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},Ks=function(e){return e._end=Ae(e._start+(e._tDur/Math.abs(e._ts||e._rts||ce)||0))},Ys=function(e,t){var n=e._dp;return n&&n.smoothChildTiming&&e._ts&&(e._start=Ae(n._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),Ks(e),n._dirty||nn(n,e)),e},Vo=function(e,t){var n;if((t._time||!t._dur&&t._initted||t._start<e._time&&(t._dur||!t.add))&&(n=Ns(e.rawTime(),t),(!t._dur||ds(0,t.totalDuration(),n)-t._tTime>ce)&&t.render(n,!0)),nn(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(n=e;n._dp;)n.rawTime()>=0&&n.totalTime(n._tTime),n=n._dp;e._zTime=-ce}},dt=function(e,t,n,s){return t.parent&&Ht(t),t._start=Ae((kt(n)?n:n||e!==ge?et(e,n,t):e._time)+t._delay),t._end=Ae(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),Bo(e,t,"_first","_last",e._sort?"_start":0),Ei(t)||(e._recent=t),s||Vo(e,t),e._ts<0&&Ys(e,e._tTime),e},Ho=function(e,t){return(Xe.ScrollTrigger||er("scrollTrigger",t))&&Xe.ScrollTrigger.create(t,e)},Uo=function(e,t,n,s,r){if(rr(e,t,r),!e._initted)return 1;if(!n&&e._pt&&!Re&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&Ro!==Ye.frame)return zt.push(e),e._lazy=[r,s],1},vh=function i(e){var t=e.parent;return t&&t._ts&&t._initted&&!t._lock&&(t.rawTime()<0||i(t))},Ei=function(e){var t=e.data;return t==="isFromStart"||t==="isStart"},bh=function(e,t,n,s){var r=e.ratio,o=t<0||!t&&(!e._start&&vh(e)&&!(!e._initted&&Ei(e))||(e._ts<0||e._dp._ts<0)&&!Ei(e))?0:1,a=e._rDelay,l=0,u,f,d;if(a&&e._repeat&&(l=ds(0,e._tDur,t),f=En(l,a),e._yoyo&&f&1&&(o=1-o),f!==En(e._tTime,a)&&(r=1-o,e.vars.repeatRefresh&&e._initted&&e.invalidate())),o!==r||Re||s||e._zTime===ce||!t&&e._zTime){if(!e._initted&&Uo(e,t,s,n,l))return;for(d=e._zTime,e._zTime=t||(n?ce:0),n||(n=t&&!d),e.ratio=o,e._from&&(o=1-o),e._time=0,e._tTime=l,u=e._pt;u;)u.r(o,u.d),u=u._next;t<0&&Ii(e,t,n,!0),e._onUpdate&&!n&&Je(e,"onUpdate"),l&&e._repeat&&!n&&e.parent&&Je(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===o&&(o&&Ht(e,1),!n&&!Re&&(Je(e,o?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)},yh=function(e,t,n){var s;if(n>t)for(s=e._first;s&&s._start<=n;){if(s.data==="isPause"&&s._start>t)return s;s=s._next}else for(s=e._last;s&&s._start>=n;){if(s.data==="isPause"&&s._start<t)return s;s=s._prev}},Dn=function(e,t,n,s){var r=e._repeat,o=Ae(t)||0,a=e._tTime/e._tDur;return a&&!s&&(e._time*=o/e._dur),e._dur=o,e._tDur=r?r<0?1e10:Ae(o*(r+1)+e._rDelay*r):o,a>0&&!s&&Ys(e,e._tTime=e._tDur*a),e.parent&&Ks(e),n||nn(e.parent,e),e},Mr=function(e){return e instanceof ze?nn(e):Dn(e,e._dur)},wh={_start:0,endTime:os,totalDuration:os},et=function i(e,t,n){var s=e.labels,r=e._recent||wh,o=e.duration()>=nt?r.endTime(!1):e._dur,a,l,u;return Te(t)&&(isNaN(t)||t in s)?(l=t.charAt(0),u=t.substr(-1)==="%",a=t.indexOf("="),l==="<"||l===">"?(a>=0&&(t=t.replace(/=/,"")),(l==="<"?r._start:r.endTime(r._repeat>=0))+(parseFloat(t.substr(1))||0)*(u?(a<0?r:n).totalDuration()/100:1)):a<0?(t in s||(s[t]=o),s[t]):(l=parseFloat(t.charAt(a-1)+t.substr(a+1)),u&&n&&(l=l/100*(xe(n)?n[0]:n).totalDuration()),a>1?i(e,t.substr(0,a-1),n)+l:o+l)):t==null?o:+t},Zn=function(e,t,n){var s=kt(t[1]),r=(s?2:1)+(e<2?0:1),o=t[r],a,l;if(s&&(o.duration=t[1]),o.parent=n,e){for(a=o,l=n;l&&!("immediateRender"in a);)a=l.vars.defaults||{},l=He(l.vars.inherit)&&l.parent;o.immediateRender=He(a.immediateRender),e<2?o.runBackwards=1:o.startAt=t[r-1]}return new ke(t[0],o,t[r+1])},Kt=function(e,t){return e||e===0?t(e):t},ds=function(e,t,n){return n<e?e:n>t?t:n},Me=function(e,t){return!Te(e)||!(t=fh.exec(e))?"":t[1]},$h=function(e,t,n){return Kt(n,function(s){return ds(e,t,s)})},Di=[].slice,jo=function(e,t){return e&&vt(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&vt(e[0]))&&!e.nodeType&&e!==ct},Ch=function(e,t,n){return n===void 0&&(n=[]),e.forEach(function(s){var r;return Te(s)&&!t||jo(s,1)?(r=n).push.apply(r,st(s)):n.push(s)})||n},st=function(e,t,n){return pe&&!t&&pe.selector?pe.selector(e):Te(e)&&!n&&(Ti||!Mn())?Di.call((t||Xi).querySelectorAll(e),0):xe(e)?Ch(e,n):jo(e)?Di.call(e,0):e?[e]:[]},Mi=function(e){return e=st(e)[0]||rs("Invalid scope")||{},function(t){var n=e.current||e.nativeElement||e;return st(t,n.querySelectorAll?n:n===e?rs("Invalid scope")||Xi.createElement("div"):e)}},qo=function(e){return e.sort(function(){return .5-Math.random()})},Wo=function(e){if(ye(e))return e;var t=vt(e)?e:{each:e},n=sn(t.ease),s=t.from||0,r=parseFloat(t.base)||0,o={},a=s>0&&s<1,l=isNaN(s)||a,u=t.axis,f=s,d=s;return Te(s)?f=d={center:.5,edges:.5,end:1}[s]||0:!a&&l&&(f=s[0],d=s[1]),function(c,p,m){var h=(m||t).length,g=o[h],_,b,y,C,v,k,P,S,A;if(!g){if(A=t.grid==="auto"?0:(t.grid||[1,nt])[1],!A){for(P=-nt;P<(P=m[A++].getBoundingClientRect().left)&&A<h;);A<h&&A--}for(g=o[h]=[],_=l?Math.min(A,h)*f-.5:s%A,b=A===nt?0:l?h*d/A-.5:s/A|0,P=0,S=nt,k=0;k<h;k++)y=k%A-_,C=b-(k/A|0),g[k]=v=u?Math.abs(u==="y"?C:y):Ao(y*y+C*C),v>P&&(P=v),v<S&&(S=v);s==="random"&&qo(g),g.max=P-S,g.min=S,g.v=h=(parseFloat(t.amount)||parseFloat(t.each)*(A>h?h-1:u?u==="y"?h/A:A:Math.max(A,h/A))||0)*(s==="edges"?-1:1),g.b=h<0?r-h:r,g.u=Me(t.amount||t.each)||0,n=n&&h<0?na(n):n}return h=(g[c]-g.min)/g.max||0,Ae(g.b+(n?n(h):h)*g.v)+g.u}},Ri=function(e){var t=Math.pow(10,((e+"")?.split(".")[1]||"").length);return function(n){var s=Ae(Math.round(parseFloat(n)/e)*e*t);return(s-s%1)/t+(kt(n)?0:Me(n))}},Go=function(e,t){var n=xe(e),s,r;return!n&&vt(e)&&(s=n=e.radius||nt,e.values?(e=st(e.values),(r=!kt(e[0]))&&(s*=s)):e=Ri(e.increment)),Kt(t,n?ye(e)?function(o){return r=e(o),Math.abs(r-o)<=s?r:o}:function(o){for(var a=parseFloat(r?o.x:o),l=parseFloat(r?o.y:0),u=nt,f=0,d=e.length,c,p;d--;)r?(c=e[d].x-a,p=e[d].y-l,c=c*c+p*p):c=Math.abs(e[d]-a),c<u&&(u=c,f=d);return f=!s||u<=s?e[f]:o,r||f===o||kt(o)?f:f+Me(o)}:Ri(e))},Ko=function(e,t,n,s){return Kt(xe(e)?!t:n===!0?!!(n=0):!s,function(){return xe(e)?e[~~(Math.random()*e.length)]:(n=n||1e-5)&&(s=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((e-n/2+Math.random()*(t-e+n*.99))/n)*n*s)/s})},Sh=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(s){return t.reduce(function(r,o){return o(r)},s)}},kh=function(e,t){return function(n){return e(parseFloat(n))+(t||Me(n))}},Ph=function(e,t,n){return Jo(e,t,0,1,n)},Yo=function(e,t,n){return Kt(n,function(s){return e[~~t(s)]})},Ah=function i(e,t,n){var s=t-e;return xe(e)?Yo(e,i(0,e.length),t):Kt(n,function(r){return(s+(r-e)%s)%s+e})},Oh=function i(e,t,n){var s=t-e,r=s*2;return xe(e)?Yo(e,i(0,e.length-1),t):Kt(n,function(o){return o=(r+(o-e)%r)%r||0,e+(o>s?r-o:o)})},as=function(e){for(var t=0,n="",s,r,o,a;~(s=e.indexOf("random(",t));)o=e.indexOf(")",s),a=e.charAt(s+7)==="[",r=e.substr(s+7,o-s-7).match(a?Io:Oi),n+=e.substr(t,s-t)+Ko(a?r:+r[0],a?0:+r[1],+r[2]||1e-5),t=o+1;return n+e.substr(t,e.length-t)},Jo=function(e,t,n,s,r){var o=t-e,a=s-n;return Kt(r,function(l){return n+((l-e)/o*a||0)})},Th=function i(e,t,n,s){var r=isNaN(e+t)?0:function(p){return(1-p)*e+p*t};if(!r){var o=Te(e),a={},l,u,f,d,c;if(n===!0&&(s=1)&&(n=null),o)e={p:e},t={p:t};else if(xe(e)&&!xe(t)){for(f=[],d=e.length,c=d-2,u=1;u<d;u++)f.push(i(e[u-1],e[u]));d--,r=function(m){m*=d;var h=Math.min(c,~~m);return f[h](m-h)},n=t}else s||(e=an(xe(e)?[]:{},e));if(!f){for(l in t)ir.call(a,e,l,"get",t[l]);r=function(m){return lr(m,a)||(o?e.p:e)}}}return Kt(n,r)},Rr=function(e,t,n){var s=e.labels,r=nt,o,a,l;for(o in s)a=s[o]-t,a<0==!!n&&a&&r>(a=Math.abs(a))&&(l=o,r=a);return l},Je=function(e,t,n){var s=e.vars,r=s[t],o=pe,a=e._ctx,l,u,f;if(r)return l=s[t+"Params"],u=s.callbackScope||e,n&&zt.length&&Rs(),a&&(pe=a),f=l?r.apply(u,l):r.call(u),pe=o,f},qn=function(e){return Ht(e),e.scrollTrigger&&e.scrollTrigger.kill(!!Re),e.progress()<1&&Je(e,"onInterrupt"),e},bn,Qo=[],Zo=function(e){if(e)if(e=!e.name&&e.default||e,Zi()||e.headless){var t=e.name,n=ye(e),s=t&&!n&&e.init?function(){this._props=[]}:e,r={init:os,render:lr,add:ir,kill:qh,modifier:jh,rawVars:0},o={targetTest:0,get:0,getSetter:ar,aliases:{},register:0};if(Mn(),e!==s){if(Ke[t])return;it(s,it(xs(e,r),o)),an(s.prototype,an(r,xs(e,o))),Ke[s.prop=t]=s,e.targetTest&&(bs.push(s),tr[t]=1),t=(t==="css"?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}Mo(t,s),e.register&&e.register(We,s,je)}else Qo.push(e)},ue=255,Wn={aqua:[0,ue,ue],lime:[0,ue,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,ue],navy:[0,0,128],white:[ue,ue,ue],olive:[128,128,0],yellow:[ue,ue,0],orange:[ue,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[ue,0,0],pink:[ue,192,203],cyan:[0,ue,ue],transparent:[ue,ue,ue,0]},oi=function(e,t,n){return e+=e<0?1:e>1?-1:0,(e*6<1?t+(n-t)*e*6:e<.5?n:e*3<2?t+(n-t)*(2/3-e)*6:t)*ue+.5|0},Xo=function(e,t,n){var s=e?kt(e)?[e>>16,e>>8&ue,e&ue]:0:Wn.black,r,o,a,l,u,f,d,c,p,m;if(!s){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),Wn[e])s=Wn[e];else if(e.charAt(0)==="#"){if(e.length<6&&(r=e.charAt(1),o=e.charAt(2),a=e.charAt(3),e="#"+r+r+o+o+a+a+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return s=parseInt(e.substr(1,6),16),[s>>16,s>>8&ue,s&ue,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),s=[e>>16,e>>8&ue,e&ue]}else if(e.substr(0,3)==="hsl"){if(s=m=e.match(Oi),!t)l=+s[0]%360/360,u=+s[1]/100,f=+s[2]/100,o=f<=.5?f*(u+1):f+u-f*u,r=f*2-o,s.length>3&&(s[3]*=1),s[0]=oi(l+1/3,r,o),s[1]=oi(l,r,o),s[2]=oi(l-1/3,r,o);else if(~e.indexOf("="))return s=e.match(To),n&&s.length<4&&(s[3]=1),s}else s=e.match(Oi)||Wn.transparent;s=s.map(Number)}return t&&!m&&(r=s[0]/ue,o=s[1]/ue,a=s[2]/ue,d=Math.max(r,o,a),c=Math.min(r,o,a),f=(d+c)/2,d===c?l=u=0:(p=d-c,u=f>.5?p/(2-d-c):p/(d+c),l=d===r?(o-a)/p+(o<a?6:0):d===o?(a-r)/p+2:(r-o)/p+4,l*=60),s[0]=~~(l+.5),s[1]=~~(u*100+.5),s[2]=~~(f*100+.5)),n&&s.length<4&&(s[3]=1),s},ea=function(e){var t=[],n=[],s=-1;return e?.split(Ft).forEach(function(r){var o=r.match(vn)||[];t.push.apply(t,o),n.push(s+=o.length+1)}),t.c=n,t},xr=function(e,t,n){var s="",r=(e+s).match(Ft),o=t?"hsla(":"rgba(",a=0,l,u,f,d;if(!r)return e;if(r=r.map(function(c){return(c=Xo(c,t,1))&&o+(t?c[0]+","+c[1]+"%,"+c[2]+"%,"+c[3]:c.join(","))+")"}),n&&(f=ea(e),l=n.c,l.join(s)!==f.c.join(s)))for(u=e.replace(Ft,"1")?.split(vn),d=u.length-1;a<d;a++)s+=u[a]+(~l.indexOf(a)?r.shift()||o+"0,0,0,0)":(f.length?f:r.length?r:n).shift());if(!u)for(u=e?.split(Ft),d=u.length-1;a<d;a++)s+=u[a]+r[a];return s+u[d]},Ft=function(){var i="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in Wn)i+="|"+e+"\\b";return new RegExp(i+")","gi")}(),Lh=/hsl[a]?\(/,ta=function(e){var t=e.join(" "),n;if(Ft.lastIndex=0,Ft.test(t))return n=Lh.test(t),e[1]=xr(e[1],n),e[0]=xr(e[0],n,ea(e[1])),!0},ls,Ye=function(){var i=Date.now,e=500,t=33,n=i(),s=n,r=1e3/240,o=r,a=[],l,u,f,d,c,p,m=function h(g){var _=i()-s,b=g===!0,y,C,v,k;if((_>e||_<0)&&(n+=_-t),s+=_,v=s-n,y=v-o,(y>0||b)&&(k=++d.frame,c=v-d.time*1e3,d.time=v=v/1e3,o+=y+(y>=r?4:r-y),C=1),b||(l=u(h)),C)for(p=0;p<a.length;p++)a[p](v,c,k,g)};return d={time:0,frame:0,tick:function(){m(!0)},deltaRatio:function(g){return c/(1e3/(g||60))},wake:function(){Eo&&(!Ti&&Zi()&&(ct=Ti=window,Xi=ct.document||{},Xe.gsap=We,(ct.gsapVersions||(ct.gsapVersions=[])).push(We.version),Do(Ms||ct.GreenSockGlobals||!ct.gsap&&ct||{}),Qo.forEach(Zo)),f=typeof requestAnimationFrame<"u"&&requestAnimationFrame,l&&d.sleep(),u=f||function(g){return setTimeout(g,o-d.time*1e3+1|0)},ls=1,m(2))},sleep:function(){(f?cancelAnimationFrame:clearTimeout)(l),ls=0,u=os},lagSmoothing:function(g,_){e=g||1/0,t=Math.min(_||33,e)},fps:function(g){r=1e3/(g||240),o=d.time*1e3+r},add:function(g,_,b){var y=_?function(C,v,k,P){g(C,v,k,P),d.remove(y)}:g;return d.remove(g),a[b?"unshift":"push"](y),Mn(),y},remove:function(g,_){~(_=a.indexOf(g))&&a.splice(_,1)&&p>=_&&p--},_listeners:a},d}(),Mn=function(){return!ls&&Ye.wake()},re={},Ih=/^[\d.\-M][\d.\-,\s]/,Eh=/["']/g,Dh=function(e){for(var t={},n=e.substr(1,e.length-3)?.split(":"),s=n[0],r=1,o=n.length,a,l,u;r<o;r++)l=n[r],a=r!==o-1?l.lastIndexOf(","):l.length,u=l.substr(0,a),t[s]=isNaN(u)?u.replace(Eh,"").trim():+u,s=l.substr(a+1).trim();return t},Mh=function(e){var t=e.indexOf("(")+1,n=e.indexOf(")"),s=e.indexOf("(",t);return e.substring(t,~s&&s<n?e.indexOf(")",n+1):n)},Rh=function(e){var t=(e+"")?.split("("),n=re[t[0]];return n&&t.length>1&&n.config?n.config.apply(null,~e.indexOf("{")?[Dh(t[1])]:Mh(e)?.split(",").map(zo)):re._CE&&Ih.test(e)?re._CE("",e):n},na=function(e){return function(t){return 1-e(1-t)}},sa=function i(e,t){for(var n=e._first,s;n;)n instanceof ze?i(n,t):n.vars.yoyoEase&&(!n._yoyo||!n._repeat)&&n._yoyo!==t&&(n.timeline?i(n.timeline,t):(s=n._ease,n._ease=n._yEase,n._yEase=s,n._yoyo=t)),n=n._next},sn=function(e,t){return e&&(ye(e)?e:re[e]||Rh(e))||t},fn=function(e,t,n,s){n===void 0&&(n=function(l){return 1-t(1-l)}),s===void 0&&(s=function(l){return l<.5?t(l*2)/2:1-t((1-l)*2)/2});var r={easeIn:t,easeOut:n,easeInOut:s},o;return Ue(e,function(a){re[a]=Xe[a]=r,re[o=a.toLowerCase()]=n;for(var l in r)re[o+(l==="easeIn"?".in":l==="easeOut"?".out":".inOut")]=re[a+"."+l]=r[l]}),r},ia=function(e){return function(t){return t<.5?(1-e(1-t*2))/2:.5+e((t-.5)*2)/2}},ai=function i(e,t,n){var s=t>=1?t:1,r=(n||(e?.3:.45))/(t<1?t:1),o=r/Ai*(Math.asin(1/s)||0),a=function(f){return f===1?1:s*Math.pow(2,-10*f)*uh((f-o)*r)+1},l=e==="out"?a:e==="in"?function(u){return 1-a(1-u)}:ia(a);return r=Ai/r,l.config=function(u,f){return i(e,u,f)},l},li=function i(e,t){t===void 0&&(t=1.70158);var n=function(o){return o?--o*o*((t+1)*o+t)+1:0},s=e==="out"?n:e==="in"?function(r){return 1-n(1-r)}:ia(n);return s.config=function(r){return i(e,r)},s};Ue("Linear,Quad,Cubic,Quart,Quint,Strong",function(i,e){var t=e<5?e+1:e;fn(i+",Power"+(t-1),e?function(n){return Math.pow(n,t)}:function(n){return n},function(n){return 1-Math.pow(1-n,t)},function(n){return n<.5?Math.pow(n*2,t)/2:1-Math.pow((1-n)*2,t)/2})});re.Linear.easeNone=re.none=re.Linear.easeIn;fn("Elastic",ai("in"),ai("out"),ai());(function(i,e){var t=1/e,n=2*t,s=2.5*t,r=function(a){return a<t?i*a*a:a<n?i*Math.pow(a-1.5/e,2)+.75:a<s?i*(a-=2.25/e)*a+.9375:i*Math.pow(a-2.625/e,2)+.984375};fn("Bounce",function(o){return 1-r(1-o)},r)})(7.5625,2.75);fn("Expo",function(i){return i?Math.pow(2,10*(i-1)):0});fn("Circ",function(i){return-(Ao(1-i*i)-1)});fn("Sine",function(i){return i===1?1:-lh(i*oh)+1});fn("Back",li("in"),li("out"),li());re.SteppedEase=re.steps=Xe.SteppedEase={config:function(e,t){e===void 0&&(e=1);var n=1/e,s=e+(t?0:1),r=t?1:0,o=1-ce;return function(a){return((s*ds(0,o,a)|0)+r)*n}}};In.ease=re["quad.out"];Ue("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(i){return nr+=i+","+i+"Params,"});var ra=function(e,t){this.id=ah++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:xo,this.set=t?t.getSetter:ar},us=function(){function i(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,Dn(this,+t.duration,1,1),this.data=t.data,pe&&(this._ctx=pe,pe.data.push(this)),ls||Ye.wake()}var e=i.prototype;return e.delay=function(n){return n||n===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+n-this._delay),this._delay=n,this):this._delay},e.duration=function(n){return arguments.length?this.totalDuration(this._repeat>0?n+(n+this._rDelay)*this._repeat:n):this.totalDuration()&&this._dur},e.totalDuration=function(n){return arguments.length?(this._dirty=0,Dn(this,this._repeat<0?n:(n-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(n,s){if(Mn(),!arguments.length)return this._tTime;var r=this._dp;if(r&&r.smoothChildTiming&&this._ts){for(Ys(this,n),!r._dp||r.parent||Vo(r,this);r&&r.parent;)r.parent._time!==r._start+(r._ts>=0?r._tTime/r._ts:(r.totalDuration()-r._tTime)/-r._ts)&&r.totalTime(r._tTime,!0),r=r.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&n<this._tDur||this._ts<0&&n>0||!this._tDur&&!n)&&dt(this._dp,this,this._start-this._delay)}return(this._tTime!==n||!this._dur&&!s||this._initted&&Math.abs(this._zTime)===ce||!n&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=n),No(this,n,s)),this},e.time=function(n,s){return arguments.length?this.totalTime(Math.min(this.totalDuration(),n+Dr(this))%(this._dur+this._rDelay)||(n?this._dur:0),s):this._time},e.totalProgress=function(n,s){return arguments.length?this.totalTime(this.totalDuration()*n,s):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>0?1:0},e.progress=function(n,s){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-n:n)+Dr(this),s):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(n,s){var r=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(n-1)*r,s):this._repeat?En(this._tTime,r)+1:1},e.timeScale=function(n,s){if(!arguments.length)return this._rts===-ce?0:this._rts;if(this._rts===n)return this;var r=this.parent&&this._ts?Ns(this.parent._time,this):this._tTime;return this._rts=+n||0,this._ts=this._ps||n===-ce?0:this._rts,this.totalTime(ds(-Math.abs(this._delay),this._tDur,r),s!==!1),Ks(this),mh(this)},e.paused=function(n){return arguments.length?(this._ps!==n&&(this._ps=n,n?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Mn(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==ce&&(this._tTime-=ce)))),this):this._ps},e.startTime=function(n){if(arguments.length){this._start=n;var s=this.parent||this._dp;return s&&(s._sort||!this.parent)&&dt(s,this,n-this._delay),this}return this._start},e.endTime=function(n){return this._start+(He(n)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(n){var s=this.parent||this._dp;return s?n&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Ns(s.rawTime(n),this):this._tTime:this._tTime},e.revert=function(n){n===void 0&&(n=dh);var s=Re;return Re=n,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(n),this.totalTime(-.01,n.suppressEvents)),this.data!=="nested"&&n.kill!==!1&&this.kill(),Re=s,this},e.globalTime=function(n){for(var s=this,r=arguments.length?n:s.rawTime();s;)r=s._start+r/(Math.abs(s._ts)||1),s=s._dp;return!this.parent&&this._sat?this._sat.globalTime(n):r},e.repeat=function(n){return arguments.length?(this._repeat=n===1/0?-2:n,Mr(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(n){if(arguments.length){var s=this._time;return this._rDelay=n,Mr(this),s?this.time(s):this}return this._rDelay},e.yoyo=function(n){return arguments.length?(this._yoyo=n,this):this._yoyo},e.seek=function(n,s){return this.totalTime(et(this,n),He(s))},e.restart=function(n,s){return this.play().totalTime(n?-this._delay:0,He(s))},e.play=function(n,s){return n!=null&&this.seek(n,s),this.reversed(!1).paused(!1)},e.reverse=function(n,s){return n!=null&&this.seek(n||this.totalDuration(),s),this.reversed(!0).paused(!1)},e.pause=function(n,s){return n!=null&&this.seek(n,s),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(n){return arguments.length?(!!n!==this.reversed()&&this.timeScale(-this._rts||(n?-ce:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-ce,this},e.isActive=function(){var n=this.parent||this._dp,s=this._start,r;return!!(!n||this._ts&&this._initted&&n.isActive()&&(r=n.rawTime(!0))>=s&&r<this.endTime(!0)-ce)},e.eventCallback=function(n,s,r){var o=this.vars;return arguments.length>1?(s?(o[n]=s,r&&(o[n+"Params"]=r),n==="onUpdate"&&(this._onUpdate=s)):delete o[n],this):o[n]},e.then=function(n){var s=this;return new Promise(function(r){var o=ye(n)?n:Fo,a=function(){var u=s.then;s.then=null,ye(o)&&(o=o(s))&&(o.then||o===s)&&(s.then=u),r(o),s.then=u};s._initted&&s.totalProgress()===1&&s._ts>=0||!s._tTime&&s._ts<0?a():s._prom=a})},e.kill=function(){qn(this)},i}();it(us.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-ce,_prom:0,_ps:!1,_rts:1});var ze=function(i){Po(e,i);function e(n,s){var r;return n===void 0&&(n={}),r=i.call(this,n)||this,r.labels={},r.smoothChildTiming=!!n.smoothChildTiming,r.autoRemoveChildren=!!n.autoRemoveChildren,r._sort=He(n.sortChildren),ge&&dt(n.parent||ge,$t(r),s),n.reversed&&r.reverse(),n.paused&&r.paused(!0),n.scrollTrigger&&Ho($t(r),n.scrollTrigger),r}var t=e.prototype;return t.to=function(s,r,o){return Zn(0,arguments,this),this},t.from=function(s,r,o){return Zn(1,arguments,this),this},t.fromTo=function(s,r,o,a){return Zn(2,arguments,this),this},t.set=function(s,r,o){return r.duration=0,r.parent=this,Qn(r).repeatDelay||(r.repeat=0),r.immediateRender=!!r.immediateRender,new ke(s,r,et(this,o),1),this},t.call=function(s,r,o){return dt(this,ke.delayedCall(0,s,r),o)},t.staggerTo=function(s,r,o,a,l,u,f){return o.duration=r,o.stagger=o.stagger||a,o.onComplete=u,o.onCompleteParams=f,o.parent=this,new ke(s,o,et(this,l)),this},t.staggerFrom=function(s,r,o,a,l,u,f){return o.runBackwards=1,Qn(o).immediateRender=He(o.immediateRender),this.staggerTo(s,r,o,a,l,u,f)},t.staggerFromTo=function(s,r,o,a,l,u,f,d){return a.startAt=o,Qn(a).immediateRender=He(a.immediateRender),this.staggerTo(s,r,a,l,u,f,d)},t.render=function(s,r,o){var a=this._time,l=this._dirty?this.totalDuration():this._tDur,u=this._dur,f=s<=0?0:Ae(s),d=this._zTime<0!=s<0&&(this._initted||!u),c,p,m,h,g,_,b,y,C,v,k,P;if(this!==ge&&f>l&&s>=0&&(f=l),f!==this._tTime||o||d){if(a!==this._time&&u&&(f+=this._time-a,s+=this._time-a),c=f,C=this._start,y=this._ts,_=!y,d&&(u||(a=this._zTime),(s||!r)&&(this._zTime=s)),this._repeat){if(k=this._yoyo,g=u+this._rDelay,this._repeat<-1&&s<0)return this.totalTime(g*100+s,r,o);if(c=Ae(f%g),f===l?(h=this._repeat,c=u):(h=~~(f/g),h&&h===f/g&&(c=u,h--),c>u&&(c=u)),v=En(this._tTime,g),!a&&this._tTime&&v!==h&&this._tTime-v*g-this._dur<=0&&(v=h),k&&h&1&&(c=u-c,P=1),h!==v&&!this._lock){var S=k&&v&1,A=S===(k&&h&1);if(h<v&&(S=!S),a=S?0:f%u?u:f,this._lock=1,this.render(a||(P?0:Ae(h*g)),r,!u)._lock=0,this._tTime=f,!r&&this.parent&&Je(this,"onRepeat"),this.vars.repeatRefresh&&!P&&(this.invalidate()._lock=1),a&&a!==this._time||_!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(u=this._dur,l=this._tDur,A&&(this._lock=2,a=S?u:-1e-4,this.render(a,!0),this.vars.repeatRefresh&&!P&&this.invalidate()),this._lock=0,!this._ts&&!_)return this;sa(this,P)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(b=yh(this,Ae(a),Ae(c)),b&&(f-=c-(c=b._start))),this._tTime=f,this._time=c,this._act=!y,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=s,a=0),!a&&c&&!r&&!h&&(Je(this,"onStart"),this._tTime!==f))return this;if(c>=a&&s>=0)for(p=this._first;p;){if(m=p._next,(p._act||c>=p._start)&&p._ts&&b!==p){if(p.parent!==this)return this.render(s,r,o);if(p.render(p._ts>0?(c-p._start)*p._ts:(p._dirty?p.totalDuration():p._tDur)+(c-p._start)*p._ts,r,o),c!==this._time||!this._ts&&!_){b=0,m&&(f+=this._zTime=-ce);break}}p=m}else{p=this._last;for(var H=s<0?s:c;p;){if(m=p._prev,(p._act||H<=p._end)&&p._ts&&b!==p){if(p.parent!==this)return this.render(s,r,o);if(p.render(p._ts>0?(H-p._start)*p._ts:(p._dirty?p.totalDuration():p._tDur)+(H-p._start)*p._ts,r,o||Re&&(p._initted||p._startAt)),c!==this._time||!this._ts&&!_){b=0,m&&(f+=this._zTime=H?-ce:ce);break}}p=m}}if(b&&!r&&(this.pause(),b.render(c>=a?0:-ce)._zTime=c>=a?1:-1,this._ts))return this._start=C,Ks(this),this.render(s,r,o);this._onUpdate&&!r&&Je(this,"onUpdate",!0),(f===l&&this._tTime>=this.totalDuration()||!f&&a)&&(C===this._start||Math.abs(y)!==Math.abs(this._ts))&&(this._lock||((s||!u)&&(f===l&&this._ts>0||!f&&this._ts<0)&&Ht(this,1),!r&&!(s<0&&!a)&&(f||a||!l)&&(Je(this,f===l&&s>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(f<l&&this.timeScale()>0)&&this._prom())))}return this},t.add=function(s,r){var o=this;if(kt(r)||(r=et(this,r,s)),!(s instanceof us)){if(xe(s))return s.forEach(function(a){return o.add(a,r)}),this;if(Te(s))return this.addLabel(s,r);if(ye(s))s=ke.delayedCall(0,s);else return this}return this!==s?dt(this,s,r):this},t.getChildren=function(s,r,o,a){s===void 0&&(s=!0),r===void 0&&(r=!0),o===void 0&&(o=!0),a===void 0&&(a=-nt);for(var l=[],u=this._first;u;)u._start>=a&&(u instanceof ke?r&&l.push(u):(o&&l.push(u),s&&l.push.apply(l,u.getChildren(!0,r,o)))),u=u._next;return l},t.getById=function(s){for(var r=this.getChildren(1,1,1),o=r.length;o--;)if(r[o].vars.id===s)return r[o]},t.remove=function(s){return Te(s)?this.removeLabel(s):ye(s)?this.killTweensOf(s):(Gs(this,s),s===this._recent&&(this._recent=this._last),nn(this))},t.totalTime=function(s,r){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Ae(Ye.time-(this._ts>0?s/this._ts:(this.totalDuration()-s)/-this._ts))),i.prototype.totalTime.call(this,s,r),this._forcing=0,this):this._tTime},t.addLabel=function(s,r){return this.labels[s]=et(this,r),this},t.removeLabel=function(s){return delete this.labels[s],this},t.addPause=function(s,r,o){var a=ke.delayedCall(0,r||os,o);return a.data="isPause",this._hasPause=1,dt(this,a,et(this,s))},t.removePause=function(s){var r=this._first;for(s=et(this,s);r;)r._start===s&&r.data==="isPause"&&Ht(r),r=r._next},t.killTweensOf=function(s,r,o){for(var a=this.getTweensOf(s,o),l=a.length;l--;)Mt!==a[l]&&a[l].kill(s,r);return this},t.getTweensOf=function(s,r){for(var o=[],a=st(s),l=this._first,u=kt(r),f;l;)l instanceof ke?hh(l._targets,a)&&(u?(!Mt||l._initted&&l._ts)&&l.globalTime(0)<=r&&l.globalTime(l.totalDuration())>r:!r||l.isActive())&&o.push(l):(f=l.getTweensOf(a,r)).length&&o.push.apply(o,f),l=l._next;return o},t.tweenTo=function(s,r){r=r||{};var o=this,a=et(o,s),l=r,u=l.startAt,f=l.onStart,d=l.onStartParams,c=l.immediateRender,p,m=ke.to(o,it({ease:r.ease||"none",lazy:!1,immediateRender:!1,time:a,overwrite:"auto",duration:r.duration||Math.abs((a-(u&&"time"in u?u.time:o._time))/o.timeScale())||ce,onStart:function(){if(o.pause(),!p){var g=r.duration||Math.abs((a-(u&&"time"in u?u.time:o._time))/o.timeScale());m._dur!==g&&Dn(m,g,0,1).render(m._time,!0,!0),p=1}f&&f.apply(m,d||[])}},r));return c?m.render(0):m},t.tweenFromTo=function(s,r,o){return this.tweenTo(r,it({startAt:{time:et(this,s)}},o))},t.recent=function(){return this._recent},t.nextLabel=function(s){return s===void 0&&(s=this._time),Rr(this,et(this,s))},t.previousLabel=function(s){return s===void 0&&(s=this._time),Rr(this,et(this,s),1)},t.currentLabel=function(s){return arguments.length?this.seek(s,!0):this.previousLabel(this._time+ce)},t.shiftChildren=function(s,r,o){o===void 0&&(o=0);for(var a=this._first,l=this.labels,u;a;)a._start>=o&&(a._start+=s,a._end+=s),a=a._next;if(r)for(u in l)l[u]>=o&&(l[u]+=s);return nn(this)},t.invalidate=function(s){var r=this._first;for(this._lock=0;r;)r.invalidate(s),r=r._next;return i.prototype.invalidate.call(this,s)},t.clear=function(s){s===void 0&&(s=!0);for(var r=this._first,o;r;)o=r._next,this.remove(r),r=o;return this._dp&&(this._time=this._tTime=this._pTime=0),s&&(this.labels={}),nn(this)},t.totalDuration=function(s){var r=0,o=this,a=o._last,l=nt,u,f,d;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-s:s));if(o._dirty){for(d=o.parent;a;)u=a._prev,a._dirty&&a.totalDuration(),f=a._start,f>l&&o._sort&&a._ts&&!o._lock?(o._lock=1,dt(o,a,f-a._delay,1)._lock=0):l=f,f<0&&a._ts&&(r-=f,(!d&&!o._dp||d&&d.smoothChildTiming)&&(o._start+=f/o._ts,o._time-=f,o._tTime-=f),o.shiftChildren(-f,!1,-1/0),l=0),a._end>r&&a._ts&&(r=a._end),a=u;Dn(o,o===ge&&o._time>r?o._time:r,1,1),o._dirty=0}return o._tDur},e.updateRoot=function(s){if(ge._ts&&(No(ge,Ns(s,ge)),Ro=Ye.frame),Ye.frame>=Ir){Ir+=Ze.autoSleep||120;var r=ge._first;if((!r||!r._ts)&&Ze.autoSleep&&Ye._listeners.length<2){for(;r&&!r._ts;)r=r._next;r||Ye.sleep()}}},e}(us);it(ze.prototype,{_lock:0,_hasPause:0,_forcing:0});var xh=function(e,t,n,s,r,o,a){var l=new je(this._pt,e,t,0,1,ca,null,r),u=0,f=0,d,c,p,m,h,g,_,b;for(l.b=n,l.e=s,n+="",s+="",(_=~s.indexOf("random("))&&(s=as(s)),o&&(b=[n,s],o(b,e,t),n=b[0],s=b[1]),c=n.match(ii)||[];d=ii.exec(s);)m=d[0],h=s.substring(u,d.index),p?p=(p+1)%5:h.substr(-5)==="rgba("&&(p=1),m!==c[f++]&&(g=parseFloat(c[f-1])||0,l._pt={_next:l._pt,p:h||f===1?h:",",s:g,c:m.charAt(1)==="="?$n(g,m)-g:parseFloat(m)-g,m:p&&p<4?Math.round:0},u=ii.lastIndex);return l.c=u<s.length?s.substring(u,s.length):"",l.fp=a,(Lo.test(s)||_)&&(l.e=0),this._pt=l,l},ir=function(e,t,n,s,r,o,a,l,u,f){ye(s)&&(s=s(r||0,e,o));var d=e[t],c=n!=="get"?n:ye(d)?u?e[t.indexOf("set")||!ye(e["get"+t.substr(3)])?t:"get"+t.substr(3)](u):e[t]():d,p=ye(d)?u?Vh:ua:or,m;if(Te(s)&&(~s.indexOf("random(")&&(s=as(s)),s.charAt(1)==="="&&(m=$n(c,s)+(Me(c)||0),(m||m===0)&&(s=m))),!f||c!==s||xi)return!isNaN(c*s)&&s!==""?(m=new je(this._pt,e,t,+c||0,s-(c||0),typeof d=="boolean"?Uh:fa,0,p),u&&(m.fp=u),a&&m.modifier(a,this,e),this._pt=m):(!d&&!(t in e)&&er(t,s),xh.call(this,e,t,c,s,p,l||Ze.stringFilter,u))},Nh=function(e,t,n,s,r){if(ye(e)&&(e=Xn(e,r,t,n,s)),!vt(e)||e.style&&e.nodeType||xe(e)||Oo(e))return Te(e)?Xn(e,r,t,n,s):e;var o={},a;for(a in e)o[a]=Xn(e[a],r,t,n,s);return o},oa=function(e,t,n,s,r,o){var a,l,u,f;if(Ke[e]&&(a=new Ke[e]).init(r,a.rawVars?t[e]:Nh(t[e],s,r,o,n),n,s,o)!==!1&&(n._pt=l=new je(n._pt,r,e,0,1,a.render,a,0,a.priority),n!==bn))for(u=n._ptLookup[n._targets.indexOf(r)],f=a._props.length;f--;)u[a._props[f]]=l;return a},Mt,xi,rr=function i(e,t,n){var s=e.vars,r=s.ease,o=s.startAt,a=s.immediateRender,l=s.lazy,u=s.onUpdate,f=s.runBackwards,d=s.yoyoEase,c=s.keyframes,p=s.autoRevert,m=e._dur,h=e._startAt,g=e._targets,_=e.parent,b=_&&_.data==="nested"?_.vars.targets:g,y=e._overwrite==="auto"&&!Ji,C=e.timeline,v,k,P,S,A,H,j,E,w,x,q,D,W;if(C&&(!c||!r)&&(r="none"),e._ease=sn(r,In.ease),e._yEase=d?na(sn(d===!0?r:d,In.ease)):0,d&&e._yoyo&&!e._repeat&&(d=e._yEase,e._yEase=e._ease,e._ease=d),e._from=!C&&!!s.runBackwards,!C||c&&!s.stagger){if(E=g[0]?tn(g[0]).harness:0,D=E&&s[E.prop],v=xs(s,tr),h&&(h._zTime<0&&h.progress(1),t<0&&f&&a&&!p?h.render(-1,!0):h.revert(f&&m?vs:ch),h._lazy=0),o){if(Ht(e._startAt=ke.set(g,it({data:"isStart",overwrite:!1,parent:_,immediateRender:!0,lazy:!h&&He(l),startAt:null,delay:0,onUpdate:u&&function(){return Je(e,"onUpdate")},stagger:0},o))),e._startAt._dp=0,e._startAt._sat=e,t<0&&(Re||!a&&!p)&&e._startAt.revert(vs),a&&m&&t<=0&&n<=0){t&&(e._zTime=t);return}}else if(f&&m&&!h){if(t&&(a=!1),P=it({overwrite:!1,data:"isFromStart",lazy:a&&!h&&He(l),immediateRender:a,stagger:0,parent:_},v),D&&(P[E.prop]=D),Ht(e._startAt=ke.set(g,P)),e._startAt._dp=0,e._startAt._sat=e,t<0&&(Re?e._startAt.revert(vs):e._startAt.render(-1,!0)),e._zTime=t,!a)i(e._startAt,ce,ce);else if(!t)return}for(e._pt=e._ptCache=0,l=m&&He(l)||l&&!m,k=0;k<g.length;k++){if(A=g[k],j=A._gsap||sr(g)[k]._gsap,e._ptLookup[k]=x={},Li[j.id]&&zt.length&&Rs(),q=b===g?k:b.indexOf(A),E&&(w=new E).init(A,D||v,e,q,b)!==!1&&(e._pt=S=new je(e._pt,A,w.name,0,1,w.render,w,0,w.priority),w._props.forEach(function(G){x[G]=S}),w.priority&&(H=1)),!E||D)for(P in v)Ke[P]&&(w=oa(P,v,e,q,A,b))?w.priority&&(H=1):x[P]=S=ir.call(e,A,P,"get",v[P],q,b,0,s.stringFilter);e._op&&e._op[k]&&e.kill(A,e._op[k]),y&&e._pt&&(Mt=e,ge.killTweensOf(A,x,e.globalTime(t)),W=!e.parent,Mt=0),e._pt&&l&&(Li[j.id]=1)}H&&da(e),e._onInit&&e._onInit(e)}e._onUpdate=u,e._initted=(!e._op||e._pt)&&!W,c&&t<=0&&C.render(nt,!0,!0)},zh=function(e,t,n,s,r,o,a,l){var u=(e._pt&&e._ptCache||(e._ptCache={}))[t],f,d,c,p;if(!u)for(u=e._ptCache[t]=[],c=e._ptLookup,p=e._targets.length;p--;){if(f=c[p][t],f&&f.d&&f.d._pt)for(f=f.d._pt;f&&f.p!==t&&f.fp!==t;)f=f._next;if(!f)return xi=1,e.vars[t]="+=0",rr(e,a),xi=0,l?rs(t+" not eligible for reset"):1;u.push(f)}for(p=u.length;p--;)d=u[p],f=d._pt||d,f.s=(s||s===0)&&!r?s:f.s+(s||0)+o*f.c,f.c=n-f.s,d.e&&(d.e=Se(n)+Me(d.e)),d.b&&(d.b=f.s+Me(d.b))},Fh=function(e,t){var n=e[0]?tn(e[0]).harness:0,s=n&&n.aliases,r,o,a,l;if(!s)return t;r=an({},t);for(o in s)if(o in r)for(l=s[o]?.split(","),a=l.length;a--;)r[l[a]]=r[o];return r},Bh=function(e,t,n,s){var r=t.ease||s||"power1.inOut",o,a;if(xe(t))a=n[e]||(n[e]=[]),t.forEach(function(l,u){return a.push({t:u/(t.length-1)*100,v:l,e:r})});else for(o in t)a=n[o]||(n[o]=[]),o==="ease"||a.push({t:parseFloat(e),v:t[o],e:r})},Xn=function(e,t,n,s,r){return ye(e)?e.call(t,n,s,r):Te(e)&&~e.indexOf("random(")?as(e):e},aa=nr+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",la={};Ue(aa+",id,stagger,delay,duration,paused,scrollTrigger",function(i){return la[i]=1});var ke=function(i){Po(e,i);function e(n,s,r,o){var a;typeof s=="number"&&(r.duration=s,s=r,r=null),a=i.call(this,o?s:Qn(s))||this;var l=a.vars,u=l.duration,f=l.delay,d=l.immediateRender,c=l.stagger,p=l.overwrite,m=l.keyframes,h=l.defaults,g=l.scrollTrigger,_=l.yoyoEase,b=s.parent||ge,y=(xe(n)||Oo(n)?kt(n[0]):"length"in s)?[n]:st(n),C,v,k,P,S,A,H,j;if(a._targets=y.length?sr(y):rs("GSAP target "+n+" not found. https://gsap.com",!Ze.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=p,m||c||gs(u)||gs(f)){if(s=a.vars,C=a.timeline=new ze({data:"nested",defaults:h||{},targets:b&&b.data==="nested"?b.vars.targets:y}),C.kill(),C.parent=C._dp=$t(a),C._start=0,c||gs(u)||gs(f)){if(P=y.length,H=c&&Wo(c),vt(c))for(S in c)~aa.indexOf(S)&&(j||(j={}),j[S]=c[S]);for(v=0;v<P;v++)k=xs(s,la),k.stagger=0,_&&(k.yoyoEase=_),j&&an(k,j),A=y[v],k.duration=+Xn(u,$t(a),v,A,y),k.delay=(+Xn(f,$t(a),v,A,y)||0)-a._delay,!c&&P===1&&k.delay&&(a._delay=f=k.delay,a._start+=f,k.delay=0),C.to(A,k,H?H(v,A,y):0),C._ease=re.none;C.duration()?u=f=0:a.timeline=0}else if(m){Qn(it(C.vars.defaults,{ease:"none"})),C._ease=sn(m.ease||s.ease||"none");var E=0,w,x,q;if(xe(m))m.forEach(function(D){return C.to(y,D,">")}),C.duration();else{k={};for(S in m)S==="ease"||S==="easeEach"||Bh(S,m[S],k,m.easeEach);for(S in k)for(w=k[S].sort(function(D,W){return D.t-W.t}),E=0,v=0;v<w.length;v++)x=w[v],q={ease:x.e,duration:(x.t-(v?w[v-1].t:0))/100*u},q[S]=x.v,C.to(y,q,E),E+=q.duration;C.duration()<u&&C.to({},{duration:u-C.duration()})}}u||a.duration(u=C.duration())}else a.timeline=0;return p===!0&&!Ji&&(Mt=$t(a),ge.killTweensOf(y),Mt=0),dt(b,$t(a),r),s.reversed&&a.reverse(),s.paused&&a.paused(!0),(d||!u&&!m&&a._start===Ae(b._time)&&He(d)&&_h($t(a))&&b.data!=="nested")&&(a._tTime=-ce,a.render(Math.max(0,-f)||0)),g&&Ho($t(a),g),a}var t=e.prototype;return t.render=function(s,r,o){var a=this._time,l=this._tDur,u=this._dur,f=s<0,d=s>l-ce&&!f?l:s<ce?0:s,c,p,m,h,g,_,b,y,C;if(!u)bh(this,s,r,o);else if(d!==this._tTime||!s||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==f){if(c=d,y=this.timeline,this._repeat){if(h=u+this._rDelay,this._repeat<-1&&f)return this.totalTime(h*100+s,r,o);if(c=Ae(d%h),d===l?(m=this._repeat,c=u):(m=~~(d/h),m&&m===Ae(d/h)&&(c=u,m--),c>u&&(c=u)),_=this._yoyo&&m&1,_&&(C=this._yEase,c=u-c),g=En(this._tTime,h),c===a&&!o&&this._initted&&m===g)return this._tTime=d,this;m!==g&&(y&&this._yEase&&sa(y,_),this.vars.repeatRefresh&&!_&&!this._lock&&this._time!==h&&this._initted&&(this._lock=o=1,this.render(Ae(h*m),!0).invalidate()._lock=0))}if(!this._initted){if(Uo(this,f?s:c,o,r,d))return this._tTime=0,this;if(a!==this._time&&!(o&&this.vars.repeatRefresh&&m!==g))return this;if(u!==this._dur)return this.render(s,r,o)}if(this._tTime=d,this._time=c,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=b=(C||this._ease)(c/u),this._from&&(this.ratio=b=1-b),c&&!a&&!r&&!m&&(Je(this,"onStart"),this._tTime!==d))return this;for(p=this._pt;p;)p.r(b,p.d),p=p._next;y&&y.render(s<0?s:y._dur*y._ease(c/this._dur),r,o)||this._startAt&&(this._zTime=s),this._onUpdate&&!r&&(f&&Ii(this,s,r,o),Je(this,"onUpdate")),this._repeat&&m!==g&&this.vars.onRepeat&&!r&&this.parent&&Je(this,"onRepeat"),(d===this._tDur||!d)&&this._tTime===d&&(f&&!this._onUpdate&&Ii(this,s,!0,!0),(s||!u)&&(d===this._tDur&&this._ts>0||!d&&this._ts<0)&&Ht(this,1),!r&&!(f&&!a)&&(d||a||_)&&(Je(this,d===l?"onComplete":"onReverseComplete",!0),this._prom&&!(d<l&&this.timeScale()>0)&&this._prom()))}return this},t.targets=function(){return this._targets},t.invalidate=function(s){return(!s||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(s),i.prototype.invalidate.call(this,s)},t.resetTo=function(s,r,o,a,l){ls||Ye.wake(),this._ts||this.play();var u=Math.min(this._dur,(this._dp._time-this._start)*this._ts),f;return this._initted||rr(this,u),f=this._ease(u/this._dur),zh(this,s,r,o,a,f,u,l)?this.resetTo(s,r,o,a,1):(Ys(this,0),this.parent||Bo(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},t.kill=function(s,r){if(r===void 0&&(r="all"),!s&&(!r||r==="all"))return this._lazy=this._pt=0,this.parent?qn(this):this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(s,r,Mt&&Mt.vars.overwrite!==!0)._first||qn(this),this.parent&&o!==this.timeline.totalDuration()&&Dn(this,this._dur*this.timeline._tDur/o,0,1),this}var a=this._targets,l=s?st(s):a,u=this._ptLookup,f=this._pt,d,c,p,m,h,g,_;if((!r||r==="all")&&gh(a,l))return r==="all"&&(this._pt=0),qn(this);for(d=this._op=this._op||[],r!=="all"&&(Te(r)&&(h={},Ue(r,function(b){return h[b]=1}),r=h),r=Fh(a,r)),_=a.length;_--;)if(~l.indexOf(a[_])){c=u[_],r==="all"?(d[_]=r,m=c,p={}):(p=d[_]=d[_]||{},m=r);for(h in m)g=c&&c[h],g&&((!("kill"in g.d)||g.d.kill(h)===!0)&&Gs(this,g,"_pt"),delete c[h]),p!=="all"&&(p[h]=1)}return this._initted&&!this._pt&&f&&qn(this),this},e.to=function(s,r){return new e(s,r,arguments[2])},e.from=function(s,r){return Zn(1,arguments)},e.delayedCall=function(s,r,o,a){return new e(r,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:s,onComplete:r,onReverseComplete:r,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:a})},e.fromTo=function(s,r,o){return Zn(2,arguments)},e.set=function(s,r){return r.duration=0,r.repeatDelay||(r.repeat=0),new e(s,r)},e.killTweensOf=function(s,r,o){return ge.killTweensOf(s,r,o)},e}(us);it(ke.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});Ue("staggerTo,staggerFrom,staggerFromTo",function(i){ke[i]=function(){var e=new ze,t=Di.call(arguments,0);return t.splice(i==="staggerFromTo"?5:4,0,0),e[i].apply(e,t)}});var or=function(e,t,n){return e[t]=n},ua=function(e,t,n){return e[t](n)},Vh=function(e,t,n,s){return e[t](s.fp,n)},Hh=function(e,t,n){return e.setAttribute(t,n)},ar=function(e,t){return ye(e[t])?ua:Qi(e[t])&&e.setAttribute?Hh:or},fa=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e6)/1e6,t)},Uh=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},ca=function(e,t){var n=t._pt,s="";if(!e&&t.b)s=t.b;else if(e===1&&t.e)s=t.e;else{for(;n;)s=n.p+(n.m?n.m(n.s+n.c*e):Math.round((n.s+n.c*e)*1e4)/1e4)+s,n=n._next;s+=t.c}t.set(t.t,t.p,s,t)},lr=function(e,t){for(var n=t._pt;n;)n.r(e,n.d),n=n._next},jh=function(e,t,n,s){for(var r=this._pt,o;r;)o=r._next,r.p===s&&r.modifier(e,t,n),r=o},qh=function(e){for(var t=this._pt,n,s;t;)s=t._next,t.p===e&&!t.op||t.op===e?Gs(this,t,"_pt"):t.dep||(n=1),t=s;return!n},Wh=function(e,t,n,s){s.mSet(e,t,s.m.call(s.tween,n,s.mt),s)},da=function(e){for(var t=e._pt,n,s,r,o;t;){for(n=t._next,s=r;s&&s.pr>t.pr;)s=s._next;(t._prev=s?s._prev:o)?t._prev._next=t:r=t,(t._next=s)?s._prev=t:o=t,t=n}e._pt=r},je=function(){function i(t,n,s,r,o,a,l,u,f){this.t=n,this.s=r,this.c=o,this.p=s,this.r=a||fa,this.d=l||this,this.set=u||or,this.pr=f||0,this._next=t,t&&(t._prev=this)}var e=i.prototype;return e.modifier=function(n,s,r){this.mSet=this.mSet||this.set,this.set=Wh,this.m=n,this.mt=r,this.tween=s},i}();Ue(nr+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(i){return tr[i]=1});Xe.TweenMax=Xe.TweenLite=ke;Xe.TimelineLite=Xe.TimelineMax=ze;ge=new ze({sortChildren:!1,defaults:In,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});Ze.stringFilter=ta;var rn=[],ys={},Gh=[],Nr=0,Kh=0,ui=function(e){return(ys[e]||Gh).map(function(t){return t()})},Ni=function(){var e=Date.now(),t=[];e-Nr>2&&(ui("matchMediaInit"),rn.forEach(function(n){var s=n.queries,r=n.conditions,o,a,l,u;for(a in s)o=ct.matchMedia(s[a]).matches,o&&(l=1),o!==r[a]&&(r[a]=o,u=1);u&&(n.revert(),l&&t.push(n))}),ui("matchMediaRevert"),t.forEach(function(n){return n.onMatch(n,function(s){return n.add(null,s)})}),Nr=e,ui("matchMedia"))},ha=function(){function i(t,n){this.selector=n&&Mi(n),this.data=[],this._r=[],this.isReverted=!1,this.id=Kh++,t&&this.add(t)}var e=i.prototype;return e.add=function(n,s,r){ye(n)&&(r=s,s=n,n=ye);var o=this,a=function(){var u=pe,f=o.selector,d;return u&&u!==o&&u.data.push(o),r&&(o.selector=Mi(r)),pe=o,d=s.apply(o,arguments),ye(d)&&o._r.push(d),pe=u,o.selector=f,o.isReverted=!1,d};return o.last=a,n===ye?a(o,function(l){return o.add(null,l)}):n?o[n]=a:a},e.ignore=function(n){var s=pe;pe=null,n(this),pe=s},e.getTweens=function(){var n=[];return this.data.forEach(function(s){return s instanceof i?n.push.apply(n,s.getTweens()):s instanceof ke&&!(s.parent&&s.parent.data==="nested")&&n.push(s)}),n},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(n,s){var r=this;if(n?function(){for(var a=r.getTweens(),l=r.data.length,u;l--;)u=r.data[l],u.data==="isFlip"&&(u.revert(),u.getChildren(!0,!0,!1).forEach(function(f){return a.splice(a.indexOf(f),1)}));for(a.map(function(f){return{g:f._dur||f._delay||f._sat&&!f._sat.vars.immediateRender?f.globalTime(0):-1/0,t:f}}).sort(function(f,d){return d.g-f.g||-1/0}).forEach(function(f){return f.t.revert(n)}),l=r.data.length;l--;)u=r.data[l],u instanceof ze?u.data!=="nested"&&(u.scrollTrigger&&u.scrollTrigger.revert(),u.kill()):!(u instanceof ke)&&u.revert&&u.revert(n);r._r.forEach(function(f){return f(n,r)}),r.isReverted=!0}():this.data.forEach(function(a){return a.kill&&a.kill()}),this.clear(),s)for(var o=rn.length;o--;)rn[o].id===this.id&&rn.splice(o,1)},e.revert=function(n){this.kill(n||{})},i}(),Yh=function(){function i(t){this.contexts=[],this.scope=t,pe&&pe.data.push(this)}var e=i.prototype;return e.add=function(n,s,r){vt(n)||(n={matches:n});var o=new ha(0,r||this.scope),a=o.conditions={},l,u,f;pe&&!o.selector&&(o.selector=pe.selector),this.contexts.push(o),s=o.add("onMatch",s),o.queries=n;for(u in n)u==="all"?f=1:(l=ct.matchMedia(n[u]),l&&(rn.indexOf(o)<0&&rn.push(o),(a[u]=l.matches)&&(f=1),l.addListener?l.addListener(Ni):l.addEventListener("change",Ni)));return f&&s(o,function(d){return o.add(null,d)}),this},e.revert=function(n){this.kill(n||{})},e.kill=function(n){this.contexts.forEach(function(s){return s.kill(n,!0)})},i}(),zs={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach(function(s){return Zo(s)})},timeline:function(e){return new ze(e)},getTweensOf:function(e,t){return ge.getTweensOf(e,t)},getProperty:function(e,t,n,s){Te(e)&&(e=st(e)[0]);var r=tn(e||{}).get,o=n?Fo:zo;return n==="native"&&(n=""),e&&(t?o((Ke[t]&&Ke[t].get||r)(e,t,n,s)):function(a,l,u){return o((Ke[a]&&Ke[a].get||r)(e,a,l,u))})},quickSetter:function(e,t,n){if(e=st(e),e.length>1){var s=e.map(function(f){return We.quickSetter(f,t,n)}),r=s.length;return function(f){for(var d=r;d--;)s[d](f)}}e=e[0]||{};var o=Ke[t],a=tn(e),l=a.harness&&(a.harness.aliases||{})[t]||t,u=o?function(f){var d=new o;bn._pt=0,d.init(e,n?f+n:f,bn,0,[e]),d.render(1,d),bn._pt&&lr(1,bn)}:a.set(e,l);return o?u:function(f){return u(e,l,n?f+n:f,a,1)}},quickTo:function(e,t,n){var s,r=We.to(e,an((s={},s[t]="+=0.1",s.paused=!0,s),n||{})),o=function(l,u,f){return r.resetTo(t,l,u,f)};return o.tween=r,o},isTweening:function(e){return ge.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=sn(e.ease,In.ease)),Er(In,e||{})},config:function(e){return Er(Ze,e||{})},registerEffect:function(e){var t=e.name,n=e.effect,s=e.plugins,r=e.defaults,o=e.extendTimeline;(s||"")?.split(",").forEach(function(a){return a&&!Ke[a]&&!Xe[a]&&rs(t+" effect requires "+a+" plugin.")}),ri[t]=function(a,l,u){return n(st(a),it(l||{},r),u)},o&&(ze.prototype[t]=function(a,l,u){return this.add(ri[t](a,vt(l)?l:(u=l)&&{},this),u)})},registerEase:function(e,t){re[e]=sn(t)},parseEase:function(e,t){return arguments.length?sn(e,t):re},getById:function(e){return ge.getById(e)},exportRoot:function(e,t){e===void 0&&(e={});var n=new ze(e),s,r;for(n.smoothChildTiming=He(e.smoothChildTiming),ge.remove(n),n._dp=0,n._time=n._tTime=ge._time,s=ge._first;s;)r=s._next,(t||!(!s._dur&&s instanceof ke&&s.vars.onComplete===s._targets[0]))&&dt(n,s,s._start-s._delay),s=r;return dt(ge,n,0),n},context:function(e,t){return e?new ha(e,t):pe},matchMedia:function(e){return new Yh(e)},matchMediaRefresh:function(){return rn.forEach(function(e){var t=e.conditions,n,s;for(s in t)t[s]&&(t[s]=!1,n=1);n&&e.revert()})||Ni()},addEventListener:function(e,t){var n=ys[e]||(ys[e]=[]);~n.indexOf(t)||n.push(t)},removeEventListener:function(e,t){var n=ys[e],s=n&&n.indexOf(t);s>=0&&n.splice(s,1)},utils:{wrap:Ah,wrapYoyo:Oh,distribute:Wo,random:Ko,snap:Go,normalize:Ph,getUnit:Me,clamp:$h,splitColor:Xo,toArray:st,selector:Mi,mapRange:Jo,pipe:Sh,unitize:kh,interpolate:Th,shuffle:qo},install:Do,effects:ri,ticker:Ye,updateRoot:ze.updateRoot,plugins:Ke,globalTimeline:ge,core:{PropTween:je,globals:Mo,Tween:ke,Timeline:ze,Animation:us,getCache:tn,_removeLinkedListItem:Gs,reverting:function(){return Re},context:function(e){return e&&pe&&(pe.data.push(e),e._ctx=pe),pe},suppressOverwrites:function(e){return Ji=e}}};Ue("to,from,fromTo,delayedCall,set,killTweensOf",function(i){return zs[i]=ke[i]});Ye.add(ze.updateRoot);bn=zs.to({},{duration:0});var Jh=function(e,t){for(var n=e._pt;n&&n.p!==t&&n.op!==t&&n.fp!==t;)n=n._next;return n},Qh=function(e,t){var n=e._targets,s,r,o;for(s in t)for(r=n.length;r--;)o=e._ptLookup[r][s],o&&(o=o.d)&&(o._pt&&(o=Jh(o,s)),o&&o.modifier&&o.modifier(t[s],e,n[r],s))},fi=function(e,t){return{name:e,rawVars:1,init:function(s,r,o){o._onInit=function(a){var l,u;if(Te(r)&&(l={},Ue(r,function(f){return l[f]=1}),r=l),t){l={};for(u in r)l[u]=t(r[u]);r=l}Qh(a,r)}}}},We=zs.registerPlugin({name:"attr",init:function(e,t,n,s,r){var o,a,l;this.tween=n;for(o in t)l=e.getAttribute(o)||"",a=this.add(e,"setAttribute",(l||0)+"",t[o],s,r,0,0,o),a.op=o,a.b=l,this._props.push(o)},render:function(e,t){for(var n=t._pt;n;)Re?n.set(n.t,n.p,n.b,n):n.r(e,n.d),n=n._next}},{name:"endArray",init:function(e,t){for(var n=t.length;n--;)this.add(e,n,e[n]||0,t[n],0,0,0,0,0,1)}},fi("roundProps",Ri),fi("modifiers"),fi("snap",Go))||zs;ke.version=ze.version=We.version="3.12.5";Eo=1;Zi()&&Mn();re.Power0;re.Power1;re.Power2;re.Power3;re.Power4;re.Linear;re.Quad;re.Cubic;re.Quart;re.Quint;re.Strong;re.Elastic;re.Back;re.SteppedEase;re.Bounce;re.Sine;re.Expo;re.Circ;/*!
 * CSSPlugin 3.12.5
 * https://gsap.com
 *
 * Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var zr,Rt,Cn,ur,en,Fr,fr,Zh=function(){return typeof window<"u"},Pt={},Qt=180/Math.PI,Sn=Math.PI/180,mn=Math.atan2,Br=1e8,cr=/([A-Z])/g,Xh=/(left|right|width|margin|padding|x)/i,ep=/[\s,\(]\S/,pt={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},zi=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},tp=function(e,t){return t.set(t.t,t.p,e===1?t.e:Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},np=function(e,t){return t.set(t.t,t.p,e?Math.round((t.s+t.c*e)*1e4)/1e4+t.u:t.b,t)},sp=function(e,t){var n=t.s+t.c*e;t.set(t.t,t.p,~~(n+(n<0?-.5:.5))+t.u,t)},pa=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},ga=function(e,t){return t.set(t.t,t.p,e!==1?t.b:t.e,t)},ip=function(e,t,n){return e.style[t]=n},rp=function(e,t,n){return e.style.setProperty(t,n)},op=function(e,t,n){return e._gsap[t]=n},ap=function(e,t,n){return e._gsap.scaleX=e._gsap.scaleY=n},lp=function(e,t,n,s,r){var o=e._gsap;o.scaleX=o.scaleY=n,o.renderTransform(r,o)},up=function(e,t,n,s,r){var o=e._gsap;o[t]=n,o.renderTransform(r,o)},ve="transform",qe=ve+"Origin",fp=function i(e,t){var n=this,s=this.target,r=s.style,o=s._gsap;if(e in Pt&&r){if(this.tfm=this.tfm||{},e!=="transform")e=pt[e]||e,~e.indexOf(",")?e?.split(",").forEach(function(a){return n.tfm[a]=Ct(s,a)}):this.tfm[e]=o.x?o[e]:Ct(s,e),e===qe&&(this.tfm.zOrigin=o.zOrigin);else return pt.transform?.split(",").forEach(function(a){return i.call(n,a,t)});if(this.props.indexOf(ve)>=0)return;o.svg&&(this.svgo=s.getAttribute("data-svg-origin"),this.props.push(qe,t,"")),e=ve}(r||t)&&this.props.push(e,t,r[e])},ma=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},cp=function(){var e=this.props,t=this.target,n=t.style,s=t._gsap,r,o;for(r=0;r<e.length;r+=3)e[r+1]?t[e[r]]=e[r+2]:e[r+2]?n[e[r]]=e[r+2]:n.removeProperty(e[r].substr(0,2)==="--"?e[r]:e[r].replace(cr,"-$1").toLowerCase());if(this.tfm){for(o in this.tfm)s[o]=this.tfm[o];s.svg&&(s.renderTransform(),t.setAttribute("data-svg-origin",this.svgo||"")),r=fr(),(!r||!r.isStart)&&!n[ve]&&(ma(n),s.zOrigin&&n[qe]&&(n[qe]+=" "+s.zOrigin+"px",s.zOrigin=0,s.renderTransform()),s.uncache=1)}},_a=function(e,t){var n={target:e,props:[],revert:cp,save:fp};return e._gsap||We.core.getCache(e),t&&t?.split(",").forEach(function(s){return n.save(s)}),n},va,Fi=function(e,t){var n=Rt.createElementNS?Rt.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):Rt.createElement(e);return n&&n.style?n:Rt.createElement(e)},gt=function i(e,t,n){var s=getComputedStyle(e);return s[t]||s.getPropertyValue(t.replace(cr,"-$1").toLowerCase())||s.getPropertyValue(t)||!n&&i(e,Rn(t)||t,1)||""},Vr="O,Moz,ms,Ms,Webkit"?.split(","),Rn=function(e,t,n){var s=t||en,r=s.style,o=5;if(e in r&&!n)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);o--&&!(Vr[o]+e in r););return o<0?null:(o===3?"ms":o>=0?Vr[o]:"")+e},Bi=function(){Zh()&&window.document&&(zr=window,Rt=zr.document,Cn=Rt.documentElement,en=Fi("div")||{style:{}},Fi("div"),ve=Rn(ve),qe=ve+"Origin",en.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",va=!!Rn("perspective"),fr=We.core.reverting,ur=1)},ci=function i(e){var t=Fi("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),n=this.parentNode,s=this.nextSibling,r=this.style.cssText,o;if(Cn.appendChild(t),t.appendChild(this),this.style.display="block",e)try{o=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=i}catch{}else this._gsapBBox&&(o=this._gsapBBox());return n&&(s?n.insertBefore(this,s):n.appendChild(this)),Cn.removeChild(t),this.style.cssText=r,o},Hr=function(e,t){for(var n=t.length;n--;)if(e.hasAttribute(t[n]))return e.getAttribute(t[n])},ba=function(e){var t;try{t=e.getBBox()}catch{t=ci.call(e,!0)}return t&&(t.width||t.height)||e.getBBox===ci||(t=ci.call(e,!0)),t&&!t.width&&!t.x&&!t.y?{x:+Hr(e,["x","cx","x1"])||0,y:+Hr(e,["y","cy","y1"])||0,width:0,height:0}:t},ya=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&ba(e))},ln=function(e,t){if(t){var n=e.style,s;t in Pt&&t!==qe&&(t=ve),n.removeProperty?(s=t.substr(0,2),(s==="ms"||t.substr(0,6)==="webkit")&&(t="-"+t),n.removeProperty(s==="--"?t:t.replace(cr,"-$1").toLowerCase())):n.removeAttribute(t)}},xt=function(e,t,n,s,r,o){var a=new je(e._pt,t,n,0,1,o?ga:pa);return e._pt=a,a.b=s,a.e=r,e._props.push(n),a},Ur={deg:1,rad:1,turn:1},dp={grid:1,flex:1},Ut=function i(e,t,n,s){var r=parseFloat(n)||0,o=(n+"").trim().substr((r+"").length)||"px",a=en.style,l=Xh.test(t),u=e.tagName.toLowerCase()==="svg",f=(u?"client":"offset")+(l?"Width":"Height"),d=100,c=s==="px",p=s==="%",m,h,g,_;if(s===o||!r||Ur[s]||Ur[o])return r;if(o!=="px"&&!c&&(r=i(e,t,n,"px")),_=e.getCTM&&ya(e),(p||o==="%")&&(Pt[t]||~t.indexOf("adius")))return m=_?e.getBBox()[l?"width":"height"]:e[f],Se(p?r/m*d:r/100*m);if(a[l?"width":"height"]=d+(c?o:s),h=~t.indexOf("adius")||s==="em"&&e.appendChild&&!u?e:e.parentNode,_&&(h=(e.ownerSVGElement||{}).parentNode),(!h||h===Rt||!h.appendChild)&&(h=Rt.body),g=h._gsap,g&&p&&g.width&&l&&g.time===Ye.time&&!g.uncache)return Se(r/g.width*d);if(p&&(t==="height"||t==="width")){var b=e.style[t];e.style[t]=d+s,m=e[f],b?e.style[t]=b:ln(e,t)}else(p||o==="%")&&!dp[gt(h,"display")]&&(a.position=gt(e,"position")),h===e&&(a.position="static"),h.appendChild(en),m=en[f],h.removeChild(en),a.position="absolute";return l&&p&&(g=tn(h),g.time=Ye.time,g.width=h[f]),Se(c?m*r/d:m&&r?d/m*r:0)},Ct=function(e,t,n,s){var r;return ur||Bi(),t in pt&&t!=="transform"&&(t=pt[t],~t.indexOf(",")&&(t=t?.split(",")[0])),Pt[t]&&t!=="transform"?(r=cs(e,s),r=t!=="transformOrigin"?r[t]:r.svg?r.origin:Bs(gt(e,qe))+" "+r.zOrigin+"px"):(r=e.style[t],(!r||r==="auto"||s||~(r+"").indexOf("calc("))&&(r=Fs[t]&&Fs[t](e,t,n)||gt(e,t)||xo(e,t)||(t==="opacity"?1:0))),n&&!~(r+"").trim().indexOf(" ")?Ut(e,t,r,n)+n:r},hp=function(e,t,n,s){if(!n||n==="none"){var r=Rn(t,e,1),o=r&&gt(e,r,1);o&&o!==n?(t=r,n=o):t==="borderColor"&&(n=gt(e,"borderTopColor"))}var a=new je(this._pt,e.style,t,0,1,ca),l=0,u=0,f,d,c,p,m,h,g,_,b,y,C,v;if(a.b=n,a.e=s,n+="",s+="",s==="auto"&&(h=e.style[t],e.style[t]=s,s=gt(e,t)||s,h?e.style[t]=h:ln(e,t)),f=[n,s],ta(f),n=f[0],s=f[1],c=n.match(vn)||[],v=s.match(vn)||[],v.length){for(;d=vn.exec(s);)g=d[0],b=s.substring(l,d.index),m?m=(m+1)%5:(b.substr(-5)==="rgba("||b.substr(-5)==="hsla(")&&(m=1),g!==(h=c[u++]||"")&&(p=parseFloat(h)||0,C=h.substr((p+"").length),g.charAt(1)==="="&&(g=$n(p,g)+C),_=parseFloat(g),y=g.substr((_+"").length),l=vn.lastIndex-y.length,y||(y=y||Ze.units[t]||C,l===s.length&&(s+=y,a.e+=y)),C!==y&&(p=Ut(e,t,h,y)||0),a._pt={_next:a._pt,p:b||u===1?b:",",s:p,c:_-p,m:m&&m<4||t==="zIndex"?Math.round:0});a.c=l<s.length?s.substring(l,s.length):""}else a.r=t==="display"&&s==="none"?ga:pa;return Lo.test(s)&&(a.e=0),this._pt=a,a},jr={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},pp=function(e){var t=e?.split(" "),n=t[0],s=t[1]||"50%";return(n==="top"||n==="bottom"||s==="left"||s==="right")&&(e=n,n=s,s=e),t[0]=jr[n]||n,t[1]=jr[s]||s,t.join(" ")},gp=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var n=t.t,s=n.style,r=t.u,o=n._gsap,a,l,u;if(r==="all"||r===!0)s.cssText="",l=1;else for(r=r?.split(","),u=r.length;--u>-1;)a=r[u],Pt[a]&&(l=1,a=a==="transformOrigin"?qe:ve),ln(n,a);l&&(ln(n,ve),o&&(o.svg&&n.removeAttribute("transform"),cs(n,1),o.uncache=1,ma(s)))}},Fs={clearProps:function(e,t,n,s,r){if(r.data!=="isFromStart"){var o=e._pt=new je(e._pt,t,n,0,0,gp);return o.u=s,o.pr=-10,o.tween=r,e._props.push(n),1}}},fs=[1,0,0,1,0,0],wa={},$a=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},qr=function(e){var t=gt(e,ve);return $a(t)?fs:t.substr(7).match(To).map(Se)},dr=function(e,t){var n=e._gsap||tn(e),s=e.style,r=qr(e),o,a,l,u;return n.svg&&e.getAttribute("transform")?(l=e.transform.baseVal.consolidate().matrix,r=[l.a,l.b,l.c,l.d,l.e,l.f],r.join(",")==="1,0,0,1,0,0"?fs:r):(r===fs&&!e.offsetParent&&e!==Cn&&!n.svg&&(l=s.display,s.display="block",o=e.parentNode,(!o||!e.offsetParent)&&(u=1,a=e.nextElementSibling,Cn.appendChild(e)),r=qr(e),l?s.display=l:ln(e,"display"),u&&(a?o.insertBefore(e,a):o?o.appendChild(e):Cn.removeChild(e))),t&&r.length>6?[r[0],r[1],r[4],r[5],r[12],r[13]]:r)},Vi=function(e,t,n,s,r,o){var a=e._gsap,l=r||dr(e,!0),u=a.xOrigin||0,f=a.yOrigin||0,d=a.xOffset||0,c=a.yOffset||0,p=l[0],m=l[1],h=l[2],g=l[3],_=l[4],b=l[5],y=t?.split(" "),C=parseFloat(y[0])||0,v=parseFloat(y[1])||0,k,P,S,A;n?l!==fs&&(P=p*g-m*h)&&(S=C*(g/P)+v*(-h/P)+(h*b-g*_)/P,A=C*(-m/P)+v*(p/P)-(p*b-m*_)/P,C=S,v=A):(k=ba(e),C=k.x+(~y[0].indexOf("%")?C/100*k.width:C),v=k.y+(~(y[1]||y[0]).indexOf("%")?v/100*k.height:v)),s||s!==!1&&a.smooth?(_=C-u,b=v-f,a.xOffset=d+(_*p+b*h)-_,a.yOffset=c+(_*m+b*g)-b):a.xOffset=a.yOffset=0,a.xOrigin=C,a.yOrigin=v,a.smooth=!!s,a.origin=t,a.originIsAbsolute=!!n,e.style[qe]="0px 0px",o&&(xt(o,a,"xOrigin",u,C),xt(o,a,"yOrigin",f,v),xt(o,a,"xOffset",d,a.xOffset),xt(o,a,"yOffset",c,a.yOffset)),e.setAttribute("data-svg-origin",C+" "+v)},cs=function(e,t){var n=e._gsap||new ra(e);if("x"in n&&!t&&!n.uncache)return n;var s=e.style,r=n.scaleX<0,o="px",a="deg",l=getComputedStyle(e),u=gt(e,qe)||"0",f,d,c,p,m,h,g,_,b,y,C,v,k,P,S,A,H,j,E,w,x,q,D,W,G,se,X,ae,de,Ne,z,J;return f=d=c=h=g=_=b=y=C=0,p=m=1,n.svg=!!(e.getCTM&&ya(e)),l.translate&&((l.translate!=="none"||l.scale!=="none"||l.rotate!=="none")&&(s[ve]=(l.translate!=="none"?"translate3d("+(l.translate+" 0 0")?.split(" ").slice(0,3).join(", ")+") ":"")+(l.rotate!=="none"?"rotate("+l.rotate+") ":"")+(l.scale!=="none"?"scale("+l.scale?.split(" ").join(",")+") ":"")+(l[ve]!=="none"?l[ve]:"")),s.scale=s.rotate=s.translate="none"),P=dr(e,n.svg),n.svg&&(n.uncache?(G=e.getBBox(),u=n.xOrigin-G.x+"px "+(n.yOrigin-G.y)+"px",W=""):W=!t&&e.getAttribute("data-svg-origin"),Vi(e,W||u,!!W||n.originIsAbsolute,n.smooth!==!1,P)),v=n.xOrigin||0,k=n.yOrigin||0,P!==fs&&(j=P[0],E=P[1],w=P[2],x=P[3],f=q=P[4],d=D=P[5],P.length===6?(p=Math.sqrt(j*j+E*E),m=Math.sqrt(x*x+w*w),h=j||E?mn(E,j)*Qt:0,b=w||x?mn(w,x)*Qt+h:0,b&&(m*=Math.abs(Math.cos(b*Sn))),n.svg&&(f-=v-(v*j+k*w),d-=k-(v*E+k*x))):(J=P[6],Ne=P[7],X=P[8],ae=P[9],de=P[10],z=P[11],f=P[12],d=P[13],c=P[14],S=mn(J,de),g=S*Qt,S&&(A=Math.cos(-S),H=Math.sin(-S),W=q*A+X*H,G=D*A+ae*H,se=J*A+de*H,X=q*-H+X*A,ae=D*-H+ae*A,de=J*-H+de*A,z=Ne*-H+z*A,q=W,D=G,J=se),S=mn(-w,de),_=S*Qt,S&&(A=Math.cos(-S),H=Math.sin(-S),W=j*A-X*H,G=E*A-ae*H,se=w*A-de*H,z=x*H+z*A,j=W,E=G,w=se),S=mn(E,j),h=S*Qt,S&&(A=Math.cos(S),H=Math.sin(S),W=j*A+E*H,G=q*A+D*H,E=E*A-j*H,D=D*A-q*H,j=W,q=G),g&&Math.abs(g)+Math.abs(h)>359.9&&(g=h=0,_=180-_),p=Se(Math.sqrt(j*j+E*E+w*w)),m=Se(Math.sqrt(D*D+J*J)),S=mn(q,D),b=Math.abs(S)>2e-4?S*Qt:0,C=z?1/(z<0?-z:z):0),n.svg&&(W=e.getAttribute("transform"),n.forceCSS=e.setAttribute("transform","")||!$a(gt(e,ve)),W&&e.setAttribute("transform",W))),Math.abs(b)>90&&Math.abs(b)<270&&(r?(p*=-1,b+=h<=0?180:-180,h+=h<=0?180:-180):(m*=-1,b+=b<=0?180:-180)),t=t||n.uncache,n.x=f-((n.xPercent=f&&(!t&&n.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-f)?-50:0)))?e.offsetWidth*n.xPercent/100:0)+o,n.y=d-((n.yPercent=d&&(!t&&n.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-d)?-50:0)))?e.offsetHeight*n.yPercent/100:0)+o,n.z=c+o,n.scaleX=Se(p),n.scaleY=Se(m),n.rotation=Se(h)+a,n.rotationX=Se(g)+a,n.rotationY=Se(_)+a,n.skewX=b+a,n.skewY=y+a,n.transformPerspective=C+o,(n.zOrigin=parseFloat(u?.split(" ")[2])||!t&&n.zOrigin||0)&&(s[qe]=Bs(u)),n.xOffset=n.yOffset=0,n.force3D=Ze.force3D,n.renderTransform=n.svg?_p:va?Ca:mp,n.uncache=0,n},Bs=function(e){return(e=e?.split(" "))[0]+" "+e[1]},di=function(e,t,n){var s=Me(t);return Se(parseFloat(t)+parseFloat(Ut(e,"x",n+"px",s)))+s},mp=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,Ca(e,t)},Yt="0deg",jn="0px",Jt=") ",Ca=function(e,t){var n=t||this,s=n.xPercent,r=n.yPercent,o=n.x,a=n.y,l=n.z,u=n.rotation,f=n.rotationY,d=n.rotationX,c=n.skewX,p=n.skewY,m=n.scaleX,h=n.scaleY,g=n.transformPerspective,_=n.force3D,b=n.target,y=n.zOrigin,C="",v=_==="auto"&&e&&e!==1||_===!0;if(y&&(d!==Yt||f!==Yt)){var k=parseFloat(f)*Sn,P=Math.sin(k),S=Math.cos(k),A;k=parseFloat(d)*Sn,A=Math.cos(k),o=di(b,o,P*A*-y),a=di(b,a,-Math.sin(k)*-y),l=di(b,l,S*A*-y+y)}g!==jn&&(C+="perspective("+g+Jt),(s||r)&&(C+="translate("+s+"%, "+r+"%) "),(v||o!==jn||a!==jn||l!==jn)&&(C+=l!==jn||v?"translate3d("+o+", "+a+", "+l+") ":"translate("+o+", "+a+Jt),u!==Yt&&(C+="rotate("+u+Jt),f!==Yt&&(C+="rotateY("+f+Jt),d!==Yt&&(C+="rotateX("+d+Jt),(c!==Yt||p!==Yt)&&(C+="skew("+c+", "+p+Jt),(m!==1||h!==1)&&(C+="scale("+m+", "+h+Jt),b.style[ve]=C||"translate(0, 0)"},_p=function(e,t){var n=t||this,s=n.xPercent,r=n.yPercent,o=n.x,a=n.y,l=n.rotation,u=n.skewX,f=n.skewY,d=n.scaleX,c=n.scaleY,p=n.target,m=n.xOrigin,h=n.yOrigin,g=n.xOffset,_=n.yOffset,b=n.forceCSS,y=parseFloat(o),C=parseFloat(a),v,k,P,S,A;l=parseFloat(l),u=parseFloat(u),f=parseFloat(f),f&&(f=parseFloat(f),u+=f,l+=f),l||u?(l*=Sn,u*=Sn,v=Math.cos(l)*d,k=Math.sin(l)*d,P=Math.sin(l-u)*-c,S=Math.cos(l-u)*c,u&&(f*=Sn,A=Math.tan(u-f),A=Math.sqrt(1+A*A),P*=A,S*=A,f&&(A=Math.tan(f),A=Math.sqrt(1+A*A),v*=A,k*=A)),v=Se(v),k=Se(k),P=Se(P),S=Se(S)):(v=d,S=c,k=P=0),(y&&!~(o+"").indexOf("px")||C&&!~(a+"").indexOf("px"))&&(y=Ut(p,"x",o,"px"),C=Ut(p,"y",a,"px")),(m||h||g||_)&&(y=Se(y+m-(m*v+h*P)+g),C=Se(C+h-(m*k+h*S)+_)),(s||r)&&(A=p.getBBox(),y=Se(y+s/100*A.width),C=Se(C+r/100*A.height)),A="matrix("+v+","+k+","+P+","+S+","+y+","+C+")",p.setAttribute("transform",A),b&&(p.style[ve]=A)},vp=function(e,t,n,s,r){var o=360,a=Te(r),l=parseFloat(r)*(a&&~r.indexOf("rad")?Qt:1),u=l-s,f=s+u+"deg",d,c;return a&&(d=r?.split("_")[1],d==="short"&&(u%=o,u!==u%(o/2)&&(u+=u<0?o:-o)),d==="cw"&&u<0?u=(u+o*Br)%o-~~(u/o)*o:d==="ccw"&&u>0&&(u=(u-o*Br)%o-~~(u/o)*o)),e._pt=c=new je(e._pt,t,n,s,u,tp),c.e=f,c.u="deg",e._props.push(n),c},Wr=function(e,t){for(var n in t)e[n]=t[n];return e},bp=function(e,t,n){var s=Wr({},n._gsap),r="perspective,force3D,transformOrigin,svgOrigin",o=n.style,a,l,u,f,d,c,p,m;s.svg?(u=n.getAttribute("transform"),n.setAttribute("transform",""),o[ve]=t,a=cs(n,1),ln(n,ve),n.setAttribute("transform",u)):(u=getComputedStyle(n)[ve],o[ve]=t,a=cs(n,1),o[ve]=u);for(l in Pt)u=s[l],f=a[l],u!==f&&r.indexOf(l)<0&&(p=Me(u),m=Me(f),d=p!==m?Ut(n,l,u,m):parseFloat(u),c=parseFloat(f),e._pt=new je(e._pt,a,l,d,c-d,zi),e._pt.u=m||0,e._props.push(l));Wr(a,s)};Ue("padding,margin,Width,Radius",function(i,e){var t="Top",n="Right",s="Bottom",r="Left",o=(e<3?[t,n,s,r]:[t+r,t+n,s+n,s+r]).map(function(a){return e<2?i+a:"border"+a+i});Fs[e>1?"border"+i:i]=function(a,l,u,f,d){var c,p;if(arguments.length<4)return c=o.map(function(m){return Ct(a,m,u)}),p=c.join(" "),p?.split(c[0]).length===5?c[0]:p;c=(f+"")?.split(" "),p={},o.forEach(function(m,h){return p[m]=c[h]=c[h]||c[(h-1)/2|0]}),a.init(l,p,d)}});var Sa={name:"css",register:Bi,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,n,s,r){var o=this._props,a=e.style,l=n.vars.startAt,u,f,d,c,p,m,h,g,_,b,y,C,v,k,P,S;ur||Bi(),this.styles=this.styles||_a(e),S=this.styles.props,this.tween=n;for(h in t)if(h!=="autoRound"&&(f=t[h],!(Ke[h]&&oa(h,t,n,s,e,r)))){if(p=typeof f,m=Fs[h],p==="function"&&(f=f.call(n,s,e,r),p=typeof f),p==="string"&&~f.indexOf("random(")&&(f=as(f)),m)m(this,e,h,f,n)&&(P=1);else if(h.substr(0,2)==="--")u=(getComputedStyle(e).getPropertyValue(h)+"").trim(),f+="",Ft.lastIndex=0,Ft.test(u)||(g=Me(u),_=Me(f)),_?g!==_&&(u=Ut(e,h,u,_)+_):g&&(f+=g),this.add(a,"setProperty",u,f,s,r,0,0,h),o.push(h),S.push(h,0,a[h]);else if(p!=="undefined"){if(l&&h in l?(u=typeof l[h]=="function"?l[h].call(n,s,e,r):l[h],Te(u)&&~u.indexOf("random(")&&(u=as(u)),Me(u+"")||u==="auto"||(u+=Ze.units[h]||Me(Ct(e,h))||""),(u+"").charAt(1)==="="&&(u=Ct(e,h))):u=Ct(e,h),c=parseFloat(u),b=p==="string"&&f.charAt(1)==="="&&f.substr(0,2),b&&(f=f.substr(2)),d=parseFloat(f),h in pt&&(h==="autoAlpha"&&(c===1&&Ct(e,"visibility")==="hidden"&&d&&(c=0),S.push("visibility",0,a.visibility),xt(this,a,"visibility",c?"inherit":"hidden",d?"inherit":"hidden",!d)),h!=="scale"&&h!=="transform"&&(h=pt[h],~h.indexOf(",")&&(h=h?.split(",")[0]))),y=h in Pt,y){if(this.styles.save(h),C||(v=e._gsap,v.renderTransform&&!t.parseTransform||cs(e,t.parseTransform),k=t.smoothOrigin!==!1&&v.smooth,C=this._pt=new je(this._pt,a,ve,0,1,v.renderTransform,v,0,-1),C.dep=1),h==="scale")this._pt=new je(this._pt,v,"scaleY",v.scaleY,(b?$n(v.scaleY,b+d):d)-v.scaleY||0,zi),this._pt.u=0,o.push("scaleY",h),h+="X";else if(h==="transformOrigin"){S.push(qe,0,a[qe]),f=pp(f),v.svg?Vi(e,f,0,k,0,this):(_=parseFloat(f?.split(" ")[2])||0,_!==v.zOrigin&&xt(this,v,"zOrigin",v.zOrigin,_),xt(this,a,h,Bs(u),Bs(f)));continue}else if(h==="svgOrigin"){Vi(e,f,1,k,0,this);continue}else if(h in wa){vp(this,v,h,c,b?$n(c,b+f):f);continue}else if(h==="smoothOrigin"){xt(this,v,"smooth",v.smooth,f);continue}else if(h==="force3D"){v[h]=f;continue}else if(h==="transform"){bp(this,f,e);continue}}else h in a||(h=Rn(h)||h);if(y||(d||d===0)&&(c||c===0)&&!ep.test(f)&&h in a)g=(u+"").substr((c+"").length),d||(d=0),_=Me(f)||(h in Ze.units?Ze.units[h]:g),g!==_&&(c=Ut(e,h,u,_)),this._pt=new je(this._pt,y?v:a,h,c,(b?$n(c,b+d):d)-c,!y&&(_==="px"||h==="zIndex")&&t.autoRound!==!1?sp:zi),this._pt.u=_||0,g!==_&&_!=="%"&&(this._pt.b=u,this._pt.r=np);else if(h in a)hp.call(this,e,h,u,b?b+f:f);else if(h in e)this.add(e,h,u||e[h],b?b+f:f,s,r);else if(h!=="parseTransform"){er(h,f);continue}y||(h in a?S.push(h,0,a[h]):S.push(h,1,u||e[h])),o.push(h)}}P&&da(this)},render:function(e,t){if(t.tween._time||!fr())for(var n=t._pt;n;)n.r(e,n.d),n=n._next;else t.styles.revert()},get:Ct,aliases:pt,getSetter:function(e,t,n){var s=pt[t];return s&&s.indexOf(",")<0&&(t=s),t in Pt&&t!==qe&&(e._gsap.x||Ct(e,"x"))?n&&Fr===n?t==="scale"?ap:op:(Fr=n||{})&&(t==="scale"?lp:up):e.style&&!Qi(e.style[t])?ip:~t.indexOf("-")?rp:ar(e,t)},core:{_removeProperty:ln,_getMatrix:dr}};We.utils.checkPrefix=Rn;We.core.getStyleSaver=_a;(function(i,e,t,n){var s=Ue(i+","+e+","+t,function(r){Pt[r]=1});Ue(e,function(r){Ze.units[r]="deg",wa[r]=1}),pt[s[13]]=i+","+e,Ue(n,function(r){var o=r?.split(":");pt[o[1]]=s[o[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");Ue("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(i){Ze.units[i]="px"});We.registerPlugin(Sa);var ot=We.registerPlugin(Sa)||We;ot.core.Tween;function Gr(i){let e,t;return{c(){e=Wi("title"),t=K(i[5])},m(n,s){R(n,e,s),$(e,t)},p(n,s){s&32&&Z(t,n[5])},d(n){n&&M(e)}}}function yp(i){let e,t,n,s=i[5]&&Gr(i),r=[{xmlns:"http://www.w3.org/2000/svg"},{width:i[1]},{height:i[2]},{viewBox:i[0]},{stroke:i[3]},{fill:i[4]},i[7]],o={};for(let a=0;a<r.length;a+=1)o=at(o,r[a]);return{c(){e=Wi("svg"),s&&s.c(),t=bt(),n=new Ua(!0),n.a=null,_r(e,o)},m(a,l){R(a,e,l),s&&s.m(e,null),$(e,t),n.m(i[6],e)},p(a,[l]){a[5]?s?s.p(a,l):(s=Gr(a),s.c(),s.m(e,t)):s&&(s.d(1),s=null),l&64&&n.p(a[6]),_r(e,o=qs(r,[{xmlns:"http://www.w3.org/2000/svg"},l&2&&{width:a[1]},l&4&&{height:a[2]},l&1&&{viewBox:a[0]},l&8&&{stroke:a[3]},l&16&&{fill:a[4]},l&128&&a[7]]))},i:le,o:le,d(a){a&&M(e),s&&s.d()}}}function wp(i){const t=/viewBox="([\d\- \.]+)"/.exec(i);return t?t[1]:"0 0 20 20"}function $p(i,e,t){let n;const s=["data","viewBox","size","width","height","color","stroke","fill","title"];let r=Pn(e,s),{data:o=""}=e,{viewBox:a=wp(o)}=e,{size:l="20px"}=e,{width:u=l}=e,{height:f=l}=e,{color:d="currentColor"}=e,{stroke:c=d}=e,{fill:p=d}=e,{title:m=""}=e;return i.$$set=h=>{e=at(at({},e),Cs(h)),t(7,r=Pn(e,s)),"data"in h&&t(8,o=h.data),"viewBox"in h&&t(0,a=h.viewBox),"size"in h&&t(9,l=h.size),"width"in h&&t(1,u=h.width),"height"in h&&t(2,f=h.height),"color"in h&&t(10,d=h.color),"stroke"in h&&t(3,c=h.stroke),"fill"in h&&t(4,p=h.fill),"title"in h&&t(5,m=h.title)},i.$$.update=()=>{i.$$.dirty&256&&t(6,n=o.replace(/<svg[ \n]([^>]*)>/,"").replace("</svg>",""))},[a,u,f,c,p,m,n,r,o,l,d]}class Fe extends $e{constructor(e){super(),we(this,e,$p,yp,be,{data:8,viewBox:0,size:9,width:1,height:2,color:10,stroke:3,fill:4,title:5})}}const ka=`<svg width="34" height="33" viewBox="0 0 34 33" fill="none" xmlns="http://www.w3.org/2000/svg">\r
<path d="M23.1886 18.0108C23.1131 18.0884 22.8279 18.4198 22.5623 18.6924C21.0052 20.4071 16.9431 23.2137 14.8169 24.0703C14.494 24.2079 13.6778 24.4994 13.2416 24.5181C12.8236 24.5181 12.4253 24.4219 12.0451 24.2267C11.5712 23.954 11.191 23.5251 10.9827 23.0186C10.8486 22.667 10.6403 21.6152 10.6403 21.5966C10.432 20.4458 10.3174 18.5761 10.3174 16.51C10.3174 14.5413 10.432 12.7479 10.6025 11.5798C10.622 11.561 10.8303 10.254 11.0582 9.80624C11.4761 8.98832 12.2925 8.48047 13.1661 8.48047H13.2416C13.8106 8.50051 15.0071 9.00837 15.0071 9.02708C17.0186 9.88509 20.987 12.554 22.5819 14.3275C22.5819 14.3275 23.0311 14.7832 23.2264 15.0679C23.531 15.4769 23.682 15.9834 23.682 16.4899C23.682 17.0553 23.5115 17.5819 23.1886 18.0108Z" fill="#7D7D7D"/>\r
</svg>\r
`,Cp=`<svg width="34" height="33" viewBox="0 0 34 33" fill="none" xmlns="http://www.w3.org/2000/svg">\r
<path fill-rule="evenodd" clip-rule="evenodd" d="M24.654 16.1027C21.0767 15.1804 18.2813 12.385 17.359 8.80771C17.2532 8.39743 16.6706 8.39743 16.5648 8.80771C15.6426 12.385 12.8471 15.1804 9.26984 16.1027C8.85924 16.2086 8.8593 16.7916 9.26984 16.8977C12.8471 17.82 15.6426 20.6153 16.5648 24.1919C16.6705 24.6022 17.2532 24.6022 17.359 24.1919C18.2813 20.6153 21.0767 17.82 24.654 16.8977C25.0645 16.7916 25.0645 16.2086 24.654 16.1027Z" fill="#666666"/>\r
<path fill-rule="evenodd" clip-rule="evenodd" d="M22.5008 13.0121C22.5008 12.0587 23.5461 10.9617 24.5511 10.9617C23.5838 10.9617 22.5008 9.85322 22.5008 8.91211C22.5008 9.85322 21.4276 10.9617 20.4512 10.9617C21.3906 10.9617 22.5008 12.053 22.5008 13.0121Z" fill="#666666"/>\r
</svg>\r
`,Sp=`<svg width="33" height="35" viewBox="0 0 33 35" fill="none" xmlns="http://www.w3.org/2000/svg">\r
<path fill-rule="evenodd" clip-rule="evenodd" d="M11.7758 9.75781H21.2235C21.9971 9.75781 22.6243 10.385 22.6243 11.1586C22.6243 11.9322 21.9971 12.5594 21.2235 12.5594H11.7758C11.0022 12.5594 10.375 11.9322 10.375 11.1586C10.375 10.385 11.0022 9.75781 11.7758 9.75781Z" fill="#666666"/>\r
<path fill-rule="evenodd" clip-rule="evenodd" d="M11.7758 16.0996H21.2235C21.9971 16.0996 22.6243 16.7268 22.6243 17.5004C22.6243 18.274 21.9971 18.9012 21.2235 18.9012H11.7758C11.0022 18.9012 10.375 18.274 10.375 17.5004C10.375 16.7268 11.0022 16.0996 11.7758 16.0996Z" fill="#666666"/>\r
<path fill-rule="evenodd" clip-rule="evenodd" d="M11.7759 22.4395H16.5951C17.3688 22.4395 17.9961 23.0667 17.9961 23.8404C17.9961 24.6141 17.3688 25.2413 16.5951 25.2413H11.7759C11.0022 25.2413 10.375 24.6141 10.375 23.8404C10.375 23.0667 11.0022 22.4395 11.7759 22.4395Z" fill="#666666"/>\r
</svg>\r
`;function kp(i){let e;return{c(){e=K(i[1])},m(t,n){R(t,e,n)},p(t,n){n&2&&Z(e,t[1])},d(t){t&&M(e)}}}function Pp(i){let e,t,n,s,r;const o=i[9].default,a=jt(o,i,i[8],null),l=a||kp(i);let u=[{class:t=`${i[0]} ${i[4].class||""}`},{style:i[2]},{role:"button"},i[5]],f={};for(let d=0;d<u.length;d+=1)f=at(f,u[d]);return{c(){e=L("span"),l&&l.c(),An(e,f),mt(e,"svelte-qesugz",!0)},m(d,c){R(d,e,c),l&&l.m(e,null),n=!0,s||(r=[ie(e,"click",i[3]),ie(e,"mouseenter",i[3]),ie(e,"mouseleave",i[3]),ie(e,"mousemove",i[3]),ie(e,"mousedown",i[3]),ie(e,"contextmenu",i[3]),ie(e,"mouseup",i[3]),ie(e,"focus",i[3])],s=!0)},p(d,[c]){a?a.p&&(!n||c&256)&&Wt(a,o,d,d[8],n?qt(o,d[8],c,null):Gt(d[8]),null):l&&l.p&&(!n||c&2)&&l.p(d,n?c:-1),An(e,f=qs(u,[(!n||c&17&&t!==(t=`${d[0]} ${d[4].class||""}`))&&{class:t},(!n||c&4)&&{style:d[2]},{role:"button"},c&32&&d[5]])),mt(e,"svelte-qesugz",!0)},i(d){n||(T(l,d),n=!0)},o(d){I(l,d),n=!1},d(d){d&&M(e),l&&l.d(d),s=!1,lt(r)}}}function Ap(i,e,t){const n=["text","toggle","value","class","style"];let s=Pn(e,n),{$$slots:r={},$$scope:o}=e,{text:a="Button"}=e,{toggle:l=!1}=e,{value:u=!1}=e,{class:f=""}=e,{style:d=""}=e;const c=js();function p(m){c(m.type,{originalEvent:m,target:m.target}),m.type==="click"&&l&&(t(6,u=!u),c("valueChange",u))}return i.$$set=m=>{t(4,e=at(at({},e),Cs(m))),t(5,s=Pn(e,n)),"text"in m&&t(1,a=m.text),"toggle"in m&&t(7,l=m.toggle),"value"in m&&t(6,u=m.value),"class"in m&&t(0,f=m.class),"style"in m&&t(2,d=m.style),"$$scope"in m&&t(8,o=m.$$scope)},i.$$.update=()=>{i.$$.dirty&64&&t(0,f=u?"active":"")},e=Cs(e),[f,a,d,p,e,s,u,l,o,r]}class Le extends $e{constructor(e){super(),we(this,e,Ap,Pp,be,{text:1,toggle:7,value:6,class:0,style:2})}}let It="",Pe=null,xn=!1,ws=!1,hi=null;const $s={},Op=`client-${Math.random().toString(36).substring(2,11)}`,Vs=async(i=Qe(rt))=>{It=i,(i=="http://127.0.0.1"||i=="127.0.0.1")&&rt.set("http://127.0.0.1:8188"),(i=="https://127.0.0.1"||i=="127.0.0.1:8187")&&rt.set("https://127.0.0.1:8187"),i=Qe(rt),xn&&(ne.info("🔌 Closing existing socket..."),await Ta());try{i=i.replace(/\/$/,""),i.startsWith("https://")||i.startsWith("wss://")?It=`wss://${i.replace("https://","").replace("https://","")}`:It=`ws://${i.replace("http://","").replace("http://","")}`,ne.info("🌐 Connecting to:",It),Nn("Connecting","yellow"),Pe=new WebSocket(`${It}/ps/ws?clientId=${Op}&platform=ps`),Pe.addEventListener("open",Pa),Pe.addEventListener("message",Aa),Pe.addEventListener("close",Oa),hi&&clearInterval(hi),hi=setInterval(Tp,5e3)}catch(e){ne.error("❌ Connection error:",e),Nn("Error","darkred"),xn=!1}},Tp=()=>{(!Pe||Pe.readyState===WebSocket.CLOSED)&&(ne.error("🔄 Socket disconnected, attempting to reconnect..."),xn=!1,Nn("Reconnecting","orange"),ws||Vs())},Pa=()=>{xn=!0,ne.info("✅ Connected to",It),Nn("Connected","green")},Aa=i=>{try{const e=JSON.parse(i.data);ne.info("📩 Received message:",e),Dp(e)}catch(e){ne.error("⚠️ Error parsing message:",e)}},Oa=async()=>{xn=!1,ne.error(`❌ Disconnected from ${It}:8188`),Nn("Disconnected","red"),await Ta(),ws||(ws=!0,setTimeout(()=>{ne.info(`🔄 Reconnecting to ${It}:8188`),Vs().finally(()=>ws=!1)},5e3))},Ta=async()=>{Pe&&(Pe.removeEventListener("close",Oa),Pe.removeEventListener("message",Aa),Pe.removeEventListener("open",Pa),Pe.close(),Pe=null,await new Promise(i=>setTimeout(i,100)))};let Hi=[],Ui=!1;async function Lp(i){Pe==null||Pe.send(i)}async function Ip(i,e=!0){Hi.push({eventType:i,data:e}),Ui||(Ui=!0,Ep())}async function Ep(){for(;Hi.length>0;){const i=Hi.shift();if(i){const{eventType:e,data:t}=i;ne.info("⬆️ Sending message:",e,t),xn&&Pe?Pe.send(JSON.stringify({[e]:t})):ne.warn("⚠️ Unable to send message: Not connected"),await new Promise(n=>setTimeout(n,50))}}Ui=!1}const Dp=i=>{for(const e in i)($s[e]||[]).forEach(n=>{try{n(i[e])}catch(s){ne.error(`⚠️ Error handling message of type ${e}:`,s)}})},kn=(i,e)=>{$s[i]||($s[i]=[]),$s[i].push(e)};function Nn(i,e){ko.set({status:i,color:e})}window.addEventListener("beforeunload",()=>{Pe&&(Pe.close(),Nn("Disconnected","red"))});let ji;const La=(i={left:0,top:0,right:0,bottom:0})=>{const e=he.activeDocument.width,t=he.activeDocument.height,n=i.right-i.left,s=i.bottom-i.top,r=n/s,o=Number(Qe(Is))/100*n,a=o/r;let l=n+2*o,u=s+2*a,f=1;l>e&&(f=e/l,l=e,u*=f),u>t&&(f=t/u,u=t,l*=f);let d=i.left-(l-n)/2,c=i.top-(u-s)/2,p=d+l,m=c+u;return d<0?(d=0,p=l):p>e&&(p=e,d=e-l),c<0?(c=0,m=u):m>t&&(m=t,c=t-u),{left:d,top:c,right:p,bottom:m}},Ia=async()=>{if(!he.activeDocument)throw"No open document";let i=he.activeDocument.width,e=he.activeDocument.height,t={left:0,top:0,right:0,bottom:0};const n=await he.activeDocument.selection.bounds;Qe(on)&&n&&(t={left:n.left,top:n.top,right:n.right,bottom:n.bottom},Number(Qe(Is))>0&&(t=La(t)),i=t.right-t.left,e=t.bottom-t.top);const{newWidth:s,newHeight:r}=Mp(i,e);return ji=t,{sourceBounds:t,targetSize:{width:s,height:r}}},Mp=(i,e)=>{const[t,n]=[Qe(bi),Qe(yi)].map(a=>parseInt(a,10)),s=i/e;let r=Math.min(Math.max(i,n),t),o=r/s;return o>t?(o=t,r=o*s):o<n&&(o=n,r=o*s),{newWidth:r,newHeight:o}},Ea=async(i,e="png")=>{try{const t=await vr.getPixels(i),n=await vr.encodeImageData({imageData:t.imageData,format:e,quality:e==="jpg"?1:void 0,base64:!0});return t.imageData.dispose(),n}catch(t){throw ne.error(`❌ Error saving ${e} image:`,t),t}},Rp=async()=>{try{let i="";return await he.activeDocument.suspendHistory(async()=>{const e=he.activeDocument.activeHistoryState,{sourceBounds:t,targetSize:n}=await Ia();await Vt.executeAsModal(async()=>{await _t([{_obj:"flattenImage",_options:{dialogOptions:"dontDisplay"}},{_obj:"make",_target:[{_ref:"contentLayer"}],using:{_obj:"contentLayer",type:{_obj:"solidColorLayer",color:{_obj:"RGBColor",blue:255,green:255,red:255}}}},{_obj:"make",_target:[{_ref:"contentLayer"}],using:{_obj:"contentLayer",type:{_obj:"solidColorLayer",color:{_obj:"RGBColor",blue:0,green:0,red:0}}}},{_obj:"move",_target:[{_enum:"ordinal",_ref:"layer",_value:"targetEnum"}],adjustment:!1,layerID:[175],to:{_index:1,_ref:"layer"},version:5}],{}),ne.info("🖼️ Mask flattened and prepared for export")});const s={documentID:he.activeDocument.id,targetSize:n,componentSize:8,applyAlpha:!0,colorProfile:"sRGB IEC61966-2.1",colorSpace:"RGB",...t&&{sourceBounds:t}};i=await Ea(s,"jpg"),he.activeDocument.activeHistoryState=e,ne.info("📸 Mask saved as base64 JPG")},"Mask Sent to AI"),is.set(!1),i}catch(i){ne.error("❌ Error saving mask:",i)}},xp=async()=>{try{const{sourceBounds:i,targetSize:e}=await Ia();return await Vt.executeAsModal(async()=>{const t={documentID:he.activeDocument.id,targetSize:e,componentSize:8,applyAlpha:!0,colorProfile:"sRGB IEC61966-2.1",colorSpace:"RGB",...i&&{sourceBounds:i}},n=await Ea(t);return Xt.set(!1),ne.info("📸 Image saved as base64 PNG"),n})}catch(i){ne.error("❌ Error saving image:",i)}},Np=["New Layer","Enter Quick Mask","Object Selection","Lasso","Polygonal Lasso","Elliptical Marquee","Rectangular Marquee","Quick Selection","Exit Quick Mask","Select Inverse","Select Canvas","Load Selection","Border","Smooth","Expand","Contract","Feather","Grow","Similar","Free Transform Selection","Select Sky","Select Subject","Focus Area","Color Range","Path Tool","Selection Change","Deselect","Move Selection","Mask Sent to AI"],zp=["新建图层","进入快速蒙版","对象选择","套索工具","多边形套索工具","椭圆选框工具","矩形选框工具","快速选择","退出快速蒙版","反选","选择画布","载入选区","边框","平滑","扩展","收缩","羽化","增长","相似","自由变换选区","选择天空","选择主体","焦点区域","色彩范围","路径工具","选择变更","取消选择","移动选区","Mask Sent to AI"],Fp={en_US:Np,Disabled_zh_CN:zp};function Bp(i){const e=window.atob(i),t=e.length,n=new Uint8Array(t);for(let s=0;s<t;s++)n[s]=e.charCodeAt(s);return n.buffer}async function Vp(i,e){try{const t=Bp(i);await(await(await Ss.getDataFolder()).createFile(e,{overwrite:!0})).write(t),ne.info("✅ Render saved successfully"),await Da()}catch(t){ne.error("❌ Error saving file:",t)}}let Kr=0;const Da=async()=>{try{Kr++;const e=(await Ki.getEntry("render.png")).url+"?v="+Kr;Si.set(e),ne.info("🖼️ Background image loaded:",e)}catch{ne.warn("⚠️ Failed to load background image, using default image"),Si.set(vo)}};function Hp(i,e,t){let n,s,r,o,a,l,u,f,d,c,p;Y(i,rt,w=>t(12,n=w)),Y(i,Nt,w=>t(13,s=w)),Y(i,Dt,w=>t(14,r=w)),Y(i,Tn,w=>t(15,o=w)),Y(i,On,w=>t(16,a=w)),Y(i,Un,w=>t(17,l=w)),Y(i,Xt,w=>t(18,u=w)),Y(i,on,w=>t(19,f=w)),Y(i,is,w=>t(20,d=w)),Y(i,Pi,w=>t(21,c=w)),Y(i,ki,w=>t(22,p=w));let m=null,h=null,g=null;const _=()=>{var q,D,W;const x=Fp["en_US"];if((q=he.documents)!=null&&q.length){const G=he.activeDocument.activeHistoryState,se=he.activeDocument.historyStates,X=se.findIndex(ae=>ae.id===G.id);if(m){if(G.id!==m.id){let de=function(){(ae||g&&!ae||!g&&ae)&&C(),x.includes(G.name)||b()};const ae=((D=he.activeDocument.selection)==null?void 0:D.bounds)||null;if(h=X>=0&&X<se.length-1?se[X+1]:null,G.id<m.id){if((h==null?void 0:h.name)==="Mask Sent to AI")return;de()}else G.name!=="Mask Sent to AI"&&de();m=G,g=ae}}else m=G,g=((W=he.activeDocument.selection)==null?void 0:W.bounds)||null}},b=async()=>{ne.info("🖼️ Canvas Changed: "),Ve(Xt,u=!0,u),v()};function y(){Ve(Dt,r=BigInt(Math.round(Math.random()*1e6)).toString(),r),Ve(Un,l=!0,l),ne.info("🎲 Random seed: ",r),k()}const C=async()=>{f&&Ve(Xt,u=!0,u),ne.info("🎭 Mask Changed: "),Ve(is,d=!0,d),v()};async function v(){p&&await k()}async function k(){let w={};c&&(Ve(Dt,r=BigInt(Math.round(Math.random()*1e6)).toString(),r),Ve(Un,l=!0,l));const x=[];u&&x.push(xp().then(q=>{w.canvasBase64=q})),d&&x.push(Rp().then(q=>{var D,W;w.maskBase64=q,f&&((W=(D=he.activeDocument)==null?void 0:D.selection)!=null&&W.bounds)&&Ve(Xt,u=!0,u)})),l&&x.push(A().then(q=>{w.configdata=q})),await Promise.all(x),w.queue=!0,ne.info("🚀 Sending Queue ~ combinedData:",w),await Lp(JSON.stringify(w))}async function P(){[Dt,Nt,Tn,On].forEach(w=>{w.subscribe(async()=>{Un.set(!0),await v()})})}function S(){Da(),setInterval(_,300),P(),ne.info("✨ First Run Completed"),H()}const A=async()=>{let w={positive:a,negative:o,seed:r,slider:parseFloat(s),pluginVer:ss};return Un.set(!1),ne.info("💾 Config File Saved: ",w),w},H=()=>{setTimeout(()=>{Vs(),E()},100)},j=()=>{E("http://0.0.0.0:8188"),setTimeout(()=>{Ve(rt,n="http://127.0.0.1:8188",n),E(),Vs()},100)},E=(w=n)=>{(w=="http://127.0.0.1"||w=="127.0.0.1")&&(w="http://127.0.0.1:8188"),(w=="https://127.0.0.1"||w=="127.0.0.1:8187")&&(w="https://127.0.0.1:8187"),Ve(rt,n=w,n),w=w.replace(/\/$/,"");const x=document.querySelector("webview");x&&(w.startsWith("https://")||w.startsWith("wss://")?x.src=`https://${w.replace("wss://","").replace("https://","")}`:x.src=`http://${w.replace("ws://","").replace("http://","")}`,ne.info("🌐 Webview Updated: ",x.src))};return[_,y,v,k,P,S,A,H,j]}class cn extends $e{constructor(e){super(),we(this,e,Hp,null,be,{checkHistory:0,randomize:1,smtchanged:2,SendQueue:3,checkforchanges:4,startCommand:5,saveConfigFile:6,applyIP:7,resetIP:8})}get checkHistory(){return this.$$.ctx[0]}get randomize(){return this.$$.ctx[1]}get smtchanged(){return this.$$.ctx[2]}get SendQueue(){return this.$$.ctx[3]}get checkforchanges(){return this.$$.ctx[4]}get startCommand(){return this.$$.ctx[5]}get saveConfigFile(){return this.$$.ctx[6]}get applyIP(){return this.$$.ctx[7]}get resetIP(){return this.$$.ctx[8]}}const Up=`<svg width="34" height="35" viewBox="0 0 34 35" fill="none" xmlns="http://www.w3.org/2000/svg">
<g clip-path="url(#clip0_2954_186)">
<path d="M21.6696 18.4804H21.6496C22.3196 17.6504 21.8696 16.5304 21.1196 15.9204C19.6696 14.5904 17.2896 12.6604 15.1496 12.2404C13.5096 12.2204 13.3496 14.1904 13.3096 15.4604C13.2296 17.4904 13.0996 19.8304 13.6796 21.7604C14.8696 24.7204 20.5296 19.7604 21.6696 18.4804Z" fill="#7E7F7F"/>
<path d="M11.77 22.1707C10.97 21.5107 10.51 20.5107 9.97001 19.6407C9.20001 18.6807 7.48001 19.3207 7.61001 20.5807C7.65001 21.8007 9.22001 23.4307 9.89001 24.1307C11.13 25.3707 13.07 23.3707 11.77 22.1707Z" fill="#7E7E7E"/>
<path d="M8.36996 15.7101C10.27 16.4801 10.49 13.6101 11.74 12.8401C12.43 12.2101 12.27 10.9901 11.37 10.6201C10.82 10.3701 10.18 10.5001 9.79996 10.9401C8.79996 12.0501 6.31996 14.5101 8.35996 15.7101H8.36996Z" fill="#7E7E7E"/>
<path d="M23.9399 17.4994C23.9899 21.8594 19.7799 25.3495 15.4899 24.4495C14.8099 24.3195 14.1399 24.7495 14.0199 25.4395C13.8699 27.4195 16.4599 27.0594 17.6999 27.0494C28.6599 25.8794 29.5599 10.5695 18.8199 8.11945C17.6099 7.85945 16.2399 7.85945 15.0299 8.09945H14.9999C13.3999 8.41945 13.8899 10.8795 15.4899 10.5595C19.7699 9.63945 23.9999 13.1394 23.9399 17.4994Z" fill="#7E7F7F"/>
</g>
<defs>
<clipPath id="clip0_2954_186">
<rect width="18.82" height="19.16" fill="white" transform="translate(7.58984 7.91992)"/>
</clipPath>
</defs>
</svg>
`,Ma=`<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M7.23426 8.86913H8.37926V7.33875C8.37926 6.50769 9.05297 5.83398 9.88403 5.83398C10.7151 5.83398 11.3888 6.50769 11.3888 7.33875V19.0591C11.3888 19.647 11.8654 20.1237 12.4534 20.1237L24.1737 20.1236C25.0047 20.1236 25.6785 20.7973 25.6785 21.6284C25.6785 22.4595 25.0047 23.1332 24.1737 23.1332H23.0287V24.6636C23.0287 25.4946 22.355 26.1683 21.5239 26.1683C20.6929 26.1683 20.0191 25.4946 20.0191 24.6636V23.1332H12.3924C10.176 23.1332 8.37926 21.3364 8.37926 19.1201V11.8787H7.23426C6.4032 11.8787 5.72949 11.205 5.72949 10.3739C5.72949 9.54284 6.4032 8.86913 7.23426 8.86913ZM13.4128 8.86913V11.8787H18.9545C19.5425 11.8787 20.0191 12.3553 20.0191 12.9433V18.0997H23.0287V12.8823C23.0287 10.6659 21.232 8.86915 19.0156 8.86914L13.4128 8.86913Z" fill="#7E7E7E"/>
</svg>
`;function jp(i){let e,t;return e=new Fe({props:{data:Up,size:"24"}}),{c(){V(e.$$.fragment)},m(n,s){F(e,n,s),t=!0},p:le,i(n){t||(T(e.$$.fragment,n),t=!0)},o(n){I(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function qp(i){let e,t;return e=new Fe({props:{data:Ma,size:"24"}}),{c(){V(e.$$.fragment)},m(n,s){F(e,n,s),t=!0},p:le,i(n){t||(T(e.$$.fragment,n),t=!0)},o(n){I(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function Wp(i){let e,t;return e=new Fe({props:{data:Sp,size:Ra}}),{c(){V(e.$$.fragment)},m(n,s){F(e,n,s),t=!0},p:le,i(n){t||(T(e.$$.fragment,n),t=!0)},o(n){I(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function Gp(i){let e,t;return e=new Fe({props:{data:Cp,size:Ra}}),{c(){V(e.$$.fragment)},m(n,s){F(e,n,s),t=!0},p:le,i(n){t||(T(e.$$.fragment,n),t=!0)},o(n){I(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function Kp(i){let e=i[4].t("render")+"",t,n,s,r;return s=new Fe({props:{style:"margin-right: -4px;",data:ka,size:"24"}}),{c(){t=K(e),n=N(),V(s.$$.fragment)},m(o,a){R(o,t,a),R(o,n,a),F(s,o,a),r=!0},p(o,a){(!r||a&16)&&e!==(e=o[4].t("render")+"")&&Z(t,e)},i(o){r||(T(s.$$.fragment,o),r=!0)},o(o){I(s.$$.fragment,o),r=!1},d(o){o&&(M(t),M(n)),B(s,o)}}}function Yp(i){let e,t,n,s,r,o,a,l,u,f,d,c,p,m,h,g,_,b,y,C={};e=new cn({props:C}),i[8](e);function v(w){i[9](w)}let k={class:"tiny icon",toggle:!0,$$slots:{default:[jp]},$$scope:{ctx:i}};i[5]!==void 0&&(k.value=i[5]),r=new Le({props:k}),Q.push(()=>_e(r,"value",v)),r.$on("mouseenter",i[10]);function P(w){i[11](w)}let S={class:"tiny icon",toggle:!0,$$slots:{default:[qp]},$$scope:{ctx:i}};i[6]!==void 0&&(S.value=i[6]),l=new Le({props:S}),Q.push(()=>_e(l,"value",P)),l.$on("mouseenter",i[12]),l.$on("click",i[7]);function A(w){i[13](w)}let H={toggle:!0,style:"height: 42px;width: 42px;",class:"ghost icon",$$slots:{default:[Wp]},$$scope:{ctx:i}};i[1]!==void 0&&(H.value=i[1]),c=new Le({props:H}),Q.push(()=>_e(c,"value",A));function j(w){i[14](w)}let E={toggle:!0,style:"height: 42px;width: 42px;",class:"ghost icon",$$slots:{default:[Gp]},$$scope:{ctx:i}};return i[0]!==void 0&&(E.value=i[0]),h=new Le({props:E}),Q.push(()=>_e(h,"value",j)),b=new Le({props:{style:"min-width: 90px; margin-left:4px",class:"icon",id:"rndrbtn",$$slots:{default:[Kp]},$$scope:{ctx:i}}}),b.$on("mouseenter",i[15]),b.$on("click",function(){tt(i[2].SendQueue)&&i[2].SendQueue.apply(this,arguments)}),b.$on("contextmenu",function(){tt(i[2].randomize)&&i[2].randomize.apply(this,arguments)}),{c(){V(e.$$.fragment),t=N(),n=L("main"),s=L("div"),V(r.$$.fragment),a=N(),V(l.$$.fragment),f=N(),d=L("div"),V(c.$$.fragment),m=N(),V(h.$$.fragment),_=N(),V(b.$$.fragment),O(s,"class","floatcontainer svelte-ralsjh"),O(d,"class","style-containerBG svelte-ralsjh"),O(n,"class","svelte-ralsjh")},m(w,x){F(e,w,x),R(w,t,x),R(w,n,x),$(n,s),F(r,s,null),$(s,a),F(l,s,null),$(n,f),$(n,d),F(c,d,null),$(d,m),F(h,d,null),$(d,_),F(b,d,null),i[16](n),y=!0},p(w,[x]){i=w;const q={};e.$set(q);const D={};x&2097152&&(D.$$scope={dirty:x,ctx:i}),!o&&x&32&&(o=!0,D.value=i[5],me(()=>o=!1)),r.$set(D);const W={};x&2097152&&(W.$$scope={dirty:x,ctx:i}),!u&&x&64&&(u=!0,W.value=i[6],me(()=>u=!1)),l.$set(W);const G={};x&2097152&&(G.$$scope={dirty:x,ctx:i}),!p&&x&2&&(p=!0,G.value=i[1],me(()=>p=!1)),c.$set(G);const se={};x&2097152&&(se.$$scope={dirty:x,ctx:i}),!g&&x&1&&(g=!0,se.value=i[0],me(()=>g=!1)),h.$set(se);const X={};x&2097168&&(X.$$scope={dirty:x,ctx:i}),b.$set(X)},i(w){y||(T(e.$$.fragment,w),T(r.$$.fragment,w),T(l.$$.fragment,w),T(c.$$.fragment,w),T(h.$$.fragment,w),T(b.$$.fragment,w),y=!0)},o(w){I(e.$$.fragment,w),I(r.$$.fragment,w),I(l.$$.fragment,w),I(c.$$.fragment,w),I(h.$$.fragment,w),I(b.$$.fragment,w),y=!1},d(w){w&&(M(t),M(n)),i[8](null),B(e,w),B(r),B(l),B(c),B(h),B(b),i[16](null)}}}const Ra="36";function Jp(i,e,t){let n,s,r,o,a,l,u,f,d;Y(i,Ln,S=>t(17,n=S)),Y(i,_s,S=>t(18,s=S)),Y(i,is,S=>t(19,r=S)),Y(i,Xt,S=>t(20,o=S)),Y(i,Jn,S=>t(0,a=S)),Y(i,Yn,S=>t(1,l=S)),Y(i,un,S=>t(4,u=S)),Y(i,ki,S=>t(5,f=S)),Y(i,on,S=>t(6,d=S));let c,p;function m(){Ve(Xt,o=!0,o),Ve(is,r=!0,r),c.smtchanged()}yt(()=>{const S=document.querySelector("uxp-panel");S&&(S.addEventListener("mouseenter",()=>{ot.to(p,{paddingBottom:10,y:0,duration:n?0:.3,ease:"power1.out"})}),S.addEventListener("mouseleave",()=>{s||ot.to(p,{paddingBottom:0,y:100,duration:n?0:.2,ease:"power1.in"})}))});function h(S){Q[S?"unshift":"push"](()=>{c=S,t(2,c)})}function g(S){f=S,ki.set(f)}const _=S=>St(S,u.t("renderOnPSChanges"));function b(S){d=S,on.set(d)}const y=S=>St(S,u.t("cropToSelectionArea"));function C(S){l=S,Yn.set(l)}function v(S){a=S,Jn.set(a)}const k=S=>St(S,u.t("randomizeHint"));function P(S){Q[S?"unshift":"push"](()=>{p=S,t(3,p)})}return i.$$.update=()=>{i.$$.dirty&2&&l&&Jn.set(!1),i.$$.dirty&1&&a&&Yn.set(!1)},[a,l,c,p,u,f,d,m,h,g,_,b,y,C,v,k,P]}class Qp extends $e{constructor(e){super(),we(this,e,Jp,Yp,be,{})}}function Zp(i){let e,t,n,s,r,o,a,l,u,f;return{c(){e=L("div"),t=L("div"),n=L("div"),s=L("div"),s.innerHTML='<div class="slider-handle svelte-1n6qwoy"></div>',r=N(),o=L("div"),o.textContent=`${Nt}`,a=N(),l=L("div"),l.textContent="creative",O(s,"id","foreground"),O(s,"class","svelte-1n6qwoy"),O(n,"id","background"),O(n,"class","svelte-1n6qwoy"),O(o,"id","sliderText"),O(o,"class","svelte-1n6qwoy"),O(l,"class","slider-caption svelte-1n6qwoy"),O(t,"class","section svelte-1n6qwoy"),O(e,"id","addtolayerBack"),O(e,"class","zone svelte-1n6qwoy")},m(d,c){R(d,e,c),$(e,t),$(t,n),$(n,s),i[5](s),i[6](n),$(t,r),$(t,o),i[7](o),$(t,a),$(t,l),i[8](t),i[9](e),u||(f=ie(t,"click",Xp),u=!0)},p:le,i:le,o:le,d(d){d&&M(e),i[5](null),i[6](null),i[7](null),i[8](null),i[9](null),u=!1,f()}}}const Xp=i=>i.stopPropagation();function eg(i,e,t){let n,s;Y(i,Es,P=>t(12,n=P)),Y(i,Ln,P=>t(13,s=P));let r=null,o=null,a=null,l=null,u=null,f=!1,d=0;const c=P=>{if(r&&o&&a){const A=Math.min(100,Math.max(0,P));d=A,ot.to(r,{height:`${A}%`,duration:s||s?0:.15}),t(1,o.innerText=`${A}`,o),t(1,o.style.letterSpacing=A>=100?"-0.15em":"normal",o)}},p=P=>{if(r){f=!0;const S=m(P.clientY);S!==void 0&&c(S),document.addEventListener("mousemove",h),document.addEventListener("mouseup",g)}};function m(P){var S;if(a&&r){const A=a.getBoundingClientRect(),H=((S=r.querySelector(".slider-handle"))==null?void 0:S.clientHeight)||0,j=P-A.top-H;return Math.round((A.height-j)/A.height*100)}}const h=P=>{const S=m(P.clientY);S!==void 0&&c(S)},g=P=>{f=!1,document.removeEventListener("mousemove",h),document.removeEventListener("mouseup",g),Nt.set(d.toString())},_=()=>{ot.to(u,{x:"115%",duration:s||s?0:.2,ease:"power1.in"})};yt(()=>{var P;return u&&l&&(u.addEventListener("mousedown",p),l.addEventListener("mouseenter",()=>ot.to(u,{x:"0%",duration:s||s?0:.3,ease:"power1.out"})),n||(P=document.querySelector("uxp-panel"))==null||P.addEventListener("mouseleave",()=>{f||_()})),Nt.subscribe(S=>{S?c(parseInt(S)):(Nt.set("0"),c(0))}),()=>{u==null||u.removeEventListener("mousedown",p)}});function b(P){Q[P?"unshift":"push"](()=>{r=P,t(0,r)})}function y(P){Q[P?"unshift":"push"](()=>{a=P,t(2,a)})}function C(P){Q[P?"unshift":"push"](()=>{o=P,t(1,o)})}function v(P){Q[P?"unshift":"push"](()=>{u=P,t(4,u)})}function k(P){Q[P?"unshift":"push"](()=>{l=P,t(3,l)})}return[r,o,a,l,u,b,y,C,v,k]}class tg extends $e{constructor(e){super(),we(this,e,eg,Zp,be,{})}}const ng=`<svg width="33" height="33" viewBox="0 0 33 33" fill="none" xmlns="http://www.w3.org/2000/svg">\r
<path fill-rule="evenodd" clip-rule="evenodd" d="M21.6809 16.2095C21.6809 16.5068 21.8334 16.772 22.0878 16.9206C23.1918 17.5625 23.5706 18.9877 22.9343 20.0987C22.6239 20.6386 22.1235 21.0244 21.5246 21.1855C20.9294 21.3427 20.307 21.2618 19.7725 20.9513C19.5197 20.8036 19.2186 20.8036 18.9657 20.9497C18.709 21.0968 18.5558 21.3637 18.5558 21.6616C18.5558 22.9446 17.5179 23.9894 16.242 23.9894C14.9653 23.9894 13.9275 22.9446 13.9275 21.6616C13.9275 21.3628 13.7742 21.0968 13.5176 20.949C13.2647 20.8036 12.9636 20.8036 12.7123 20.9513C12.1771 21.2618 11.5539 21.3442 10.9572 21.1847C10.3589 21.0237 9.85945 20.6379 9.54981 20.0987C8.91342 18.9877 9.29308 17.5617 10.3963 16.9199C10.6507 16.7728 10.8024 16.5068 10.8024 16.2095C10.8024 15.9123 10.6507 15.6463 10.3963 15.4985C9.29308 14.8582 8.91342 13.4329 9.54981 12.3212C9.85945 11.7812 10.3589 11.3954 10.958 11.2343C11.5554 11.074 12.1771 11.1581 12.7123 11.4685C12.9643 11.6163 13.2655 11.6148 13.5176 11.4701C13.7742 11.3222 13.9275 11.0561 13.9275 10.7574C13.9275 9.47452 14.9653 8.42969 16.242 8.42969C17.5179 8.42969 18.5558 9.47452 18.5558 10.7574C18.5558 11.0554 18.709 11.3222 18.9657 11.4692C19.2193 11.6163 19.5205 11.6163 19.7725 11.4685C20.3063 11.1581 20.9285 11.0756 21.5246 11.2335C22.1235 11.3946 22.6239 11.7805 22.9343 12.3204C23.5706 13.4321 23.1918 14.8574 22.0885 15.4992C21.8334 15.647 21.6809 15.9123 21.6809 16.2095ZM16.2419 18.5434C14.955 18.5434 13.9079 17.4962 13.9079 16.2094C13.9079 14.9226 14.955 13.8755 16.2419 13.8755C17.5287 13.8755 18.5758 14.9226 18.5758 16.2094C18.5758 17.4962 17.5287 18.5434 16.2419 18.5434Z" fill="#7D7D7D"/>\r
</svg>\r
`,sg=`<svg width="35" height="33" viewBox="0 0 35 33" fill="none" xmlns="http://www.w3.org/2000/svg">\r
<path fill-rule="evenodd" clip-rule="evenodd" d="M15.5353 8.48828C14.7576 8.48828 14.1271 9.11877 14.1271 9.89652V12.0089C14.1271 12.7866 14.7576 13.4172 15.5353 13.4172H17.002V16.1925H14.4455C13.376 16.1925 12.5091 17.0595 12.5091 18.1288V19.5832H10.9004C10.1227 19.5832 9.49219 20.2136 9.49219 20.9914V23.1038C9.49219 23.8816 10.1227 24.512 10.9004 24.512H14.8902C15.668 24.512 16.2984 23.8816 16.2984 23.1038V20.9914C16.2984 20.2136 15.668 19.5832 14.8902 19.5832H13.5653V18.1288C13.5653 17.6428 13.9594 17.2486 14.4455 17.2486H20.6149C21.101 17.2486 21.4951 17.6428 21.4951 18.1288V19.5832H20.17C19.3923 19.5832 18.7618 20.2136 18.7618 20.9914V23.1038C18.7618 23.8816 19.3923 24.512 20.17 24.512H24.1598C24.9376 24.512 25.5681 23.8816 25.5681 23.1038V20.9914C25.5681 20.2136 24.9376 19.5832 24.1598 19.5832H22.5513V18.1288C22.5513 17.0595 21.6844 16.1925 20.6149 16.1925H18.0582V13.4172H19.5251C20.3029 13.4172 20.9333 12.7866 20.9333 12.0089V9.89652C20.9333 9.11877 20.3029 8.48828 19.5251 8.48828H15.5353Z" fill="#7D7D7D"/>\r
</svg>\r
`,ig=`<svg width="32" height="33" viewBox="0 0 32 33" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M11.4264 10.8177C10.8397 10.8177 10.3639 11.2934 10.3639 11.8802V13.09C10.3639 13.7262 9.84817 14.242 9.21194 14.242C8.5757 14.242 8.05994 13.7262 8.05994 13.09V11.8802C8.05994 10.0209 9.5672 8.51367 11.4264 8.51367H12.6533C13.2896 8.51367 13.8053 9.02944 13.8053 9.66567C13.8053 10.3019 13.2896 10.8177 12.6533 10.8177H11.4264Z" fill="#7D7D7D"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M18.1429 9.66567C18.1429 9.02944 18.6587 8.51367 19.2949 8.51367H20.5048C22.3641 8.51367 23.8712 10.021 23.8712 11.8802V13.1071C23.8712 13.7433 23.3555 14.2591 22.7192 14.2591C22.083 14.2591 21.5672 13.7433 21.5672 13.1071V11.8802C21.5672 11.2933 21.0916 10.8177 20.5048 10.8177H19.2949C18.6587 10.8177 18.1429 10.3019 18.1429 9.66567Z" fill="#7D7D7D"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M9.21194 18.5938C9.84817 18.5938 10.3639 19.1095 10.3639 19.7457V20.9727C10.3639 21.5595 10.8396 22.0352 11.4264 22.0352H12.6362C13.2725 22.0352 13.7882 22.5509 13.7882 23.1872C13.7882 23.8234 13.2725 24.3392 12.6362 24.3392H11.4264C9.56722 24.3392 8.05994 22.832 8.05994 20.9727V19.7457C8.05994 19.1095 8.5757 18.5938 9.21194 18.5938Z" fill="#7D7D7D"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M22.7197 18.6016C23.356 18.6016 23.8717 19.1173 23.8717 19.7536V20.9635C23.8717 22.8226 22.3646 24.33 20.5053 24.33H19.2783C18.6421 24.33 18.1263 23.8142 18.1263 23.178C18.1263 22.5417 18.6421 22.026 19.2783 22.026H20.5053C21.092 22.026 21.5677 21.5503 21.5677 20.9635V19.7536C21.5677 19.1173 22.0835 18.6016 22.7197 18.6016Z" fill="#7D7D7D"/>
</svg>
`;function rg(i){let e,t,n,s,r,o,a,l,u,f,d,c,p,m,h,g={};return e=new cn({props:g}),i[3](e),o=new Fe({props:{data:ng,size:"32"}}),u=new Fe({props:{data:sg,size:"32"}}),c=new Fe({props:{data:ig,size:"32"}}),{c(){V(e.$$.fragment),t=N(),n=L("main"),s=L("div"),r=L("div"),V(o.$$.fragment),a=N(),l=L("div"),V(u.$$.fragment),f=N(),d=L("div"),V(c.$$.fragment),O(r,"class","style-containerBG icon svelte-1r95fc8"),O(l,"class","style-containerBG icon svelte-1r95fc8"),O(s,"class","buttonSeg svelte-1r95fc8"),O(d,"class","style-containerBG icon svelte-1r95fc8"),O(n,"class","svelte-1r95fc8")},m(_,b){F(e,_,b),R(_,t,b),R(_,n,b),$(n,s),$(s,r),F(o,r,null),$(s,a),$(s,l),F(u,l,null),$(n,f),$(n,d),F(c,d,null),i[4](n),p=!0,m||(h=[ie(r,"click",Yr("comfyui.photoshop.plugin.settings")),ie(l,"click",Yr("comfyui.photoshop.plugin.web")),ie(d,"click",i[2])],m=!0)},p(_,[b]){const y={};e.$set(y)},i(_){p||(T(e.$$.fragment,_),T(o.$$.fragment,_),T(u.$$.fragment,_),T(c.$$.fragment,_),p=!0)},o(_){I(e.$$.fragment,_),I(o.$$.fragment,_),I(u.$$.fragment,_),I(c.$$.fragment,_),p=!1},d(_){_&&(M(t),M(n)),i[3](null),B(e,_),B(o),B(u),B(c),i[4](null),m=!1,lt(h)}}}async function og(i){try{const e=require("uxp"),n=Array.from(e.pluginManager.plugins).find(s=>s.id===e.entrypoints._pluginInfo.id);console.log("currentPlugin: ",n),n?await n.showPanel(i):console.error("No plugin found")}catch(e){console.error("Error opening panel:",e)}}function Yr(i){return async function(e){await og(i)}}function ag(i,e,t){let n,s;Y(i,Es,f=>t(5,n=f)),Y(i,Ln,f=>t(6,s=f));let r;function o(){Co.update(f=>f==="cover"?"contain":"cover")}let a;yt(()=>{const f=document.querySelector("uxp-panel");if(f){const d=()=>{ot.to(a,{x:"-116%",duration:s?0:.3,ease:"power1.in"})},c=()=>{ot.to(a,{x:"0%",duration:s?0:.3,ease:"power1.out"})};return n||(f.addEventListener("mouseleave",d),f.addEventListener("mouseenter",c)),()=>{f.removeEventListener("mouseleave",d),f.removeEventListener("mouseenter",c)}}});function l(f){Q[f?"unshift":"push"](()=>{r=f,t(0,r)})}function u(f){Q[f?"unshift":"push"](()=>{a=f,t(1,a)})}return[r,a,o,l,u]}class lg extends $e{constructor(e){super(),we(this,e,ag,rg,be,{})}}let hr=0;const xa=async()=>{var i;if((i=he.documents)!=null&&i.length)try{const e=he.activeDocument.selection.bounds,n=(await Ki.getEntry("render.png")).nativePath.replace(/\\/g,"/"),s=await Ss.createSessionToken(await Ss.getEntryWithUrl(`file://${n}`));hr++,await he.activeDocument.suspendHistory(async()=>{e&&await fg(),e&&await dg(),await hg(s),e&&await cg(e),await pg(e),e&&await gg(),e&&await ug()},"Added to Layer")}catch(e){ne.error("❌ Error adding to layer:",e)}},ug=async()=>{await _t([{_obj:"set",_target:[{_ref:"channel",_property:"selection"}],to:{_ref:"channel",_name:"SavedSelection"},_options:{dialogOptions:"dontDisplay"}},{_obj:"delete",_target:[{_ref:"channel",_name:"SavedSelection"}],_options:{dialogOptions:"dontDisplay"}}],{}),ne.info("🔄 Selection restored")},fg=async()=>{await _t([{_obj:"duplicate",_target:[{_ref:"channel",_property:"selection"}],name:"SavedSelection",_options:{dialogOptions:"dontDisplay"}}],{}),ne.info("💾 Selection saved")},cg=async i=>{Qe(on)&&(ji?i=ji:i=La(i),i?await Vt.executeAsModal(async()=>{if(i){const e=i.right-i.left,t=i.bottom-i.top,n=he.activeDocument.activeLayers[0],s=n.bounds.width,r=n.bounds.height,o=e/s*100,a=t/r*100;await _t([{_obj:"transform",freeTransformCenterState:{_enum:"quadCenterState",_value:"QCSAverage"},width:{_unit:"percentUnit",_value:o},height:{_unit:"percentUnit",_value:a},_options:{dialogOptions:"dontDisplay"}}],{}),ne.info("🔄 Image resized to fit selection box");const l=i.left-n.bounds.left,u=i.top-n.bounds.top;await _t([{_obj:"move",_target:[{_ref:"layer",_enum:"ordinal",_value:"targetEnum"}],to:{_obj:"offset",horizontal:{_unit:"pixelsUnit",_value:l},vertical:{_unit:"pixelsUnit",_value:u}},_options:{dialogOptions:"dontDisplay"}}],{}),ne.info("📍 Layer position adjusted to match selection box")}}):ne.warn("⚠️ No selection box found. Skipping resize."))},dg=async()=>{const i=await he.activeDocument.selection.bounds,e=i.right-i.left,t=i.bottom-i.top,n=Math.sqrt(e*t);Qe(wi)&&await Vt.executeAsModal(async()=>{await _t([{_obj:"expand",by:{_unit:"pixelsUnit",_value:n*.02},selectionModifyEffectAtCanvasBounds:!1,_options:{dialogOptions:"dontDisplay"}},{_obj:"feather",radius:{_unit:"pixelsUnit",_value:n*.01},selectionModifyEffectAtCanvasBounds:!1,_options:{dialogOptions:"dontDisplay"}}],{}),ne.info("✂️ Mask edge expanded and feathered")}),await Vt.executeAsModal(async()=>{await _t([{_obj:"make",_target:[{_ref:"layer"}],using:{_obj:"layer",name:"TempLayerForMasking"},layerID:120,_options:{dialogOptions:"dontDisplay"}},{_obj:"make",new:{_class:"channel"},at:{_ref:"channel",_enum:"channel",_value:"mask"},using:{_enum:"userMaskEnabled",_value:"revealSelection"},_options:{dialogOptions:"dontDisplay"}}],{}),ne.info("📋 Mask and Temp Layer created")})},hg=async i=>{await Vt.executeAsModal(async()=>{await _t([{_obj:"placeEvent",target:{_path:i,_kind:"local"}},{_obj:"set",_target:[{_ref:"layer",_enum:"ordinal",_value:"targetEnum"}],to:{_obj:"layer",name:"render "+hr},_options:{dialogOptions:"dontDisplay"}},{_obj:"set",_target:[{_ref:"channel",_property:"selection"}],to:{_enum:"ordinal",_value:"allEnum"},_options:{dialogOptions:"dontDisplay"}},{_obj:"align",_target:[{_ref:"layer",_enum:"ordinal",_value:"targetEnum"}],using:{_enum:"alignDistributeSelector",_value:"ADSCentersV"},alignToCanvas:!1,_options:{dialogOptions:"dontDisplay"}},{_obj:"align",_target:[{_ref:"layer",_enum:"ordinal",_value:"targetEnum"}],using:{_enum:"alignDistributeSelector",_value:"ADSCentersH"},alignToCanvas:!1,_options:{dialogOptions:"dontDisplay"}},{_obj:"set",_target:[{_ref:"channel",_property:"selection"}],to:{_enum:"ordinal",_value:"none"},_options:{dialogOptions:"dontDisplay"}}],{}),ne.info("📏 Layer placed and aligned")})},pg=async i=>{if(!Qe(on)||Qe(on)&&!i){const e=he.activeDocument.width,t=he.activeDocument.height,n=he.activeDocument.activeLayers[0],s=n.bounds.width,r=n.bounds.height;(s<e||r<t||Qe(Ci))&&await Vt.executeAsModal(async()=>{const o=e/s*100,a=t/r*100;await _t([{_obj:"transform",freeTransformCenterState:{_enum:"quadCenterState",_value:"QCSAverage"},width:{_unit:"percentUnit",_value:o},height:{_unit:"percentUnit",_value:a},_options:{dialogOptions:"dontDisplay"}}],{}),ne.info("🔄 Placed layer resized to match document")})}},gg=async()=>{await Vt.executeAsModal(async()=>{await _t([{_obj:"make",new:{_class:"channel"},at:{_ref:[{_ref:"channel",_enum:"channel",_value:"mask"},{_ref:"layer",_enum:"ordinal",_value:"targetEnum"}]},using:{_ref:[{_ref:"channel",_enum:"channel",_value:"mask"},{_ref:"layer",_name:"TempLayerForMasking"}]},duplicate:!0,_options:{dialogOptions:"dontDisplay"}},{_obj:"select",_target:[{_ref:"layer",_name:"TempLayerForMasking"}],makeVisible:!1,layerID:[158],_options:{dialogOptions:"dontDisplay"}},{_obj:"delete",_target:[{_ref:"layer",_enum:"ordinal",_value:"targetEnum"}],layerID:[158],_options:{dialogOptions:"dontDisplay"}},{_obj:"select",_target:[{_ref:"layer",_name:"render "+hr}],makeVisible:!1,_options:{dialogOptions:"dontDisplay"}}],{}),ne.info("🗑️ Temp layer removed and render layer selected")})};function mg(i){let e,t,n,s=i[1].t("addToLayer")+"",r,o,a=i[1].t("clickEmptyArea")+"",l,u;return{c(){e=L("main"),t=L("span"),n=L("b"),r=K(s),o=K(" ("),l=K(a),u=K(")"),O(t,"class","discrip svelte-5sl45q"),mt(t,"visible",i[0]),O(e,"id","addtolayerBack"),O(e,"class","svelte-5sl45q")},m(f,d){R(f,e,d),$(e,t),$(t,n),$(n,r),$(t,o),$(t,l),$(t,u)},p(f,[d]){d&2&&s!==(s=f[1].t("addToLayer")+"")&&Z(r,s),d&2&&a!==(a=f[1].t("clickEmptyArea")+"")&&Z(l,a),d&1&&mt(t,"visible",f[0])},i:le,o:le,d(f){f&&M(e)}}}function _g(i,e,t){let n;Y(i,un,a=>t(1,n=a));let s=!1;function r(){t(0,s=!0)}function o(){t(0,s=!1)}return yt(()=>{const a=document.querySelectorAll("#addtolayerBack"),l=document.querySelector("uxp-panel");a.forEach(u=>{u.addEventListener("mouseenter",r),u.addEventListener("click",xa)}),l==null||l.addEventListener("mouseleave",o)}),[s,n]}class vg extends $e{constructor(e){super(),we(this,e,_g,mg,be,{})}}function Jr(i){let e;function t(r,o){return r[2]?yg:bg}let n=t(i),s=n(i);return{c(){s.c(),e=bt()},m(r,o){s.m(r,o),R(r,e,o)},p(r,o){n===(n=t(r))&&s?s.p(r,o):(s.d(1),s=n(r),s&&(s.c(),s.m(e.parentNode,e)))},d(r){r&&M(e),s.d(r)}}}function bg(i){let e,t;return{c(){e=L("span"),t=K(i[1]),O(e,"class","header_discrip discrip svelte-7o6noh")},m(n,s){R(n,e,s),$(e,t)},p(n,s){s&2&&Z(t,n[1])},d(n){n&&M(e)}}}function yg(i){let e,t,n;return{c(){e=L("a"),t=L("span"),n=K(i[1]),O(t,"class","header_discrip discrip svelte-7o6noh"),te(t,"color",i[3]),O(e,"href",i[2])},m(s,r){R(s,e,r),$(e,t),$(t,n)},p(s,r){r&2&&Z(n,s[1]),r&8&&te(t,"color",s[3]),r&4&&O(e,"href",s[2])},d(s){s&&M(e)}}}function wg(i){let e,t,n,s,r=i[1]&&Jr(i);return{c(){e=L("div"),t=L("span"),n=K(i[0]),s=N(),r&&r.c(),O(t,"class","header_title svelte-7o6noh"),O(e,"class","header svelte-7o6noh")},m(o,a){R(o,e,a),$(e,t),$(t,n),$(e,s),r&&r.m(e,null)},p(o,[a]){a&1&&Z(n,o[0]),o[1]?r?r.p(o,a):(r=Jr(o),r.c(),r.m(e,null)):r&&(r.d(1),r=null)},i:le,o:le,d(o){o&&M(e),r&&r.d()}}}function $g(i,e,t){let{title:n="Prompt"}=e,{status:s="Need Help?"}=e,{link:r="https://github.com/NimaNzrii/comfyui-photoshop"}=e,{statusColor:o="#696969"}=e;return i.$$set=a=>{"title"in a&&t(0,n=a.title),"status"in a&&t(1,s=a.status),"link"in a&&t(2,r=a.link),"statusColor"in a&&t(3,o=a.statusColor)},[n,s,r,o]}class zn extends $e{constructor(e){super(),we(this,e,$g,wg,be,{title:0,status:1,link:2,statusColor:3})}}function Cg(i){let e,t,n,s,r;const o=i[11].default,a=jt(o,i,i[10],null),l=a||kg(i);let u=[{id:i[3]},{class:t="blackbg "+i[0]},{style:i[2]},i[8]],f={};for(let d=0;d<u.length;d+=1)f=at(f,u[d]);return{c(){e=L("main"),l&&l.c(),An(e,f),mt(e,"svelte-fap738",!0)},m(d,c){R(d,e,c),l&&l.m(e,null),i[14](e),n=!0,s||(r=[ie(e,"click",i[7]),ie(e,"mouseenter",i[7]),ie(e,"mouseleave",i[7]),ie(e,"mousedown",i[7]),ie(e,"mouseup",i[7]),ie(e,"focus",i[7])],s=!0)},p(d,c){a?a.p&&(!n||c&1024)&&Wt(a,o,d,d[10],n?qt(o,d[10],c,null):Gt(d[10]),null):l&&l.p&&(!n||c&2)&&l.p(d,n?c:-1),An(e,f=qs(u,[(!n||c&8)&&{id:d[3]},(!n||c&1&&t!==(t="blackbg "+d[0]))&&{class:t},(!n||c&4)&&{style:d[2]},c&256&&d[8]])),mt(e,"svelte-fap738",!0)},i(d){n||(T(l,d),n=!0)},o(d){I(l,d),n=!1},d(d){d&&M(e),l&&l.d(d),i[14](null),s=!1,lt(r)}}}function Sg(i){let e,t,n,s,r,o;const a=i[11].default,l=jt(a,i,i[10],null),u=l||Pg(i);let f=[{id:i[3]},{class:n="blackbg "+i[0]},{style:i[2]},i[8]],d={};for(let c=0;c<f.length;c+=1)d=at(d,f[c]);return{c(){e=L("div"),t=L("main"),u&&u.c(),An(t,d),mt(t,"svelte-fap738",!0),O(e,"class","cropper svelte-fap738")},m(c,p){R(c,e,p),$(e,t),u&&u.m(t,null),i[12](t),i[13](e),s=!0,r||(o=[ie(t,"click",i[7]),ie(t,"mouseenter",i[7]),ie(t,"mouseleave",i[7]),ie(t,"mousedown",i[7]),ie(t,"mouseup",i[7]),ie(t,"focus",i[7])],r=!0)},p(c,p){l?l.p&&(!s||p&1024)&&Wt(l,a,c,c[10],s?qt(a,c[10],p,null):Gt(c[10]),null):u&&u.p&&(!s||p&2)&&u.p(c,s?p:-1),An(t,d=qs(f,[(!s||p&8)&&{id:c[3]},(!s||p&1&&n!==(n="blackbg "+c[0]))&&{class:n},(!s||p&4)&&{style:c[2]},p&256&&c[8]])),mt(t,"svelte-fap738",!0)},i(c){s||(T(u,c),s=!0)},o(c){I(u,c),s=!1},d(c){c&&M(e),u&&u.d(c),i[12](null),i[13](null),r=!1,lt(o)}}}function kg(i){let e;return{c(){e=K(i[1])},m(t,n){R(t,e,n)},p(t,n){n&2&&Z(e,t[1])},d(t){t&&M(e)}}}function Pg(i){let e;return{c(){e=K(i[1])},m(t,n){R(t,e,n)},p(t,n){n&2&&Z(e,t[1])},d(t){t&&M(e)}}}function Ag(i){let e,t,n,s;const r=[Sg,Cg],o=[];function a(l,u){return l[4]?0:1}return e=a(i),t=o[e]=r[e](i),{c(){t.c(),n=bt()},m(l,u){o[e].m(l,u),R(l,n,u),s=!0},p(l,[u]){let f=e;e=a(l),e===f?o[e].p(l,u):(At(),I(o[f],1,1,()=>{o[f]=null}),Ot(),t=o[e],t?t.p(l,u):(t=o[e]=r[e](l),t.c()),T(t,1),t.m(n.parentNode,n))},i(l){s||(T(t),s=!0)},o(l){I(t),s=!1},d(l){l&&M(n),o[e].d(l)}}}function Og(i,e,t){const n=["class","divs","style","id","show","animate"];let s=Pn(e,n),r;Y(i,Ln,k=>t(15,r=k));let{$$slots:o={},$$scope:a}=e,{class:l=""}=e,{divs:u="Button"}=e,{style:f=""}=e,{id:d="presetContainer"}=e,{show:c=!0}=e,{animate:p=!1}=e;const m=js();let h,g;function _(){const k=h.querySelectorAll("sp-textarea, sp-textfield");if(h&&g&&p){const P=c?"260px":"160px",S=c?"0vh":"-100vh",A=r?0:c?.3:.5,H=c?"1":"0";ot.to([g,h],{width:g?P:void 0,marginTop:h?S:void 0,duration:A,ease:"power1.out",onStart:()=>{c||k.forEach(j=>{j.style.opacity=H})},onComplete:()=>{k.forEach(j=>{j.style.opacity=H})}})}}ja(()=>{requestAnimationFrame(_)});function b(k){m(k.type,k)}function y(k){Q[k?"unshift":"push"](()=>{h=k,t(5,h)})}function C(k){Q[k?"unshift":"push"](()=>{g=k,t(6,g)})}function v(k){Q[k?"unshift":"push"](()=>{h=k,t(5,h)})}return i.$$set=k=>{e=at(at({},e),Cs(k)),t(8,s=Pn(e,n)),"class"in k&&t(0,l=k.class),"divs"in k&&t(1,u=k.divs),"style"in k&&t(2,f=k.style),"id"in k&&t(3,d=k.id),"show"in k&&t(9,c=k.show),"animate"in k&&t(4,p=k.animate),"$$scope"in k&&t(10,a=k.$$scope)},[l,u,f,d,p,h,g,b,s,c,a,o,y,C,v]}class yn extends $e{constructor(e){super(),we(this,e,Og,Ag,be,{class:0,divs:1,style:2,id:3,show:9,animate:4})}}function Tg(i){let e,t,n;const s=i[16].default,r=jt(s,i,i[15],null);return{c(){e=L("sp-checkbox"),r&&r.c(),oe(e,"id",i[2]),oe(e,"class",t=Et(i[3])+" svelte-pw2s4r"),oe(e,"style",i[4]),oe(e,"checked",i[0]),oe(e,"disabled",i[6]),oe(e,"size",i[7])},m(o,a){R(o,e,a),r&&r.m(e,null),i[23](e),n=!0},p(o,a){r&&r.p&&(!n||a&32768)&&Wt(r,s,o,o[15],n?qt(s,o[15],a,null):Gt(o[15]),null),(!n||a&4)&&oe(e,"id",o[2]),(!n||a&8&&t!==(t=Et(o[3])+" svelte-pw2s4r"))&&oe(e,"class",t),(!n||a&16)&&oe(e,"style",o[4]),(!n||a&1)&&oe(e,"checked",o[0]),(!n||a&64)&&oe(e,"disabled",o[6]),(!n||a&128)&&oe(e,"size",o[7])},i(o){n||(T(r,o),n=!0)},o(o){I(r,o),n=!1},d(o){o&&M(e),r&&r.d(o),i[23](null)}}}function Lg(i){let e,t,n,s,r,o;const a=i[16].default,l=jt(a,i,i[15],null);return{c(){e=L("div"),t=L("div"),n=L("sp-textfield"),l&&l.c(),oe(n,"id",i[2]),oe(n,"class",s=Et(i[3])+" svelte-pw2s4r"),oe(n,"style",i[4]),oe(n,"placeholder",i[5]),te(t,"transform","translate(-50%, -50%)"),te(t,"top","15%"),te(t,"left","50%"),O(t,"class","crop svelte-pw2s4r"),O(e,"style",i[4]),O(e,"class",r="bg "+i[7]+" filedbg svelte-pw2s4r")},m(u,f){R(u,e,f),$(e,t),$(t,n),l&&l.m(n,null),i[21](n),i[22](e),o=!0},p(u,f){l&&l.p&&(!o||f&32768)&&Wt(l,a,u,u[15],o?qt(a,u[15],f,null):Gt(u[15]),null),(!o||f&4)&&oe(n,"id",u[2]),(!o||f&8&&s!==(s=Et(u[3])+" svelte-pw2s4r"))&&oe(n,"class",s),(!o||f&16)&&oe(n,"style",u[4]),(!o||f&32)&&oe(n,"placeholder",u[5]),(!o||f&16)&&O(e,"style",u[4]),(!o||f&128&&r!==(r="bg "+u[7]+" filedbg svelte-pw2s4r"))&&O(e,"class",r)},i(u){o||(T(l,u),o=!0)},o(u){I(l,u),o=!1},d(u){u&&M(e),l&&l.d(u),i[21](null),i[22](null)}}}function Ig(i){let e,t,n,s,r,o,a,l,u,f,d,c;const p=i[16].default,m=jt(p,i,i[15],null);return{c(){e=L("div"),t=L("div"),n=L("sp-textarea"),m&&m.c(),r=N(),o=L("div"),oe(n,"id",i[2]),oe(n,"class",s=Et(i[3])+" svelte-pw2s4r"),oe(n,"placeholder",i[5]),O(t,"class","crop svelte-pw2s4r"),O(o,"class",a=Et(i[11])+" svelte-pw2s4r"),O(e,"class",l="bg "+(i[10]?"resizing":"")+" "+(i[12]?"hovering":"")+" svelte-pw2s4r"),O(e,"style",u="height: 68px;min-height: 50px;"+i[4])},m(h,g){R(h,e,g),$(e,t),$(t,n),m&&m.m(n,null),i[17](n),$(e,r),$(e,o),i[20](e),f=!0,d||(c=[ie(o,"mousedown",i[13]),ie(o,"mouseover",i[18]),ie(o,"mouseout",i[19])],d=!0)},p(h,g){m&&m.p&&(!f||g&32768)&&Wt(m,p,h,h[15],f?qt(p,h[15],g,null):Gt(h[15]),null),(!f||g&4)&&oe(n,"id",h[2]),(!f||g&8&&s!==(s=Et(h[3])+" svelte-pw2s4r"))&&oe(n,"class",s),(!f||g&32)&&oe(n,"placeholder",h[5]),(!f||g&2048&&a!==(a=Et(h[11])+" svelte-pw2s4r"))&&O(o,"class",a),(!f||g&5120&&l!==(l="bg "+(h[10]?"resizing":"")+" "+(h[12]?"hovering":"")+" svelte-pw2s4r"))&&O(e,"class",l),(!f||g&16&&u!==(u="height: 68px;min-height: 50px;"+h[4]))&&O(e,"style",u)},i(h){f||(T(m,h),f=!0)},o(h){I(m,h),f=!1},d(h){h&&M(e),m&&m.d(h),i[17](null),i[20](null),d=!1,lt(c)}}}function Eg(i){let e,t,n,s;const r=[Ig,Lg,Tg],o=[];function a(l,u){return l[1]==="textarea"?0:l[1]==="textfield"?1:l[1]==="checkbox"?2:-1}return~(e=a(i))&&(t=o[e]=r[e](i)),{c(){t&&t.c(),n=bt()},m(l,u){~e&&o[e].m(l,u),R(l,n,u),s=!0},p(l,[u]){let f=e;e=a(l),e===f?~e&&o[e].p(l,u):(t&&(At(),I(o[f],1,1,()=>{o[f]=null}),Ot()),~e?(t=o[e],t?t.p(l,u):(t=o[e]=r[e](l),t.c()),T(t,1),t.m(n.parentNode,n)):t=null)},i(l){s||(T(t),s=!0)},o(l){I(t),s=!1},d(l){l&&M(n),~e&&o[e].d(l)}}}const pi=50;function Dg(i,e,t){let{$$slots:n={},$$scope:s}=e,{type:r}=e,{value:o=""}=e,{id:a=""}=e,{class:l=""}=e,{style:u=""}=e,{placeholder:f=""}=e,{disabled:d=!1}=e,{size:c="m"}=e,{numeric:p=!1}=e;const m=js();let h,g,_,b,y=!1,C="handler",v=!1;yt(()=>{r==="textarea"||r==="textfield"?(t(8,h.value=o,h),h.addEventListener("input",()=>{let D=h.value;p&&(D=D.replace(/[^0-9+-]/g,""),t(8,h.value=D,h)),t(0,o=D),m("input",{value:o})})):r==="checkbox"&&(t(8,h.checked=o,h),h.addEventListener("change",()=>{t(0,o=h.checked),m("change",{value:o})}))});function k(D){t(10,y=!0),_=g.clientHeight,b=D.clientY,t(11,C="handler resizing")}function P(D){if(y){const W=_+(D.clientY-b);W>pi?(t(9,g.style.height=`${W-6}px`,g),t(8,h.style.height=`${W}px`,h)):(t(9,g.style.height=`${pi}px`,g),t(8,h.style.height=`${pi}px`,h))}}function S(){t(10,y=!1),t(11,C="handler")}document.addEventListener("mousemove",P),document.addEventListener("mouseup",S);function A(D){Q[D?"unshift":"push"](()=>{h=D,t(8,h)})}const H=()=>t(12,v=!0),j=()=>t(12,v=!1);function E(D){Q[D?"unshift":"push"](()=>{g=D,t(9,g)})}function w(D){Q[D?"unshift":"push"](()=>{h=D,t(8,h)})}function x(D){Q[D?"unshift":"push"](()=>{g=D,t(9,g)})}function q(D){Q[D?"unshift":"push"](()=>{h=D,t(8,h)})}return i.$$set=D=>{"type"in D&&t(1,r=D.type),"value"in D&&t(0,o=D.value),"id"in D&&t(2,a=D.id),"class"in D&&t(3,l=D.class),"style"in D&&t(4,u=D.style),"placeholder"in D&&t(5,f=D.placeholder),"disabled"in D&&t(6,d=D.disabled),"size"in D&&t(7,c=D.size),"numeric"in D&&t(14,p=D.numeric),"$$scope"in D&&t(15,s=D.$$scope)},[o,r,a,l,u,f,d,c,h,g,y,C,v,k,p,s,n,A,H,j,E,w,x,q]}class Oe extends $e{constructor(e){super(),we(this,e,Dg,Eg,be,{type:1,value:0,id:2,class:3,style:4,placeholder:5,disabled:6,size:7,numeric:14})}}const Mg=`<svg width="33" height="32" viewBox="0 0 33 32" fill="none" xmlns="http://www.w3.org/2000/svg">
<g clip-path="url(#clip0_2886_525)">
<path d="M7.9345 10.6899C8.92099 10.6899 9.90705 10.6883 10.8935 10.6912C12.5226 10.6962 13.7755 11.386 14.6422 12.75C15.7581 14.5062 16.8694 16.2658 17.9682 18.0328C18.4578 18.8204 19.1452 19.2089 20.0748 19.1861C20.3022 19.1807 20.5297 19.1852 20.7785 19.1852C20.7785 18.9883 20.7785 18.8025 20.7785 18.6163C20.7785 18.2901 20.7818 17.9639 20.7772 17.6376C20.7739 17.3978 20.8706 17.2154 21.0864 17.1123C21.3042 17.008 21.5099 17.0595 21.6917 17.2096C22.2614 17.6796 22.8306 18.15 23.3999 18.6205C23.8665 19.0061 24.334 19.3905 24.799 19.7779C25.0482 19.9852 25.1266 20.2113 25.0168 20.4453C24.9741 20.5367 24.902 20.6236 24.8233 20.6892C23.7815 21.5557 22.7364 22.4176 21.6921 23.2812C21.509 23.4325 21.305 23.4828 21.0872 23.3793C20.8715 23.2767 20.7751 23.0946 20.7768 22.8548C20.7806 22.347 20.7781 21.8387 20.7781 21.3072C20.6327 21.3072 20.4957 21.3051 20.3588 21.3072C19.8121 21.3164 19.2684 21.3072 18.7364 21.1564C17.636 20.8438 16.8007 20.193 16.1979 19.233C15.0799 17.4519 13.9556 15.6744 12.8359 13.8945C12.5326 13.4124 12.1297 13.0542 11.5675 12.9087C11.3493 12.8522 11.1185 12.819 10.8931 12.8169C9.90705 12.8073 8.92057 12.8131 7.93408 12.8131V10.6895L7.9345 10.6899Z" fill="#7D7D7D"/>
<path d="M7.93457 19.1854C8.92022 19.1854 9.90586 19.1892 10.8919 19.1854C11.731 19.1821 12.3798 18.8313 12.8255 18.1207C13.0572 17.7517 13.2905 17.3835 13.5313 17.002C13.5783 17.0726 13.616 17.1262 13.6512 17.1819C14.0106 17.7529 14.3712 18.3231 14.7256 18.8974C14.7558 18.9465 14.7704 19.0383 14.7445 19.0828C14.0847 20.2181 13.1238 20.9562 11.8206 21.2263C11.5877 21.2746 11.3468 21.3024 11.1089 21.3045C10.0508 21.3132 8.99268 21.309 7.93457 21.3099V19.1863V19.1854Z" fill="#7D7D7D"/>
<path d="M20.7788 10.6917C20.7788 10.1469 20.7738 9.62282 20.7805 9.09835C20.7855 8.71103 21.1676 8.46043 21.519 8.61046C21.599 8.64454 21.6723 8.70064 21.7402 8.75674C22.7556 9.59414 23.7705 10.4324 24.7838 11.2718C25.1583 11.5819 25.16 11.9202 24.7889 12.2277C23.7756 13.0676 22.761 13.9058 21.7452 14.7432C21.6732 14.8026 21.594 14.8604 21.5085 14.8965C21.1571 15.0441 20.7839 14.7889 20.7797 14.3962C20.7742 13.8771 20.7784 13.3576 20.7784 12.839C19.6457 12.7534 18.7112 12.7808 17.9987 13.9241C17.7796 14.2757 17.5567 14.6256 17.3255 14.9917C17.2949 14.9531 17.2706 14.9273 17.2522 14.8978C16.8744 14.2985 16.4957 13.6997 16.1237 13.0971C16.094 13.0493 16.0848 12.957 16.1116 12.9113C16.7676 11.7884 17.7122 11.0333 19.0095 10.7873C19.4908 10.6958 19.9947 10.7191 20.4881 10.6921C20.5765 10.6871 20.6653 10.6913 20.7784 10.6913L20.7788 10.6917Z" fill="#7D7D7D"/>
</g>
<defs>
<clipPath id="clip0_2886_525">
<rect width="17.1313" height="14.8687" fill="white" transform="translate(7.93457 8.56641)"/>
</clipPath>
</defs>
</svg>
`;function Qr(i){let e,t,n;function s(o){i[9](o)}let r={type:"textfield",placeholder:i[2].t("negativePrompt"),id:"nPrompt",style:"width: 100%;"};return i[4]!==void 0&&(r.value=i[4]),e=new Oe({props:r}),Q.push(()=>_e(e,"value",s)),{c(){V(e.$$.fragment)},m(o,a){F(e,o,a),n=!0},p(o,a){const l={};a&4&&(l.placeholder=o[2].t("negativePrompt")),!t&&a&16&&(t=!0,l.value=o[4],me(()=>t=!1)),e.$set(l)},i(o){n||(T(e.$$.fragment,o),n=!0)},o(o){I(e.$$.fragment,o),n=!1},d(o){B(e,o)}}}function Rg(i){let e,t;return e=new Fe({props:{data:Mg,size:"24"}}),{c(){V(e.$$.fragment)},m(n,s){F(e,n,s),t=!0},p:le,i(n){t||(T(e.$$.fragment,n),t=!0)},o(n){I(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function xg(i){let e=i[2].t("randomize")+"",t;return{c(){t=K(e)},m(n,s){R(n,t,s)},p(n,s){s&4&&e!==(e=n[2].t("randomize")+"")&&Z(t,e)},d(n){n&&M(t)}}}function Ng(i){let e,t,n,s,r,o,a,l,u,f,d,c,p,m,h,g,_;e=new zn({props:{title:i[2].t("prompt")}});let b=i[3]&&Qr(i);function y(A){i[10](A)}let C={type:"textarea",id:"pPrompt",style:"width: 100%; border-bottom-left-radius: 10px !important;"};i[5]!==void 0&&(C.value=i[5]),r=new Oe({props:C}),Q.push(()=>_e(r,"value",y));function v(A){i[11](A)}let k={style:"margin-right:4px; width: 60px; background-color: "+(i[6]?"#3d3d3e":"initial")+";",toggle:!0,class:"icon",$$slots:{default:[Rg]},$$scope:{ctx:i}};i[6]!==void 0&&(k.value=i[6]),f=new Le({props:k}),Q.push(()=>_e(f,"value",v)),f.$on("mouseenter",i[12]),p=new Le({props:{style:"margin-right:4px",$$slots:{default:[xg]},$$scope:{ctx:i}}}),p.$on("click",function(){tt(i[0].randomize)&&i[0].randomize.apply(this,arguments)});function P(A){i[13](A)}let S={style:"width:160px",type:"textfield",numeric:!0};return i[7]!==void 0&&(S.value=i[7]),h=new Oe({props:S}),Q.push(()=>_e(h,"value",P)),{c(){V(e.$$.fragment),t=N(),n=L("div"),b&&b.c(),s=N(),V(r.$$.fragment),a=N(),l=L("div"),u=L("div"),V(f.$$.fragment),c=N(),V(p.$$.fragment),m=N(),V(h.$$.fragment),O(n,"id","promptsection"),O(n,"class","column-item"),te(u,"width","100%"),O(u,"class","row-item")},m(A,H){F(e,A,H),R(A,t,H),R(A,n,H),b&&b.m(n,null),$(n,s),F(r,n,null),R(A,a,H),R(A,l,H),$(l,u),F(f,u,null),$(u,c),F(p,u,null),$(u,m),F(h,u,null),_=!0},p(A,H){i=A;const j={};H&4&&(j.title=i[2].t("prompt")),e.$set(j),i[3]?b?(b.p(i,H),H&8&&T(b,1)):(b=Qr(i),b.c(),T(b,1),b.m(n,s)):b&&(At(),I(b,1,1,()=>{b=null}),Ot());const E={};!o&&H&32&&(o=!0,E.value=i[5],me(()=>o=!1)),r.$set(E);const w={};H&64&&(w.style="margin-right:4px; width: 60px; background-color: "+(i[6]?"#3d3d3e":"initial")+";"),H&16384&&(w.$$scope={dirty:H,ctx:i}),!d&&H&64&&(d=!0,w.value=i[6],me(()=>d=!1)),f.$set(w);const x={};H&16388&&(x.$$scope={dirty:H,ctx:i}),p.$set(x);const q={};!g&&H&128&&(g=!0,q.value=i[7],me(()=>g=!1)),h.$set(q)},i(A){_||(T(e.$$.fragment,A),T(b),T(r.$$.fragment,A),T(f.$$.fragment,A),T(p.$$.fragment,A),T(h.$$.fragment,A),_=!0)},o(A){I(e.$$.fragment,A),I(b),I(r.$$.fragment,A),I(f.$$.fragment,A),I(p.$$.fragment,A),I(h.$$.fragment,A),_=!1},d(A){A&&(M(t),M(n),M(a),M(l)),B(e,A),b&&b.d(),B(r),B(f),B(p),B(h)}}}function zg(i){let e,t,n,s,r={};return e=new cn({props:r}),i[8](e),n=new yn({props:{animate:!0,show:i[1],$$slots:{default:[Ng]},$$scope:{ctx:i}}}),{c(){V(e.$$.fragment),t=N(),V(n.$$.fragment)},m(o,a){F(e,o,a),R(o,t,a),F(n,o,a),s=!0},p(o,[a]){const l={};e.$set(l);const u={};a&2&&(u.show=o[1]),a&16637&&(u.$$scope={dirty:a,ctx:o}),n.$set(u)},i(o){s||(T(e.$$.fragment,o),T(n.$$.fragment,o),s=!0)},o(o){I(e.$$.fragment,o),I(n.$$.fragment,o),s=!1},d(o){o&&M(t),i[8](null),B(e,o),B(n,o)}}}function Fg(i,e,t){let n,s,r,o,a,l,u;Y(i,Jn,_=>t(1,n=_)),Y(i,un,_=>t(2,s=_)),Y(i,$i,_=>t(3,r=_)),Y(i,Tn,_=>t(4,o=_)),Y(i,On,_=>t(5,a=_)),Y(i,Pi,_=>t(6,l=_)),Y(i,Dt,_=>t(7,u=_));let f;yt(()=>{var _;(_=document.querySelector("uxp-panel"))==null||_.addEventListener("mouseleave",()=>{Jn.set(!1)})});function d(_){Q[_?"unshift":"push"](()=>{f=_,t(0,f)})}function c(_){o=_,Tn.set(o)}function p(_){a=_,On.set(a)}function m(_){l=_,Pi.set(l)}const h=_=>St(_,s.t("autoRandomizeHint"));function g(_){u=_,Dt.set(u)}return[f,n,s,r,o,a,l,u,d,c,p,m,h,g]}class Bg extends $e{constructor(e){super(),we(this,e,Fg,zg,be,{})}}const Vg=`<svg width="33" height="34" viewBox="0 0 33 34" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M15.143 22.5218C15.0734 22.454 14.7758 22.1979 14.531 21.9594C12.9914 20.5613 10.4714 16.9139 9.70219 15.005C9.57859 14.7151 9.31699 13.982 9.30019 13.5904C9.30019 13.2152 9.38659 12.8575 9.56179 12.5161C9.80659 12.0906 10.1918 11.7492 10.6466 11.5622C10.9622 11.4418 11.9066 11.2547 11.9234 11.2547C12.9566 11.0677 14.6354 10.9649 16.4906 10.9649C18.2582 10.9649 19.8686 11.0677 20.9174 11.2208C20.9342 11.2384 22.1078 11.4254 22.5098 11.63C23.2442 12.0053 23.7002 12.7382 23.7002 13.5227L23.7002 13.5904C23.6822 14.1013 23.2262 15.1756 23.2094 15.1756C22.439 16.9818 20.0426 20.5449 18.4502 21.977C18.4502 21.977 18.041 22.3803 17.7854 22.5557C17.4182 22.8292 16.9634 22.9648 16.5086 22.9648C16.001 22.9648 15.5282 22.8116 15.143 22.5218Z" fill="#7D7D7D"/>
</svg>
`,Hg=`<svg width="32" height="35" viewBox="0 0 32 35" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M25.8593 12.7374L13.6157 24.981C12.8644 25.7322 11.6463 25.7322 10.8949 24.981L6.14113 20.605C5.38981 19.8537 5.38981 18.6356 6.14113 17.8843C6.89245 17.133 8.11059 17.133 8.86191 17.8843L11.9606 20.605H12.55L23.1385 10.0166C23.8899 9.2653 25.1079 9.2653 25.8593 10.0166C26.6105 10.7679 26.6105 11.9861 25.8593 12.7374Z" fill="#7D7D7D"/>
</svg>
`;function Zr(i,e,t){const n=i.slice();return n[18]=e[t].id,n[19]=e[t].label,n}function Xr(i){let e,t,n,s,r,o,a=Bt(i[3]),l=[];for(let f=0;f<a.length;f+=1)l[f]=to(Zr(i,a,f));const u=f=>I(l[f],1,1,()=>{l[f]=null});return{c(){e=L("div"),t=N(),n=L("div");for(let f=0;f<l.length;f+=1)l[f].c();O(e,"class","overlay svelte-r4mg2"),O(n,"class","dropdown-menu svelte-r4mg2")},m(f,d){R(f,e,d),R(f,t,d),R(f,n,d);for(let c=0;c<l.length;c+=1)l[c]&&l[c].m(n,null);s=!0,r||(o=ie(e,"click",i[5]),r=!0)},p(f,d){if(d&76){a=Bt(f[3]);let c;for(c=0;c<a.length;c+=1){const p=Zr(f,a,c);l[c]?(l[c].p(p,d),T(l[c],1)):(l[c]=to(p),l[c].c(),T(l[c],1),l[c].m(n,null))}for(At(),c=a.length;c<l.length;c+=1)u(c);Ot()}},i(f){if(!s){for(let d=0;d<a.length;d+=1)T(l[d]);s=!0}},o(f){l=l.filter(Boolean);for(let d=0;d<l.length;d+=1)I(l[d]);s=!1},d(f){f&&(M(e),M(t),M(n)),Hs(l,f),r=!1,o()}}}function eo(i){let e,t;return e=new Fe({props:{data:Hg,size:"16"}}),{c(){V(e.$$.fragment)},m(n,s){F(e,n,s),t=!0},i(n){t||(T(e.$$.fragment,n),t=!0)},o(n){I(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function to(i){let e,t,n=i[19]+"",s,r,o,a,l,u,f,d=i[2]===i[18]&&eo();function c(){return i[10](i[19],i[18])}return{c(){e=L("div"),t=L("span"),s=K(n),r=N(),d&&d.c(),o=N(),O(e,"id",a=i[18]),O(e,"class","svelte-r4mg2"),mt(e,"selected",i[2]===i[18])},m(p,m){R(p,e,m),$(e,t),$(t,s),$(e,r),d&&d.m(e,null),$(e,o),l=!0,u||(f=ie(e,"click",c),u=!0)},p(p,m){i=p,(!l||m&8)&&n!==(n=i[19]+"")&&Z(s,n),i[2]===i[18]?d?m&12&&T(d,1):(d=eo(),d.c(),T(d,1),d.m(e,o)):d&&(At(),I(d,1,1,()=>{d=null}),Ot()),(!l||m&8&&a!==(a=i[18]))&&O(e,"id",a),(!l||m&12)&&mt(e,"selected",i[2]===i[18])},i(p){l||(T(d),l=!0)},o(p){I(d),l=!1},d(p){p&&M(e),d&&d.d(),u=!1,f()}}}function Ug(i){let e,t,n,s,r,o,a,l,u,f,d,c;r=new Fe({props:{data:Vg,size:"16"}});let p=i[1]&&Xr(i);const m=i[9].default,h=jt(m,i,i[8],null);return{c(){e=L("div"),t=L("span"),n=K(i[0]),s=N(),V(r.$$.fragment),o=N(),p&&p.c(),a=N(),l=L("div"),u=L("span"),h&&h.c(),te(t,"width","100%"),O(t,"class","discrip"),O(e,"class","dropdown-header svelte-r4mg2"),te(l,"display","none")},m(g,_){R(g,e,_),$(e,t),$(t,n),$(e,s),F(r,e,null),R(g,o,_),p&&p.m(g,_),R(g,a,_),R(g,l,_),$(l,u),h&&h.m(u,null),i[11](u),f=!0,d||(c=ie(e,"click",i[5]),d=!0)},p(g,[_]){(!f||_&1)&&Z(n,g[0]),g[1]?p?(p.p(g,_),_&2&&T(p,1)):(p=Xr(g),p.c(),T(p,1),p.m(a.parentNode,a)):p&&(At(),I(p,1,1,()=>{p=null}),Ot()),h&&h.p&&(!f||_&256)&&Wt(h,m,g,g[8],f?qt(m,g[8],_,null):Gt(g[8]),null)},i(g){f||(T(r.$$.fragment,g),T(p),T(h,g),f=!0)},o(g){I(r.$$.fragment,g),I(p),I(h,g),f=!1},d(g){g&&(M(e),M(o),M(a),M(l)),B(r),p&&p.d(g),h&&h.d(g),i[11](null),d=!1,c()}}}function jg(i,e,t){let{$$slots:n={},$$scope:s}=e,{prefix:r=""}=e;const o=js();let a=!1,{selectedItem:l="Failed to Get List"}=e,u=null,f=[],d=null,c;const p=v=>{document.querySelectorAll("#settinpanel sp-textarea, #settinpanel sp-textfield").forEach(P=>{P.style.opacity=v?"0":"1"})},m=v=>{document.querySelectorAll("#settinpanel").forEach(P=>{P.style.overflowY=v?"none":"auto"})};let h=()=>{t(1,a=!a),o("toggle",{isOpen:a}),p(a),m(a)};const g=v=>{const k=v.target;k&&!k.closest(".dropdown-container")&&!k.closest(".dropdown-header")&&(t(1,a=!1),o("toggle",{isOpen:a}),p(a))},_=(v,k)=>{t(0,l=`${r} ${v}`),t(2,u=k),o("change",{id:k,item:v}),h()},b=()=>{if(d){const v=d.querySelectorAll("option");t(3,f=Array.from(v).map(P=>{var S;return{id:P.id,label:((S=P.textContent)==null?void 0:S.trim())||"",selected:P.hasAttribute("selected")}}));const k=f.find(P=>P.selected);k&&(t(0,l=`${r} ${k.label}`),t(2,u=k.id))}};yt(()=>(document.addEventListener("click",g),c=new MutationObserver(b),d&&(c.observe(d,{childList:!0,subtree:!0}),b()),()=>{document.removeEventListener("click",g),c.disconnect()}));const y=(v,k)=>_(v,k);function C(v){Q[v?"unshift":"push"](()=>{d=v,t(4,d)})}return i.$$set=v=>{"prefix"in v&&t(7,r=v.prefix),"selectedItem"in v&&t(0,l=v.selectedItem),"$$scope"in v&&t(8,s=v.$$scope)},[l,a,u,f,d,h,_,r,s,n,y,C]}class qi extends $e{constructor(e){super(),we(this,e,jg,Ug,be,{prefix:7,selectedItem:0})}}function no(i,e,t){const n=i.slice();return n[11]=e[t],n}function so(i,e,t){const n=i.slice();return n[14]=e[t],n}function io(i){let e,t=i[14].name+"",n,s,r,o;return{c(){e=L("option"),n=K(t),O(e,"id",s=i[14].id),e.selected=r=i[14].selected,e.__value=o=i[14].name,es(e,e.__value)},m(a,l){R(a,e,l),$(e,n)},p(a,l){l&2&&t!==(t=a[14].name+"")&&Z(n,t),l&2&&s!==(s=a[14].id)&&O(e,"id",s),l&2&&r!==(r=a[14].selected)&&(e.selected=r),l&2&&o!==(o=a[14].name)&&(e.__value=o,es(e,e.__value))},d(a){a&&M(e)}}}function qg(i){let e,t=Bt(i[1]),n=[];for(let s=0;s<t.length;s+=1)n[s]=io(so(i,t,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=bt()},m(s,r){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(s,r);R(s,e,r)},p(s,r){if(r&2){t=Bt(s[1]);let o;for(o=0;o<t.length;o+=1){const a=so(s,t,o);n[o]?n[o].p(a,r):(n[o]=io(a),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&M(e),Hs(n,s)}}}function ro(i){let e,t=i[11].name+"",n,s,r,o;return{c(){e=L("option"),n=K(t),O(e,"id",s=i[11].id),e.selected=r=i[11].selected,e.__value=o=i[11].name,es(e,e.__value)},m(a,l){R(a,e,l),$(e,n)},p(a,l){l&4&&t!==(t=a[11].name+"")&&Z(n,t),l&4&&s!==(s=a[11].id)&&O(e,"id",s),l&4&&r!==(r=a[11].selected)&&(e.selected=r),l&4&&o!==(o=a[11].name)&&(e.__value=o,es(e,e.__value))},d(a){a&&M(e)}}}function Wg(i){let e,t=Bt(i[2]),n=[];for(let s=0;s<t.length;s+=1)n[s]=ro(no(i,t,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=bt()},m(s,r){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(s,r);R(s,e,r)},p(s,r){if(r&4){t=Bt(s[2]);let o;for(o=0;o<t.length;o+=1){const a=no(s,t,o);n[o]?n[o].p(a,r):(n[o]=ro(a),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&M(e),Hs(n,s)}}}function Gg(i){let e,t,n,s,r,o,a;return e=new zn({props:{title:"Preset"}}),s=new qi({props:{prefix:"📂",$$slots:{default:[qg]},$$scope:{ctx:i}}}),s.$on("change",i[6]),o=new qi({props:{prefix:"⚙️",$$slots:{default:[Wg]},$$scope:{ctx:i}}}),o.$on("change",i[7]),{c(){V(e.$$.fragment),t=N(),n=L("div"),V(s.$$.fragment),r=N(),V(o.$$.fragment)},m(l,u){F(e,l,u),R(l,t,u),R(l,n,u),F(s,n,null),$(n,r),F(o,n,null),a=!0},p(l,u){const f={};u&131074&&(f.$$scope={dirty:u,ctx:l}),s.$set(f);const d={};u&131076&&(d.$$scope={dirty:u,ctx:l}),o.$set(d)},i(l){a||(T(e.$$.fragment,l),T(s.$$.fragment,l),T(o.$$.fragment,l),a=!0)},o(l){I(e.$$.fragment,l),I(s.$$.fragment,l),I(o.$$.fragment,l),a=!1},d(l){l&&(M(t),M(n)),B(e,l),B(s),B(o)}}}function Kg(i){let e,t,n,s,r={};return e=new cn({props:r}),i[5](e),n=new yn({props:{animate:!0,show:i[3],$$slots:{default:[Gg]},$$scope:{ctx:i}}}),{c(){V(e.$$.fragment),t=N(),V(n.$$.fragment)},m(o,a){F(e,o,a),R(o,t,a),F(n,o,a),s=!0},p(o,[a]){const l={};e.$set(l);const u={};a&8&&(u.show=o[3]),a&131078&&(u.$$scope={dirty:a,ctx:o}),n.$set(u)},i(o){s||(T(e.$$.fragment,o),T(n.$$.fragment,o),s=!0)},o(o){I(e.$$.fragment,o),I(n.$$.fragment,o),s=!1},d(o){o&&M(t),i[5](null),B(e,o),B(n,o)}}}function Yg(i,e,t){let n;Y(i,Yn,c=>t(3,n=c));let s,r=[],o=[];const a=(c,p)=>{const m=c.map((g,_)=>({id:_.toString(),name:g.name,selected:g.selected})),h=m.find(g=>g.selected);h&&h.name,p==="workflow"?t(1,r=m):t(2,o=m)},l=(c,p)=>{const{id:m,item:h}=c.detail;console.log(`Selected item: ${m}, name: ${h}`),Ip(p,m),s.smtchanged()};yt(()=>{var c;kn("Send_workflow",p=>a(p,"workflow")),kn("Send_rndrMode",p=>a(p,"rndrMode")),(c=document.querySelector("uxp-panel"))==null||c.addEventListener("mouseleave",()=>{Yn.set(!1)})});function u(c){Q[c?"unshift":"push"](()=>{s=c,t(0,s)})}return[s,r,o,n,l,u,c=>l(c,"workflow"),c=>l(c,"rndrMode")]}class Jg extends $e{constructor(e){super(),we(this,e,Yg,Kg,be,{})}}const Qg="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAYAAAABhCAMAAADodoYeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAZQTFRFmZmZAAAAg1AVCwAAAAJ0Uk5T/wDltzBKAAADe0lEQVR42uzby0KtMAxG4eT9X9qBExVo/lwoqCvDI5sD+WibtmBOPBpGCgAAgAAAAAIAAAgAACAAAIAAAAACAAAIAAAgAACAAAAAAgAACAAAIAAAgHgTgH0GqXwCwL4H6dwKYGdBRrcB2EV0T/W/AeQc2HW0IcX/T72iwwGJUSx7Td8PtGWcAOhJVE7daEeV/k4HMBlgfU/h3WcB9ByaDQnIZ4gPew2AjQBYI/26gH4Gqz9uYTanAawIoObw7Ew1gYSh1R+3sIFr/V7m8kcATMpap5bJtKL/CCAM/bkmuzhTOA5Zvb2HV94FuLx75fmyTKUXD9QJAeFZXyXpKr+F2cbVL6NkWHxRAvL6IUvPmGQA4caWAH7R3tUeTwdwHaAw1zgBCB8VcYgQAbS/La6mBmBhcg75EAB8BMCVQq+UWfUoLUl/F8Bzg1hFYH3M5eA8CGAigCAkZDoJcJJsvcgcAPAbAVwEOHkeNwIcipFMkZ9oJfI2zyCAa/XT0wBezr/SBOSRZH4QVuunk+a/bwz4+ZvcJPftANIvT/vfTWXo139ILpOqfZDcSaXnAaYUO6e97QDAzETs51/ri2w3AshLEUWAC93cUkQfoLhfeB9Afi1o2anbCEBiCacA0Fnm3wHgLQATAby2QtsH6O1zbQDwGoAHAJe8uU2i/hhQ2+ndB+BVgJMyfwrA5wAO5328Csq/gtACcGk1MLFGmS9Dj53lJEB6HhBvWqZJlyVuus35HMDlctCTE7FKoRe1qTaAcsuttaDDdGzfWpCV+yx5eck89z5PsHo5BbBeDn3HamgTwLMF1Qoguuv+crReEW3bD/i7AMJ1NfM/siPWBfDSC20W9dl9gF+yJ/wyAOlFXglAfT+tlf/+WxEDAC4lVp2c3QGw3ldd77vKxWrtvaARAF+t6smlcaJRJwGCvFkn/7U348TTrZZL7wPwodVQEyuU9eqg5wTEd0OnAXzxQmfYNQZ1URtAvNOopqsK+MMAcXE2vSP2G74PGAfwUYDennBhrtvMf/4LmXkAN72cvzhUqa4lgEoN2ct/+huxfQDCBHEewGcGUE9Fc0epDeCjAJ4dw8qf5Q6lXx18bgTw+B2V9aaOsso1D8CX8jPRyhjpfxggNXAT9wAQAABAAAAAAQAABAAAEAAAQAAAAAEAAAQAABAAAEAAAAABwCvjQ4ABANRveG6NVOMcAAAAAElFTkSuQmCC";function oo(i){let e,t,n,s,r,o,a,l,u,f,d,c,p;const m=i[5].default,h=jt(m,i,i[4],null);return{c(){e=L("div"),t=L("div"),n=L("div"),s=L("div"),r=K(i[0]),o=N(),a=L("h2"),l=K(i[1]),u=N(),f=L("p"),d=K(i[2]),c=N(),h&&h.c(),O(s,"class","emoji svelte-1c61mfo"),O(a,"class","svelte-1c61mfo"),O(f,"class","svelte-1c61mfo"),O(n,"class","modal-head svelte-1c61mfo"),O(t,"class","modal-content svelte-1c61mfo"),O(e,"class","modal-overlay svelte-1c61mfo")},m(g,_){R(g,e,_),$(e,t),$(t,n),$(n,s),$(s,r),$(n,o),$(n,a),$(a,l),$(n,u),$(n,f),$(f,d),$(t,c),h&&h.m(t,null),p=!0},p(g,_){(!p||_&1)&&Z(r,g[0]),(!p||_&2)&&Z(l,g[1]),(!p||_&4)&&Z(d,g[2]),h&&h.p&&(!p||_&16)&&Wt(h,m,g,g[4],p?qt(m,g[4],_,null):Gt(g[4]),null)},i(g){p||(T(h,g),p=!0)},o(g){I(h,g),p=!1},d(g){g&&M(e),h&&h.d(g)}}}function Zg(i){let e,t,n=i[3]&&oo(i);return{c(){n&&n.c(),e=bt()},m(s,r){n&&n.m(s,r),R(s,e,r),t=!0},p(s,[r]){s[3]?n?(n.p(s,r),r&8&&T(n,1)):(n=oo(s),n.c(),T(n,1),n.m(e.parentNode,e)):n&&(At(),I(n,1,1,()=>{n=null}),Ot())},i(s){t||(T(n),t=!0)},o(s){I(n),t=!1},d(s){s&&M(e),n&&n.d(s)}}}function Xg(i,e,t){let{$$slots:n={},$$scope:s}=e,{emoji:r="🤝"}=e,{title:o="Let's Collaborate!"}=e,{description:a="If you'd like to work together, feel free to reach out via email."}=e,l=!0;const u=f=>{f.target.closest(".modal-content")||t(3,l=!1)};return yt(()=>{document.addEventListener("click",u)}),mo(()=>{document.removeEventListener("click",u)}),i.$$set=f=>{"emoji"in f&&t(0,r=f.emoji),"title"in f&&t(1,o=f.title),"description"in f&&t(2,a=f.description),"$$scope"in f&&t(4,s=f.$$scope)},[r,o,a,l,s,n]}class em extends $e{constructor(e){super(),we(this,e,Xg,Zg,be,{emoji:0,title:1,description:2})}}const tm=`<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M3.00049 16C3.00049 8.8203 8.82079 3 16.0005 3V3C23.1802 3 29.0005 8.8203 29.0005 16V16C29.0005 23.1797 23.1802 29 16.0005 29V29C8.82079 29 3.00049 23.1797 3.00049 16V16Z" fill="#46BE66"/>
<path d="M15.5604 12.043L13.3623 15.9995H18.6377L16.4395 19.956" stroke="black" stroke-width="1.97826" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
`;function ao(i){let e,t,n,s,r,o,a,l,u,f=i[2].t("newFeatures")+"",d,c,p,m;return n=new Fe({props:{data:tm,size:"32",style:"margin-right: 6px;"}}),p=new Le({props:{class:"s",style:"width:auto; border-radius: 18px; padding:0 16px",$$slots:{default:[nm]},$$scope:{ctx:i}}}),p.$on("mouseenter",i[4]),p.$on("click",i[3]),{c(){e=L("div"),t=L("div"),V(n.$$.fragment),s=N(),r=L("div"),o=L("div"),a=K(i[0]),l=N(),u=L("div"),d=K(f),c=N(),V(p.$$.fragment),O(o,"class","title svelte-1f7tvhf"),O(u,"class","description svelte-1f7tvhf"),O(r,"class","text-box svelte-1f7tvhf"),O(t,"class","content svelte-1f7tvhf"),O(e,"class","update-notification svelte-1f7tvhf")},m(h,g){R(h,e,g),$(e,t),F(n,t,null),$(t,s),$(t,r),$(r,o),$(o,a),$(r,l),$(r,u),$(u,d),$(e,c),F(p,e,null),m=!0},p(h,g){(!m||g&1)&&Z(a,h[0]),(!m||g&4)&&f!==(f=h[2].t("newFeatures")+"")&&Z(d,f);const _={};g&36&&(_.$$scope={dirty:g,ctx:h}),p.$set(_)},i(h){m||(T(n.$$.fragment,h),T(p.$$.fragment,h),m=!0)},o(h){I(n.$$.fragment,h),I(p.$$.fragment,h),m=!1},d(h){h&&M(e),B(n),B(p)}}}function nm(i){let e=i[2].t("install")+"",t;return{c(){t=K(e)},m(n,s){R(n,t,s)},p(n,s){s&4&&e!==(e=n[2].t("install")+"")&&Z(t,e)},d(n){n&&M(t)}}}function sm(i){let e,t,n=i[1]&&ao(i);return{c(){n&&n.c(),e=bt()},m(s,r){n&&n.m(s,r),R(s,e,r),t=!0},p(s,[r]){s[1]?n?(n.p(s,r),r&2&&T(n,1)):(n=ao(s),n.c(),T(n,1),n.m(e.parentNode,e)):n&&(At(),I(n,1,1,()=>{n=null}),Ot())},i(s){t||(T(n),t=!0)},o(s){I(n),t=!1},d(s){s&&M(e),n&&n.d(s)}}}function im(i,e,t){let n;Y(i,un,l=>t(2,n=l));let s="",r=!1;yt(()=>{(async()=>{try{const f=await fetch("https://raw.githubusercontent.com/NimaNzrii/comfyui-photoshop/main/data/PreviewFiles/version.json");if(!f.ok)throw new Error("Failed to fetch version information");const d=await f.json();t(0,s=d.version),console.log("🔹 Latest Version: ",s);const c=(m,h)=>{const g=m?.split(".").map(Number),_=h?.split(".").map(Number);for(let b=0;b<Math.max(g.length,_.length);b++){const y=g[b]||0,C=_[b]||0;if(y>C)return 1;if(y<C)return-1}return 0},p=ss.toString();c(s,p)>0?(console.log(`🔹 New version available: ${s}`),t(1,r=!0)):(console.log("Already updated"),t(1,r=!1))}catch(u){console.error("🔹 Error checking for new version:",u)}})()});async function o(){try{const l=require("uxp"),u=await Gi.getPluginFolder();let f=await u.nativePath;f=f.replace(/\\/g,"/"),f=decodeURIComponent(f);const d=`${f}/py/launch.bat`;console.log("🚀 Script Path:",d);const p=require("os").platform();console.log("🚀 Platform:",p);let m;p==="win32"?m=await u.getEntry("cp/Updater/Updater.bat"):m=await u.getEntry("cp/Updater/Updater.sh"),m.isFile?await Qa.openPath(m.nativePath):console.error("Updater script not found or is not a file.")}catch(l){console.error("Error running updater:",l)}}return[s,r,n,o,l=>St(l,n.t("installHint"))]}class rm extends $e{constructor(e){super(),we(this,e,im,sm,be,{})}}function lo(i){let e,t;return e=new em({props:{emoji:"🤝",title:i[3].t("modalTitle"),description:i[3].t("modalDescription"),$$slots:{default:[om]},$$scope:{ctx:i}}}),e.$on("clickOutside",i[5]),{c(){V(e.$$.fragment)},m(n,s){F(e,n,s),t=!0},p(n,s){const r={};s&8&&(r.title=n[3].t("modalTitle")),s&8&&(r.description=n[3].t("modalDescription")),s&4104&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(T(e.$$.fragment,n),t=!0)},o(n){I(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function om(i){let e,t=i[3].t("emailMe")+"",n,s,r;return{c(){e=L("p"),n=K(t),s=N(),r=L("strong"),r.textContent="NimaNzriArt@gmail.com",te(e,"color","#777777"),te(e,"margin","6px 0"),te(r,"margin-bottom","px"),te(r,"font-size","12px")},m(o,a){R(o,e,a),$(e,n),R(o,s,a),R(o,r,a)},p(o,a){a&8&&t!==(t=o[3].t("emailMe")+"")&&Z(n,t)},d(o){o&&(M(e),M(s),M(r))}}}function am(i){let e,t,n,s,r,o,a,l,u,f=i[3].t("sponsoredBy")+"",d,c,p,m,h,g,_,b,y,C,v,k=i[3].t("title")+"",P,S,A=i[3].t("version",{version:ss})+"",H,j,E,w,x,q,D,W,G,se=i[3].t("haveAnIdea")+"",X,ae,de,Ne=i[3].t("report")+"",z,J,fe,ut=i[3].t("collab")+"",Tt,wt,ft,De,Lt,Fn,Js={};e=new cn({props:Js}),i[6](e),s=new rm({}),q=new Le({props:{text:i[3].t("getStarted"),style:"height:52px"}}),q.$on("click",i[4]);let Ce=i[2]&&lo(i);return{c(){V(e.$$.fragment),t=N(),n=L("main"),V(s.$$.fragment),r=N(),o=L("div"),a=L("a"),l=L("div"),u=L("span"),d=K(f),c=N(),p=L("img"),h=N(),g=L("div"),_=L("hr"),b=N(),y=L("hr"),C=N(),v=L("span"),P=N(),S=L("a"),H=K(A),j=N(),E=L("hr"),w=N(),x=L("div"),V(q.$$.fragment),D=N(),W=L("span"),G=L("a"),X=K(se),ae=K(`\r
    -\r
    `),de=L("a"),z=K(Ne),J=K(`\r
    -\r
    `),fe=L("a"),Tt=K(ut),wt=N(),Ce&&Ce.c(),ft=bt(),O(u,"class","discrip svelte-1579btp"),O(p,"class","logo svelte-1579btp"),ho(p.src,m=Qg)||O(p,"src",m),O(p,"alt","openart"),O(l,"class","header svelte-1579btp"),O(a,"href","https://openart.ai"),O(a,"class","svelte-1579btp"),O(_,"class","svelte-1579btp"),O(y,"class","svelte-1579btp"),O(v,"class","h1 svelte-1579btp"),te(S,"text-align","center"),O(S,"class","discrip svelte-1579btp"),O(S,"href","https://buymeacoffee.com/nimanzri"),O(g,"class","contents svelte-1579btp"),O(E,"class","svelte-1579btp"),O(x,"class","svelte-1579btp"),O(o,"class","blackbg settinglist svelte-1579btp"),O(G,"class","discrip svelte-1579btp"),O(G,"href","https://discord.gg/mh5P4hY7"),O(de,"class","discrip svelte-1579btp"),O(de,"href","https://github.com/NimaNzrii/comfyui-photoshop/issues/new"),O(fe,"class","discrip svelte-1579btp"),O(W,"class","svelte-1579btp"),O(n,"class","svelte-1579btp")},m(U,ee){F(e,U,ee),R(U,t,ee),R(U,n,ee),F(s,n,null),$(n,r),$(n,o),$(o,a),$(a,l),$(l,u),$(u,d),$(l,c),$(l,p),$(o,h),$(o,g),$(g,_),$(g,b),$(g,y),$(g,C),$(g,v),v.innerHTML=k,$(g,P),$(g,S),$(S,H),$(o,j),$(o,E),$(o,w),$(o,x),F(q,x,null),$(n,D),$(n,W),$(W,G),$(G,X),$(W,ae),$(W,de),$(de,z),$(W,J),$(W,fe),$(fe,Tt),i[11](n),R(U,wt,ee),Ce&&Ce.m(U,ee),R(U,ft,ee),De=!0,Lt||(Fn=[ie(S,"mouseenter",i[7]),ie(G,"mouseenter",i[8]),ie(de,"mouseenter",i[9]),ie(fe,"mouseenter",i[10]),ie(fe,"click",i[5])],Lt=!0)},p(U,[ee]){const Bn={};e.$set(Bn),(!De||ee&8)&&f!==(f=U[3].t("sponsoredBy")+"")&&Z(d,f),(!De||ee&8)&&k!==(k=U[3].t("title")+"")&&(v.innerHTML=k),(!De||ee&8)&&A!==(A=U[3].t("version",{version:ss})+"")&&Z(H,A);const Vn={};ee&8&&(Vn.text=U[3].t("getStarted")),q.$set(Vn),(!De||ee&8)&&se!==(se=U[3].t("haveAnIdea")+"")&&Z(X,se),(!De||ee&8)&&Ne!==(Ne=U[3].t("report")+"")&&Z(z,Ne),(!De||ee&8)&&ut!==(ut=U[3].t("collab")+"")&&Z(Tt,ut),U[2]?Ce?(Ce.p(U,ee),ee&4&&T(Ce,1)):(Ce=lo(U),Ce.c(),T(Ce,1),Ce.m(ft.parentNode,ft)):Ce&&(At(),I(Ce,1,1,()=>{Ce=null}),Ot())},i(U){De||(T(e.$$.fragment,U),T(s.$$.fragment,U),T(q.$$.fragment,U),T(Ce),De=!0)},o(U){I(e.$$.fragment,U),I(s.$$.fragment,U),I(q.$$.fragment,U),I(Ce),De=!1},d(U){U&&(M(t),M(n),M(wt),M(ft)),i[6](null),B(e,U),B(s),B(q),i[11](null),Ce&&Ce.d(U),Lt=!1,lt(Fn)}}}function lm(i,e,t){let n;Y(i,un,h=>t(3,n=h));let s,r,o=!1;const a=()=>{r==null||r.classList.add("hidden"),s.startCommand()},l=()=>{t(2,o=!o)};function u(h){Q[h?"unshift":"push"](()=>{s=h,t(0,s)})}const f=h=>St(h,n.t("buyACoffee")),d=h=>St(h,n.t("requestFeatures")),c=h=>St(h,n.t("reportBugs")),p=h=>St(h,n.t("collaborate"));function m(h){Q[h?"unshift":"push"](()=>{r=h,t(1,r)})}return[s,r,o,n,a,l,u,f,d,c,p,m]}class um extends $e{constructor(e){super(),we(this,e,lm,am,be,{})}}function fm(i){let e,t;return{c(){e=L("main"),t=L("div"),O(t,"class","svelte-upyhcb"),te(e,"display",i[0]===0||i[0]===100?"none":"block"),O(e,"class","svelte-upyhcb")},m(n,s){R(n,e,s),$(e,t),i[2](t)},p(n,[s]){s&1&&te(e,"display",n[0]===0||n[0]===100?"none":"block")},i:le,o:le,d(n){n&&M(e),i[2](null)}}}function cm(i,e,t){let{width:n=0}=e,s;kn("progress",o=>{const a=parseFloat(o);isNaN(a)||(t(0,n=a),s&&ot.to(s,{duration:.05,width:`${n}%`}))}),kn("generating",o=>{t(0,n=0)}),kn("render",o=>{t(0,n=0)});function r(o){Q[o?"unshift":"push"](()=>{s=o,t(1,s)})}return i.$$set=o=>{"width"in o&&t(0,n=o.width)},[n,s,r]}class dm extends $e{constructor(e){super(),we(this,e,cm,fm,be,{width:0})}}function hm(i){let e,t;return{c(){e=L("div"),t=K(i[2]),te(e,"display",i[1]?"block":"none"),te(e,"will-change","transform"),O(e,"class","movable-text svelte-909rht")},m(n,s){R(n,e,s),$(e,t),i[7](e)},p(n,[s]){s&4&&Z(t,n[2]),s&2&&te(e,"display",n[1]?"block":"none")},i:le,o:le,d(n){n&&M(e),i[7](null)}}}function pm(i,e){let t=!1;return function(...n){t||(i.apply(this,n),t=!0,setTimeout(()=>t=!1,e))}}function gm(i,e,t){let n,s;Y(i,Ds,c=>t(6,n=c)),Y(i,So,c=>t(2,s=c));let r,o,a=null,l=null,u=!1;const f=()=>{Ds.set(null),t(1,u=!1)};mo(()=>{a&&(a.removeEventListener("mousemove",o),a.removeEventListener("mouseleave",f)),l&&clearTimeout(l)});function d(c){Q[c?"unshift":"push"](()=>{r=c,t(0,r)})}return i.$$.update=()=>{i.$$.dirty&121&&a!==n&&(o&&a&&(a.removeEventListener("mousemove",o),a.removeEventListener("mouseleave",f)),t(4,a=n),l&&clearTimeout(l),t(1,u=!1),a&&(t(5,l=setTimeout(()=>{t(1,u=!0)},500)),t(3,o=pm(c=>{const p=document.querySelector("uxp-panel");if(p&&a){let m=c.clientX,h=c.clientY;const{width:g,height:_}=p.getBoundingClientRect(),b=r.getBoundingClientRect();m+b.width>g&&(m=g-b.width-10),h+b.height>_&&(h=_-b.height-10),ot.to(r,{x:m,y:h,duration:.5,ease:"power2.out"})}},50)),a.addEventListener("mousemove",o),a.addEventListener("mouseleave",f)))},[r,u,s,o,a,l,n,d]}class mm extends $e{constructor(e){super(),we(this,e,gm,hm,be,{})}}function _m(i){let e,t,n,s,r,o,a,l,u,f,d,c,p,m,h,g,_,b,y,C;return t=new um({}),r=new dm({}),a=new Jg({}),u=new Bg({}),d=new vg({}),p=new Qp({}),h=new tg({}),_=new lg({}),y=new mm({}),{c(){e=L("uxp-panel"),V(t.$$.fragment),n=N(),s=L("main"),V(r.$$.fragment),o=N(),V(a.$$.fragment),l=N(),V(u.$$.fragment),f=N(),V(d.$$.fragment),c=N(),V(p.$$.fragment),m=N(),V(h.$$.fragment),g=N(),V(_.$$.fragment),b=N(),V(y.$$.fragment),te(s,"background-size",i[0]),te(s,"background-image","url("+i[1]+")"),O(s,"class","svelte-d8z4vn"),oe(e,"panelid","comfyui.photoshop.plugin.panel"),oe(e,"class","svelte-d8z4vn")},m(v,k){R(v,e,k),F(t,e,null),$(e,n),$(e,s),F(r,s,null),$(s,o),F(a,s,null),$(s,l),F(u,s,null),$(s,f),F(d,s,null),$(s,c),F(p,s,null),$(s,m),F(h,s,null),$(s,g),F(_,s,null),$(e,b),F(y,e,null),C=!0},p(v,[k]){(!C||k&1)&&te(s,"background-size",v[0]),(!C||k&2)&&te(s,"background-image","url("+v[1]+")")},i(v){C||(T(t.$$.fragment,v),T(r.$$.fragment,v),T(a.$$.fragment,v),T(u.$$.fragment,v),T(d.$$.fragment,v),T(p.$$.fragment,v),T(h.$$.fragment,v),T(_.$$.fragment,v),T(y.$$.fragment,v),C=!0)},o(v){I(t.$$.fragment,v),I(r.$$.fragment,v),I(a.$$.fragment,v),I(u.$$.fragment,v),I(d.$$.fragment,v),I(p.$$.fragment,v),I(h.$$.fragment,v),I(_.$$.fragment,v),I(y.$$.fragment,v),C=!1},d(v){v&&M(e),B(t),B(r),B(a),B(u),B(d),B(p),B(h),B(_),B(y)}}}function vm(i,e,t){let n,s;return Y(i,Co,r=>t(0,n=r)),Y(i,Si,r=>t(1,s=r)),kn("render",r=>{Vp(r,"render.png")}),[n,s]}class bm extends $e{constructor(e){super(),we(this,e,vm,_m,be,{})}}function uo(i,e,t){const n=i.slice();return n[38]=e[t],n}function ym(i){let e=i[3].t("randomize")+"",t;return{c(){t=K(e)},m(n,s){R(n,t,s)},p(n,s){s[0]&8&&e!==(e=n[3].t("randomize")+"")&&Z(t,e)},d(n){n&&M(t)}}}function wm(i){let e,t,n,s,r=i[3].t("positivePrompt")+"",o,a,l,u,f,d,c=i[3].t("negativePrompt")+"",p,m,h,g,_,b,y,C,v=i[3].t("sliderValue")+"",k,P,S,A,H,j,E,w,x,q,D;e=new zn({props:{title:i[3].t("preset")}});function W(J){i[21](J)}let G={type:"textarea",id:"s_PsPrompt"};i[4]!==void 0&&(G.value=i[4]),l=new Oe({props:G}),Q.push(()=>_e(l,"value",W));function se(J){i[22](J)}let X={type:"textarea",id:"s_NgPrompt"};i[5]!==void 0&&(X.value=i[5]),h=new Oe({props:X}),Q.push(()=>_e(h,"value",se));function ae(J){i[23](J)}let de={type:"textfield",numeric:!0,id:"sliderValInput"};i[6]!==void 0&&(de.value=i[6]),S=new Oe({props:de}),Q.push(()=>_e(S,"value",ae)),E=new Le({props:{$$slots:{default:[ym]},$$scope:{ctx:i}}}),E.$on("click",function(){tt(i[0].randomize)&&i[0].randomize.apply(this,arguments)});function Ne(J){i[24](J)}let z={type:"textfield",numeric:!0};return i[7]!==void 0&&(z.value=i[7]),x=new Oe({props:z}),Q.push(()=>_e(x,"value",Ne)),{c(){V(e.$$.fragment),t=N(),n=L("div"),s=L("div"),o=K(r),a=N(),V(l.$$.fragment),f=N(),d=L("div"),p=K(c),m=N(),V(h.$$.fragment),_=N(),b=L("div"),y=L("div"),C=L("span"),k=K(v),P=N(),V(S.$$.fragment),H=N(),j=L("div"),V(E.$$.fragment),w=N(),V(x.$$.fragment),O(s,"class","discrip"),O(d,"class","discrip"),O(C,"class","discrip"),te(C,"width","300px"),O(y,"class","row"),O(j,"class","row-item")},m(J,fe){F(e,J,fe),R(J,t,fe),R(J,n,fe),$(n,s),$(s,o),$(n,a),F(l,n,null),$(n,f),$(n,d),$(d,p),$(n,m),F(h,n,null),R(J,_,fe),R(J,b,fe),$(b,y),$(y,C),$(C,k),$(y,P),F(S,y,null),$(b,H),$(b,j),F(E,j,null),$(j,w),F(x,j,null),D=!0},p(J,fe){i=J;const ut={};fe[0]&8&&(ut.title=i[3].t("preset")),e.$set(ut),(!D||fe[0]&8)&&r!==(r=i[3].t("positivePrompt")+"")&&Z(o,r);const Tt={};!u&&fe[0]&16&&(u=!0,Tt.value=i[4],me(()=>u=!1)),l.$set(Tt),(!D||fe[0]&8)&&c!==(c=i[3].t("negativePrompt")+"")&&Z(p,c);const wt={};!g&&fe[0]&32&&(g=!0,wt.value=i[5],me(()=>g=!1)),h.$set(wt),(!D||fe[0]&8)&&v!==(v=i[3].t("sliderValue")+"")&&Z(k,v);const ft={};!A&&fe[0]&64&&(A=!0,ft.value=i[6],me(()=>A=!1)),S.$set(ft);const De={};fe[0]&8|fe[1]&1024&&(De.$$scope={dirty:fe,ctx:i}),E.$set(De);const Lt={};!q&&fe[0]&128&&(q=!0,Lt.value=i[7],me(()=>q=!1)),x.$set(Lt)},i(J){D||(T(e.$$.fragment,J),T(l.$$.fragment,J),T(h.$$.fragment,J),T(S.$$.fragment,J),T(E.$$.fragment,J),T(x.$$.fragment,J),D=!0)},o(J){I(e.$$.fragment,J),I(l.$$.fragment,J),I(h.$$.fragment,J),I(S.$$.fragment,J),I(E.$$.fragment,J),I(x.$$.fragment,J),D=!1},d(J){J&&(M(t),M(n),M(_),M(b)),B(e,J),B(l),B(h),B(S),B(E),B(x)}}}function $m(i){let e=i[3].t("reset")+"",t;return{c(){t=K(e)},m(n,s){R(n,t,s)},p(n,s){s[0]&8&&e!==(e=n[3].t("reset")+"")&&Z(t,e)},d(n){n&&M(t)}}}function Cm(i){let e=i[3].t("apply")+"",t;return{c(){t=K(e)},m(n,s){R(n,t,s)},p(n,s){s[0]&8&&e!==(e=n[3].t("apply")+"")&&Z(t,e)},d(n){n&&M(t)}}}function Sm(i){let e,t,n,s,r,o=i[3].t("ipAddress")+"",a,l,u,f,d,c,p,m,h,g;e=new zn({props:{title:i[3].t("comfyUIIP"),statusColor:i[8].color,status:i[8].status}});function _(y){i[25](y)}let b={type:"textfield",id:"s_ip",placeholder:""};return i[9]!==void 0&&(b.value=i[9]),u=new Oe({props:b}),Q.push(()=>_e(u,"value",_)),p=new Le({props:{$$slots:{default:[$m]},$$scope:{ctx:i}}}),p.$on("click",function(){tt(i[0].resetIP)&&i[0].resetIP.apply(this,arguments)}),h=new Le({props:{$$slots:{default:[Cm]},$$scope:{ctx:i}}}),h.$on("click",function(){tt(i[0].applyIP)&&i[0].applyIP.apply(this,arguments)}),{c(){V(e.$$.fragment),t=N(),n=L("div"),s=L("div"),r=L("span"),a=K(o),l=N(),V(u.$$.fragment),d=N(),c=L("span"),V(p.$$.fragment),m=N(),V(h.$$.fragment),O(r,"class","discrip"),te(r,"width","120px"),O(s,"class","row"),O(c,"class","row-item")},m(y,C){F(e,y,C),R(y,t,C),R(y,n,C),$(n,s),$(s,r),$(r,a),$(s,l),F(u,s,null),R(y,d,C),R(y,c,C),F(p,c,null),$(c,m),F(h,c,null),g=!0},p(y,C){i=y;const v={};C[0]&8&&(v.title=i[3].t("comfyUIIP")),C[0]&256&&(v.statusColor=i[8].color),C[0]&256&&(v.status=i[8].status),e.$set(v),(!g||C[0]&8)&&o!==(o=i[3].t("ipAddress")+"")&&Z(a,o);const k={};!f&&C[0]&512&&(f=!0,k.value=i[9],me(()=>f=!1)),u.$set(k);const P={};C[0]&8|C[1]&1024&&(P.$$scope={dirty:C,ctx:i}),p.$set(P);const S={};C[0]&8|C[1]&1024&&(S.$$scope={dirty:C,ctx:i}),h.$set(S)},i(y){g||(T(e.$$.fragment,y),T(u.$$.fragment,y),T(p.$$.fragment,y),T(h.$$.fragment,y),g=!0)},o(y){I(e.$$.fragment,y),I(u.$$.fragment,y),I(p.$$.fragment,y),I(h.$$.fragment,y),g=!1},d(y){y&&(M(t),M(n),M(d),M(c)),B(e,y),B(u),B(p),B(h)}}}function km(i){let e=i[3].t("fixMaskEdge")+"",t;return{c(){t=K(e)},m(n,s){R(n,t,s)},p(n,s){s[0]&8&&e!==(e=n[3].t("fixMaskEdge")+"")&&Z(t,e)},d(n){n&&M(t)}}}function Pm(i){let e=i[3].t("forceResize")+"",t;return{c(){t=K(e)},m(n,s){R(n,t,s)},p(n,s){s[0]&8&&e!==(e=n[3].t("forceResize")+"")&&Z(t,e)},d(n){n&&M(t)}}}function Am(i){let e,t,n,s,r,o=i[3].t("downScaleIfBigger")+"",a,l,u,f,d,c,p,m=i[3].t("upScaleIfSmaller")+"",h,g,_,b,y,C,v,k,P,S,A,H,j,E,w,x=i[3].t("cropPadding")+"",q,D,W,G,se,X,ae,de,Ne=i[3].t("paddingInfo")+"",z,J;e=new zn({props:{title:i[3].t("imageProcessing"),status:i[3].t("resetStatus")}});function fe(U){i[26](U)}let ut={type:"textfield",numeric:!0};i[10]!==void 0&&(ut.value=i[10]),u=new Oe({props:ut}),Q.push(()=>_e(u,"value",fe));function Tt(U){i[27](U)}let wt={type:"textfield",numeric:!0};i[11]!==void 0&&(wt.value=i[11]),_=new Oe({props:wt}),Q.push(()=>_e(_,"value",Tt));function ft(U){i[28](U)}let De={type:"checkbox",id:"fixMaskEdge",size:"s",$$slots:{default:[km]},$$scope:{ctx:i}};i[12]!==void 0&&(De.value=i[12]),v=new Oe({props:De}),Q.push(()=>_e(v,"value",ft));function Lt(U){i[29](U)}let Fn={type:"checkbox",size:"s",$$slots:{default:[Pm]},$$scope:{ctx:i}};i[13]!==void 0&&(Fn.value=i[13]),S=new Oe({props:Fn}),Q.push(()=>_e(S,"value",Lt));function Js(U){i[30](U)}let Ce={type:"textfield",numeric:!0};return i[14]!==void 0&&(Ce.value=i[14]),W=new Oe({props:Ce}),Q.push(()=>_e(W,"value",Js)),ae=new Fe({props:{data:Ma}}),{c(){V(e.$$.fragment),t=N(),n=L("div"),s=L("div"),r=L("span"),a=K(o),l=N(),V(u.$$.fragment),d=N(),c=L("div"),p=L("span"),h=K(m),g=N(),V(_.$$.fragment),y=N(),C=L("div"),V(v.$$.fragment),P=N(),V(S.$$.fragment),H=N(),j=L("div"),E=L("div"),w=L("span"),q=K(x),D=N(),V(W.$$.fragment),se=N(),X=L("span"),V(ae.$$.fragment),de=N(),z=K(Ne),O(r,"class","discrip"),te(r,"width","300px"),O(s,"class","row"),O(p,"class","discrip"),te(p,"width","300px"),O(c,"class","row"),O(w,"class","discrip"),te(w,"width","300px"),O(E,"class","row"),O(X,"class","discrip row"),te(X,"max-width","300px"),te(X,"color","#646464"),te(X,"white-space","nowrap")},m(U,ee){F(e,U,ee),R(U,t,ee),R(U,n,ee),$(n,s),$(s,r),$(r,a),$(s,l),F(u,s,null),$(n,d),$(n,c),$(c,p),$(p,h),$(c,g),F(_,c,null),R(U,y,ee),R(U,C,ee),F(v,C,null),$(C,P),F(S,C,null),R(U,H,ee),R(U,j,ee),$(j,E),$(E,w),$(w,q),$(E,D),F(W,E,null),$(j,se),$(j,X),F(ae,X,null),$(X,de),$(X,z),J=!0},p(U,ee){const Bn={};ee[0]&8&&(Bn.title=U[3].t("imageProcessing")),ee[0]&8&&(Bn.status=U[3].t("resetStatus")),e.$set(Bn),(!J||ee[0]&8)&&o!==(o=U[3].t("downScaleIfBigger")+"")&&Z(a,o);const Vn={};!f&&ee[0]&1024&&(f=!0,Vn.value=U[10],me(()=>f=!1)),u.$set(Vn),(!J||ee[0]&8)&&m!==(m=U[3].t("upScaleIfSmaller")+"")&&Z(h,m);const pr={};!b&&ee[0]&2048&&(b=!0,pr.value=U[11],me(()=>b=!1)),_.$set(pr);const Qs={};ee[0]&8|ee[1]&1024&&(Qs.$$scope={dirty:ee,ctx:U}),!k&&ee[0]&4096&&(k=!0,Qs.value=U[12],me(()=>k=!1)),v.$set(Qs);const Zs={};ee[0]&8|ee[1]&1024&&(Zs.$$scope={dirty:ee,ctx:U}),!A&&ee[0]&8192&&(A=!0,Zs.value=U[13],me(()=>A=!1)),S.$set(Zs),(!J||ee[0]&8)&&x!==(x=U[3].t("cropPadding")+"")&&Z(q,x);const gr={};!G&&ee[0]&16384&&(G=!0,gr.value=U[14],me(()=>G=!1)),W.$set(gr),(!J||ee[0]&8)&&Ne!==(Ne=U[3].t("paddingInfo")+"")&&Z(z,Ne)},i(U){J||(T(e.$$.fragment,U),T(u.$$.fragment,U),T(_.$$.fragment,U),T(v.$$.fragment,U),T(S.$$.fragment,U),T(W.$$.fragment,U),T(ae.$$.fragment,U),J=!0)},o(U){I(e.$$.fragment,U),I(u.$$.fragment,U),I(_.$$.fragment,U),I(v.$$.fragment,U),I(S.$$.fragment,U),I(W.$$.fragment,U),I(ae.$$.fragment,U),J=!1},d(U){U&&(M(t),M(n),M(y),M(C),M(H),M(j)),B(e,U),B(u),B(_),B(v),B(S),B(W),B(ae)}}}function fo(i){let e,t=i[38].name+"",n,s,r=i[38].short+"",o,a;return{c(){e=L("option"),n=K(t),s=K(" ("),o=K(r),a=K(`)\r
            `),O(e,"id",i[38].id),e.__value=i[38].id,es(e,e.__value)},m(l,u){R(l,e,u),$(e,n),$(e,s),$(e,o),$(e,a)},p:le,d(l){l&&M(e)}}}function Om(i){let e,t=Bt(i[19]),n=[];for(let s=0;s<t.length;s+=1)n[s]=fo(uo(i,t,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=bt()},m(s,r){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(s,r);R(s,e,r)},p(s,r){if(r[0]&524288){t=Bt(s[19]);let o;for(o=0;o<t.length;o+=1){const a=uo(s,t,o);n[o]?n[o].p(a,r):(n[o]=fo(a),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&M(e),Hs(n,s)}}}function Tm(i){let e=i[3].t("showNegativeInput")+"",t;return{c(){t=K(e)},m(n,s){R(n,t,s)},p(n,s){s[0]&8&&e!==(e=n[3].t("showNegativeInput")+"")&&Z(t,e)},d(n){n&&M(t)}}}function Lm(i){let e=i[3].t("keepBottomControllerVisible")+"",t;return{c(){t=K(e)},m(n,s){R(n,t,s)},p(n,s){s[0]&8&&e!==(e=n[3].t("keepBottomControllerVisible")+"")&&Z(t,e)},d(n){n&&M(t)}}}function Im(i){let e=i[3].t("keepEverythingVisible")+"",t;return{c(){t=K(e)},m(n,s){R(n,t,s)},p(n,s){s[0]&8&&e!==(e=n[3].t("keepEverythingVisible")+"")&&Z(t,e)},d(n){n&&M(t)}}}function Em(i){let e=i[3].t("disableAllAnimations")+"",t;return{c(){t=K(e)},m(n,s){R(n,t,s)},p(n,s){s[0]&8&&e!==(e=n[3].t("disableAllAnimations")+"")&&Z(t,e)},d(n){n&&M(t)}}}function Dm(i){let e=i[3].t("reloadPlugin")+"",t;return{c(){t=K(e)},m(n,s){R(n,t,s)},p(n,s){s[0]&8&&e!==(e=n[3].t("reloadPlugin")+"")&&Z(t,e)},d(n){n&&M(t)}}}function Mm(i){let e,t,n,s,r,o,a,l,u,f,d,c,p,m,h,g,_,b,y;e=new zn({props:{title:i[3].t("general"),status:ss}}),s=new qi({props:{selectedItem:"🌐 Change the Language",prefix:"🌐",$$slots:{default:[Om]},$$scope:{ctx:i}}}),s.$on("change",i[31]);function C(E){i[32](E)}let v={type:"checkbox",size:"s",$$slots:{default:[Tm]},$$scope:{ctx:i}};i[16]!==void 0&&(v.value=i[16]),o=new Oe({props:v}),Q.push(()=>_e(o,"value",C));function k(E){i[33](E)}let P={type:"checkbox",size:"s",$$slots:{default:[Lm]},$$scope:{ctx:i}};i[2]!==void 0&&(P.value=i[2]),u=new Oe({props:P}),Q.push(()=>_e(u,"value",k));function S(E){i[34](E)}let A={type:"checkbox",size:"s",$$slots:{default:[Im]},$$scope:{ctx:i}};i[1]!==void 0&&(A.value=i[1]),c=new Oe({props:A}),Q.push(()=>_e(c,"value",S)),c.$on("change",i[18]);function H(E){i[35](E)}let j={type:"checkbox",size:"s",$$slots:{default:[Em]},$$scope:{ctx:i}};return i[17]!==void 0&&(j.value=i[17]),h=new Oe({props:j}),Q.push(()=>_e(h,"value",H)),b=new Le({props:{$$slots:{default:[Dm]},$$scope:{ctx:i}}}),b.$on("click",i[36]),{c(){V(e.$$.fragment),t=N(),n=L("div"),V(s.$$.fragment),r=N(),V(o.$$.fragment),l=N(),V(u.$$.fragment),d=N(),V(c.$$.fragment),m=N(),V(h.$$.fragment),_=N(),V(b.$$.fragment)},m(E,w){F(e,E,w),R(E,t,w),R(E,n,w),F(s,n,null),$(n,r),F(o,n,null),$(n,l),F(u,n,null),$(n,d),F(c,n,null),$(n,m),F(h,n,null),R(E,_,w),F(b,E,w),y=!0},p(E,w){const x={};w[0]&8&&(x.title=E[3].t("general")),e.$set(x);const q={};w[1]&1024&&(q.$$scope={dirty:w,ctx:E}),s.$set(q);const D={};w[0]&8|w[1]&1024&&(D.$$scope={dirty:w,ctx:E}),!a&&w[0]&65536&&(a=!0,D.value=E[16],me(()=>a=!1)),o.$set(D);const W={};w[0]&8|w[1]&1024&&(W.$$scope={dirty:w,ctx:E}),!f&&w[0]&4&&(f=!0,W.value=E[2],me(()=>f=!1)),u.$set(W);const G={};w[0]&8|w[1]&1024&&(G.$$scope={dirty:w,ctx:E}),!p&&w[0]&2&&(p=!0,G.value=E[1],me(()=>p=!1)),c.$set(G);const se={};w[0]&8|w[1]&1024&&(se.$$scope={dirty:w,ctx:E}),!g&&w[0]&131072&&(g=!0,se.value=E[17],me(()=>g=!1)),h.$set(se);const X={};w[0]&8|w[1]&1024&&(X.$$scope={dirty:w,ctx:E}),b.$set(X)},i(E){y||(T(e.$$.fragment,E),T(s.$$.fragment,E),T(o.$$.fragment,E),T(u.$$.fragment,E),T(c.$$.fragment,E),T(h.$$.fragment,E),T(b.$$.fragment,E),y=!0)},o(E){I(e.$$.fragment,E),I(s.$$.fragment,E),I(o.$$.fragment,E),I(u.$$.fragment,E),I(c.$$.fragment,E),I(h.$$.fragment,E),I(b.$$.fragment,E),y=!1},d(E){E&&(M(t),M(n),M(_)),B(e,E),B(s),B(o),B(u),B(c),B(h),B(b,E)}}}function Rm(i){let e,t,n,s,r,o,a,l,u,f,d,c,p,m={};return e=new cn({props:m}),i[20](e),r=new yn({props:{class:"style-containerBG settinglist",$$slots:{default:[wm]},$$scope:{ctx:i}}}),a=new yn({props:{$$slots:{default:[Sm]},$$scope:{ctx:i}}}),f=new yn({props:{class:"style-containerBG settinglist",$$slots:{default:[Am]},$$scope:{ctx:i}}}),c=new yn({props:{$$slots:{default:[Mm]},$$scope:{ctx:i}}}),{c(){V(e.$$.fragment),t=N(),n=L("uxp-panel"),s=L("div"),V(r.$$.fragment),o=N(),V(a.$$.fragment),l=N(),u=L("div"),V(f.$$.fragment),d=N(),V(c.$$.fragment),O(s,"class","settingpanelseg svelte-t1r8lk"),O(u,"class","settingpanelseg svelte-t1r8lk"),oe(n,"id","settinpanel"),oe(n,"panelid","comfyui.photoshop.plugin.settings"),oe(n,"class","svelte-t1r8lk")},m(h,g){F(e,h,g),R(h,t,g),R(h,n,g),$(n,s),F(r,s,null),$(s,o),F(a,s,null),$(n,l),$(n,u),F(f,u,null),$(u,d),F(c,u,null),p=!0},p(h,g){const _={};e.$set(_);const b={};g[0]&249|g[1]&1024&&(b.$$scope={dirty:g,ctx:h}),r.$set(b);const y={};g[0]&777|g[1]&1024&&(y.$$scope={dirty:g,ctx:h}),a.$set(y);const C={};g[0]&31752|g[1]&1024&&(C.$$scope={dirty:g,ctx:h}),f.$set(C);const v={};g[0]&229390|g[1]&1024&&(v.$$scope={dirty:g,ctx:h}),c.$set(v)},i(h){p||(T(e.$$.fragment,h),T(r.$$.fragment,h),T(a.$$.fragment,h),T(f.$$.fragment,h),T(c.$$.fragment,h),p=!0)},o(h){I(e.$$.fragment,h),I(r.$$.fragment,h),I(a.$$.fragment,h),I(f.$$.fragment,h),I(c.$$.fragment,h),p=!1},d(h){h&&(M(t),M(n)),i[20](null),B(e,h),B(r),B(a),B(f),B(c)}}}function xm(i,e,t){let n,s,r,o,a,l,u,f,d,c,p,m,h,g,_,b,y;Y(i,Es,z=>t(1,n=z)),Y(i,_s,z=>t(2,s=z)),Y(i,un,z=>t(3,r=z)),Y(i,On,z=>t(4,o=z)),Y(i,Tn,z=>t(5,a=z)),Y(i,Nt,z=>t(6,l=z)),Y(i,Dt,z=>t(7,u=z)),Y(i,ko,z=>t(8,f=z)),Y(i,rt,z=>t(9,d=z)),Y(i,bi,z=>t(10,c=z)),Y(i,yi,z=>t(11,p=z)),Y(i,wi,z=>t(12,m=z)),Y(i,Ci,z=>t(13,h=z)),Y(i,Is,z=>t(14,g=z)),Y(i,Ls,z=>t(15,_=z)),Y(i,$i,z=>t(16,b=z)),Y(i,Ln,z=>t(17,y=z));let C;function v(){n&&Ve(_s,s=n,s),window.location.reload()}const k=Object.entries(Ts).map(([z,J])=>({id:z,...J}));function P(z){Q[z?"unshift":"push"](()=>{C=z,t(0,C)})}function S(z){o=z,On.set(o)}function A(z){a=z,Tn.set(a)}function H(z){l=z,Nt.set(l)}function j(z){u=z,Dt.set(u)}function E(z){d=z,rt.set(d)}function w(z){c=z,bi.set(c)}function x(z){p=z,yi.set(p)}function q(z){m=z,wi.set(m)}function D(z){h=z,Ci.set(h)}function W(z){g=z,Is.set(g)}const G=z=>Ve(Ls,_=z.detail.id,_);function se(z){b=z,$i.set(b)}function X(z){s=z,_s.set(s)}function ae(z){n=z,Es.set(n)}function de(z){y=z,Ln.set(y)}return[C,n,s,r,o,a,l,u,f,d,c,p,m,h,g,_,b,y,v,k,P,S,A,H,j,E,w,x,q,D,W,G,se,X,ae,de,()=>window.location.reload()]}class Nm extends $e{constructor(e){super(),we(this,e,xm,Rm,be,{},null,[-1,-1])}}const zm=`<svg width="29" height="28" viewBox="0 0 29 28" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M19.4632 19.4178V21.7631C19.4632 22.3509 18.9875 22.8322 18.3941 22.8322C17.8008 22.8322 17.325 22.3565 17.325 21.7631V19.4178H14.9797C14.392 19.4178 13.9106 18.9421 13.9106 18.3487C13.9106 17.7554 14.3864 17.2796 14.9797 17.2796H17.325V14.9343C17.325 14.3466 17.8008 13.8652 18.3941 13.8652C18.9875 13.8652 19.4632 14.341 19.4632 14.9343V17.2796H21.8085C22.3963 17.2796 22.8776 17.7554 22.8776 18.3487C22.8776 18.9421 22.4019 19.4178 21.8085 19.4178H19.4632Z" fill="#7D7D7D"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M12.4211 17.3472L8.79962 14.834L5.88898 16.8546C5.88898 16.8546 5.86099 16.8826 5.8498 16.8994C5.83861 16.9162 5.83301 16.9386 5.83301 16.9554C5.83301 16.9722 5.83301 16.9946 5.8498 17.0114C5.86099 17.0282 5.87219 17.045 5.88898 17.0561L13.7757 22.5304C13.8205 22.5584 13.8708 22.5752 13.9212 22.5752C13.9716 22.5752 14.022 22.5584 14.0668 22.5304L15.6508 21.6852V21.0975H14.9847C13.4678 21.0975 12.2364 19.866 12.2364 18.3491C12.2364 17.9965 12.3036 17.6551 12.4267 17.3472H12.4211Z" fill="#7D7D7D"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M15.1475 15.6071H14.9796C14.3919 15.6071 13.8545 15.7918 13.4068 16.0997L5.88947 10.8885C5.88947 10.8885 5.86148 10.8605 5.85029 10.8437C5.83909 10.8269 5.8335 10.8045 5.8335 10.7877C5.8335 10.7709 5.8335 10.7486 5.85029 10.7318C5.86148 10.715 5.87268 10.6982 5.88947 10.687L13.7706 5.21275C13.8154 5.18476 13.8657 5.16797 13.9217 5.16797C13.9777 5.16797 14.0281 5.18476 14.0728 5.21275L21.954 10.6814C21.954 10.6814 21.9819 10.7094 21.9931 10.7262C22.0043 10.743 22.0099 10.7654 22.0099 10.7821C22.0099 10.7989 22.0099 10.8213 21.9931 10.8381C21.9819 10.8549 21.9707 10.8717 21.954 10.8829L19.6422 12.4893C19.2672 12.299 18.8474 12.1927 18.3996 12.1927C16.8827 12.1927 15.6513 13.4241 15.6513 14.941V15.26L15.1475 15.6071Z" fill="#7D7D7D"/>
</svg>
`;function Fm(i){let e=i[3].t("connect")+"",t;return{c(){t=K(e)},m(n,s){R(n,t,s)},p(n,s){s&8&&e!==(e=n[3].t("connect")+"")&&Z(t,e)},d(n){n&&M(t)}}}function Bm(i){let e;return{c(){e=K("↺")},m(t,n){R(t,e,n)},d(t){t&&M(e)}}}function Vm(i){let e=i[3].t("render")+"",t,n,s,r;return s=new Fe({props:{style:"margin-right: -4px;",data:ka,size:"24"}}),{c(){t=K(e),n=N(),V(s.$$.fragment)},m(o,a){R(o,t,a),R(o,n,a),F(s,o,a),r=!0},p(o,a){(!r||a&8)&&e!==(e=o[3].t("render")+"")&&Z(t,e)},i(o){r||(T(s.$$.fragment,o),r=!0)},o(o){I(s.$$.fragment,o),r=!1},d(o){o&&(M(t),M(n)),B(s,o)}}}function Hm(i){let e,t;return e=new Fe({props:{data:zm,size:"24"}}),{c(){V(e.$$.fragment)},m(n,s){F(e,n,s),t=!0},p:le,i(n){t||(T(e.$$.fragment,n),t=!0)},o(n){I(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function Um(i){let e,t,n,s,r,o,a,l,u,f,d,c,p,m,h,g=i[3].t("sendLatestImgAndMask")+"",_,b,y,C,v,k,P,S,A,H={};e=new cn({props:H}),i[4](e);function j(w){i[5](w)}let E={type:"textfield",size:"s"};return i[2]!==void 0&&(E.value=i[2]),o=new Oe({props:E}),Q.push(()=>_e(o,"value",j)),f=new Le({props:{class:"s",$$slots:{default:[Fm]},$$scope:{ctx:i}}}),f.$on("click",function(){tt(i[1].applyIP)&&i[1].applyIP.apply(this,arguments)}),c=new Le({props:{class:"s",style:"font-size: large; width: auto;",$$slots:{default:[Bm]},$$scope:{ctx:i}}}),c.$on("click",function(){tt(i[1].resetIP)&&i[1].resetIP.apply(this,arguments)}),y=new Le({props:{style:"width: 100px; margin-left: 8px;",class:"s icon",$$slots:{default:[Vm]},$$scope:{ctx:i}}}),y.$on("mouseenter",i[6]),y.$on("mouseleave",i[7]),y.$on("contextmenu",function(){tt(i[1].randomize)&&i[1].randomize.apply(this,arguments)}),y.$on("click",function(){tt(i[1].SendQueue)&&i[1].SendQueue.apply(this,arguments)}),v=new Le({props:{style:"width: 40px; margin-right: 8px;",class:"s icon",$$slots:{default:[Hm]},$$scope:{ctx:i}}}),v.$on("click",xa),{c(){V(e.$$.fragment),t=N(),n=L("uxp-panel"),s=L("div"),r=L("div"),V(o.$$.fragment),l=N(),u=L("div"),V(f.$$.fragment),d=N(),V(c.$$.fragment),p=N(),m=L("div"),h=L("span"),_=K(g),b=N(),V(y.$$.fragment),C=N(),V(v.$$.fragment),k=N(),P=L("webview"),O(u,"class","row-item svelte-3elpbo"),te(u,"padding-left","8px"),O(r,"class","row svelte-3elpbo"),te(r,"width","300px"),te(h,"height","28px"),te(h,"overflow","hidden"),te(h,"max-width","110px"),te(h,"text-align","right"),te(h,"visibility",i[0]?"visible":"hidden"),te(h,"opacity",i[0]?1:0),te(h,"transition","opacity 0.2s ease-in-out"),O(h,"class","discrip svelte-3elpbo"),te(m,"width","auto"),O(m,"class","row svelte-3elpbo"),O(s,"class","bg svelte-3elpbo"), O(P, "src", "http://127.0.0.1:8188"),O(P,"class","svelte-3elpbo"),oe(n,"panelid","comfyui.photoshop.plugin.web"),oe(n,"class","svelte-3elpbo")},m(w,x){F(e,w,x),R(w,t,x),R(w,n,x),$(n,s),$(s,r),F(o,r,null),$(r,l),$(r,u),F(f,u,null),$(u,d),F(c,u,null),$(s,p),$(s,m),$(m,h),$(h,_),$(m,b),F(y,m,null),$(m,C),F(v,m,null),$(n,k),$(n,P),A=!0},p(w,[x]){i=w;const q={};e.$set(q);const D={};!a&&x&4&&(a=!0,D.value=i[2],me(()=>a=!1)),o.$set(D);const W={};x&264&&(W.$$scope={dirty:x,ctx:i}),f.$set(W);const G={};x&256&&(G.$$scope={dirty:x,ctx:i}),c.$set(G),(!A||x&8)&&g!==(g=i[3].t("sendLatestImgAndMask")+"")&&Z(_,g),(!A||x&1)&&te(h,"visibility",i[0]?"visible":"hidden"),(!A||x&1)&&te(h,"opacity",i[0]?1:0);const se={};x&264&&(se.$$scope={dirty:x,ctx:i}),y.$set(se);const X={};x&256&&(X.$$scope={dirty:x,ctx:i}),v.$set(X)},i(w){A||(T(e.$$.fragment,w),T(o.$$.fragment,w),T(f.$$.fragment,w),T(c.$$.fragment,w),T(y.$$.fragment,w),T(v.$$.fragment,w),A=!0)},o(w){I(e.$$.fragment,w),I(o.$$.fragment,w),I(f.$$.fragment,w),I(c.$$.fragment,w),I(y.$$.fragment,w),I(v.$$.fragment,w),A=!1},d(w){w&&(M(t),M(n)),i[4](null),B(e,w),B(o),B(f),B(c),B(y),B(v)}}}function jm(i,e,t){let n,s;Y(i,rt,d=>t(2,n=d)),Y(i,un,d=>t(3,s=d));let r=!1,o;function a(d){Q[d?"unshift":"push"](()=>{o=d,t(1,o)})}function l(d){n=d,rt.set(n)}return[r,o,n,s,a,l,()=>t(0,r=!0),()=>t(0,r=!1)]}class qm extends $e{constructor(e){super(),we(this,e,jm,Um,be,{})}}function Wm(i){let e,t,n,s,r,o;return e=new bm({}),n=new Nm({}),r=new qm({}),{c(){V(e.$$.fragment),t=N(),V(n.$$.fragment),s=N(),V(r.$$.fragment)},m(a,l){F(e,a,l),R(a,t,l),F(n,a,l),R(a,s,l),F(r,a,l),o=!0},p:le,i(a){o||(T(e.$$.fragment,a),T(n.$$.fragment,a),T(r.$$.fragment,a),o=!0)},o(a){I(e.$$.fragment,a),I(n.$$.fragment,a),I(r.$$.fragment,a),o=!1},d(a){a&&(M(t),M(s)),B(e,a),B(n,a),B(r,a)}}}function Gm(i){return Xs.core.suppressResizeGripper({type:"panel",target:"comfyui.photoshop.plugin.panel",value:!0}),Xs.core.suppressResizeGripper({type:"panel",target:"comfyui.photoshop.plugin.settings",value:!0}),Xs.core.suppressResizeGripper({type:"panel",target:"comfyui.photoshop.plugin.web",value:!0}),[]}class Km extends $e{constructor(e){super(),we(this,e,Gm,Wm,be,{})}}new Km({target:document.getElementById("app")});
