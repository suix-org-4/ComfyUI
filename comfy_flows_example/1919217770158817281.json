{
  "last_link_id": 1333,
  "nodes": [
    {
      "outputs": [
        {
          "name": "*",
          "label": "*",
          "type": "*"
        }
      ],
      "color": "#1b4669",
      "widgets_values": [
        "seed"
      ],
      "inputs": [
        {
          "name": "INT",
          "link": 631,
          "label": "INT",
          "type": "INT"
        }
      ],
      "flags": {
        "collapsed": true
      },
      "type": "SetNode",
      "title": "Set_INT",
      "mode": 0,
      "bgcolor": "#29699c",
      "size": [
        240,
        58
      ],
      "pos": [
        -820,
        -510
      ],
      "id": 362,
      "properties": {
        "previousName": ""
      },
      "order": 59
    },
    {
      "outputs": [
        {
          "name": "",
          "label": "",
          "type": "*"
        }
      ],
      "color": "#60965e",
      "shape": 1,
      "inputs": [
        {
          "name": "",
          "label": "",
          "type": "*"
        }
      ],
      "flags": {},
      "type": "Reroute",
      "mode": 0,
      "bgcolor": "#4c824a",
      "size": [
        75,
        26
      ],
      "pos": [
        -1570,
        -480
      ],
      "id": 366,
      "properties": {
        "horizontal": false,
        "showOutputText": false
      },
      "order": 0
    },
    {
      "outputs": [],
      "color": "#fff0",
      "shape": 1,
      "inputs": [],
      "flags": {
        "allow_interaction": true
      },
      "type": "Label (rgthree)",
      "title": "by 阿硕讲ai",
      "mode": 0,
      "bgcolor": "#fff0",
      "size": [
        86.9091796875,
        17
      ],
      "pos": [
        -1570,
        -610
      ],
      "id": 369,
      "properties": {
        "padding": 0,
        "backgroundColor": "transparent",
        "fontFamily": "Arial",
        "borderRadius": 0,
        "textAlign": "left",
        "fontSize": 17,
        "fontColor": "#ffa900"
      },
      "order": 1
    },
    {
      "outputs": [
        {
          "name": "",
          "label": "",
          "type": "*"
        }
      ],
      "color": "#ffc04b",
      "shape": 1,
      "inputs": [
        {
          "name": "",
          "label": "",
          "type": "*"
        }
      ],
      "flags": {},
      "type": "Reroute",
      "mode": 0,
      "bgcolor": "#f1ac37",
      "size": [
        75,
        26
      ],
      "pos": [
        -1570,
        -560
      ],
      "id": 370,
      "properties": {
        "horizontal": false,
        "showOutputText": false
      },
      "order": 2
    },
    {
      "outputs": [
        {
          "name": "",
          "label": "",
          "type": "*"
        }
      ],
      "color": "#147aa5",
      "shape": 1,
      "inputs": [
        {
          "name": "",
          "label": "",
          "type": "*"
        }
      ],
      "flags": {},
      "type": "Reroute",
      "mode": 0,
      "bgcolor": "#006691",
      "size": [
        75,
        26
      ],
      "pos": [
        -1570,
        -440
      ],
      "id": 372,
      "properties": {
        "horizontal": false,
        "showOutputText": false
      },
      "order": 3
    },
    {
      "outputs": [],
      "color": "#fff0",
      "shape": 1,
      "inputs": [],
      "flags": {
        "allow_interaction": true
      },
      "type": "Label (rgthree)",
      "title": "参数设置",
      "mode": 0,
      "bgcolor": "#fff0",
      "size": [
        68,
        17
      ],
      "pos": [
        -1480,
        -430
      ],
      "id": 374,
      "properties": {
        "padding": 0,
        "backgroundColor": "transparent",
        "fontFamily": "Arial",
        "borderRadius": 0,
        "textAlign": "left",
        "fontSize": 17,
        "fontColor": "#ffffff"
      },
      "order": 4
    },
    {
      "outputs": [],
      "color": "#fff0",
      "shape": 1,
      "inputs": [],
      "flags": {
        "allow_interaction": true
      },
      "type": "Label (rgthree)",
      "title": "开启功能",
      "mode": 0,
      "bgcolor": "#fff0",
      "size": [
        68,
        17
      ],
      "pos": [
        -1480,
        -550
      ],
      "id": 380,
      "properties": {
        "padding": 0,
        "backgroundColor": "transparent",
        "fontFamily": "Arial",
        "borderRadius": 0,
        "textAlign": "left",
        "fontSize": 17,
        "fontColor": "#ffffff"
      },
      "order": 5
    },
    {
      "outputs": [],
      "color": "#133372",
      "shape": 2,
      "widgets_values": [
        "# <span style=\"font-family: 'Microsoft YaHei'; font-weight: bold; font-size: 40px; color: #FFAB3B;\">🏄‍阿硕全套资料链接</span>\n\n## <span style=\"font-family: 'Microsoft YaHei'; font-weight: bold; font-size: 26px; color: FFFFFF;\">👇整合包/高级工作流/疑难解答👇\n<br>\n\n## 👉可以加入星球号：<a href=\"https://t.zsxq.com/TIfva\">17259412</a></span>\n微信：yumengashuo\n<br>\n\n\n## <span style=\"font-family: 'Microsoft YaHei'; font-weight: bold; font-size: 26px; color: FFFFFF;\">ComfyUI快速入门：\nhttps://space.bilibili.com/1876480181/lists/4118416?type=season\n（看完前5个视频你就入门了）</span>",
        "markdown",
        "",
        "one_dark"
      ],
      "inputs": [],
      "flags": {},
      "type": "Note Plus (mtb)",
      "mode": 0,
      "bgcolor": "#274786",
      "size": [
        480,
        277
      ],
      "pos": [
        -2110,
        -620
      ],
      "id": 365,
      "properties": {},
      "order": 6
    },
    {
      "outputs": [
        {
          "name": "torch_compile_args",
          "links": [
            730
          ],
          "label": "torch_compile_args",
          "type": "WANCOMPILEARGS",
          "localized_name": "torch_compile_args"
        }
      ],
      "color": "#323",
      "widgets_values": [
        "inductor",
        false,
        "default",
        false,
        64,
        true,
        128
      ],
      "inputs": [],
      "flags": {
        "collapsed": false
      },
      "type": "WanVideoTorchCompileSettings",
      "mode": 0,
      "bgcolor": "#535",
      "size": [
        390.5999755859375,
        202
      ],
      "pos": [
        5980,
        -570
      ],
      "id": 450,
      "properties": {
        "cnr_id": "ComfyUI-WanVideoWrapper",
        "ver": "209c65ba41993c7a9425697f217990df9d13d6d2",
        "Node name for S&R": "WanVideoTorchCompileSettings",
        "ttNbgOverride": {
          "bgcolor": "#535",
          "groupcolor": "#a1309b",
          "color": "#323"
        }
      },
      "order": 7
    },
    {
      "outputs": [
        {
          "name": "text_embeds",
          "links": [
            721
          ],
          "label": "text_embeds",
          "type": "WANVIDEOTEXTEMBEDS",
          "localized_name": "text_embeds"
        }
      ],
      "color": "#323",
      "widgets_values": [
        "A beautiful woman wearing a pink hat walking in a city",
        "色调艳丽，过曝，静态，细节模糊不清，字幕，风格，作品，画作，画面，静止，整体发灰，最差质量，低质量，JPEG压缩残留，丑陋的，残缺的，多余的手指，画得不好的手部，画得不好的脸部，畸形的，毁容的，形态畸形的肢体，手指融合，静止不动的画面，杂乱的背景，三条腿，背景人很多，倒着走",
        true
      ],
      "inputs": [
        {
          "name": "t5",
          "link": 718,
          "label": "t5",
          "type": "WANTEXTENCODER",
          "localized_name": "t5"
        },
        {
          "shape": 7,
          "name": "model_to_offload",
          "label": "model_to_offload",
          "type": "WANVIDEOMODEL",
          "localized_name": "model_to_offload"
        },
        {
          "widget": {
            "name": "positive_prompt"
          },
          "name": "positive_prompt",
          "link": 719,
          "label": "positive_prompt",
          "type": "STRING"
        }
      ],
      "flags": {},
      "type": "WanVideoTextEncode",
      "mode": 0,
      "bgcolor": "#535",
      "size": [
        400,
        220
      ],
      "pos": [
        6900,
        310
      ],
      "id": 463,
      "properties": {
        "cnr_id": "ComfyUI-WanVideoWrapper",
        "ver": "209c65ba41993c7a9425697f217990df9d13d6d2",
        "Node name for S&R": "WanVideoTextEncode",
        "ttNbgOverride": {
          "bgcolor": "#535",
          "groupcolor": "#a1309b",
          "color": "#323"
        }
      },
      "order": 56
    },
    {
      "outputs": [],
      "color": "#fff0",
      "shape": 1,
      "inputs": [],
      "flags": {
        "allow_interaction": true
      },
      "type": "Label (rgthree)",
      "title": "提示词/条件控制",
      "mode": 0,
      "bgcolor": "#fff0",
      "size": [
        123.72314453125,
        17
      ],
      "pos": [
        -1480,
        -470
      ],
      "id": 373,
      "properties": {
        "padding": 0,
        "backgroundColor": "transparent",
        "fontFamily": "Arial",
        "borderRadius": 0,
        "textAlign": "left",
        "fontSize": 17,
        "fontColor": "#ffffff"
      },
      "order": 8
    },
    {
      "outputs": [
        {
          "name": "",
          "label": "",
          "type": "*"
        }
      ],
      "color": "#563756",
      "shape": 1,
      "inputs": [
        {
          "name": "",
          "label": "",
          "type": "*"
        }
      ],
      "flags": {},
      "type": "Reroute",
      "mode": 0,
      "bgcolor": "#422342",
      "size": [
        75,
        26
      ],
      "pos": [
        -1570,
        -520
      ],
      "id": 367,
      "properties": {
        "horizontal": false,
        "showOutputText": false
      },
      "order": 9
    },
    {
      "outputs": [],
      "color": "#fff0",
      "shape": 1,
      "inputs": [],
      "flags": {
        "allow_interaction": true
      },
      "type": "Label (rgthree)",
      "title": "载入模型、图片",
      "mode": 0,
      "bgcolor": "#fff0",
      "size": [
        119,
        17
      ],
      "pos": [
        -1480,
        -510
      ],
      "id": 368,
      "properties": {
        "padding": 0,
        "backgroundColor": "transparent",
        "fontFamily": "Arial",
        "borderRadius": 0,
        "textAlign": "left",
        "fontSize": 17,
        "fontColor": "#ffffff"
      },
      "order": 10
    },
    {
      "outputs": [
        {
          "name": "teacache_args",
          "links": [
            724
          ],
          "label": "teacache_args",
          "type": "TEACACHEARGS",
          "localized_name": "teacache_args"
        }
      ],
      "color": "#323",
      "widgets_values": [
        0.2,
        0,
        -1,
        "offload_device",
        true,
        "e"
      ],
      "inputs": [],
      "flags": {},
      "type": "WanVideoTeaCache",
      "mode": 0,
      "bgcolor": "#535",
      "size": [
        315,
        178
      ],
      "pos": [
        6980,
        730
      ],
      "id": 452,
      "properties": {
        "cnr_id": "ComfyUI-WanVideoWrapper",
        "ver": "b415fe78f152e3361b6e37e47074c1a0dc386a8e",
        "Node name for S&R": "WanVideoTeaCache",
        "ttNbgOverride": {
          "bgcolor": "#535",
          "groupcolor": "#a1309b",
          "color": "#323"
        }
      },
      "order": 11
    },
    {
      "outputs": [
        {
          "name": "feta_args",
          "links": [
            723
          ],
          "label": "feta_args",
          "type": "FETAARGS",
          "localized_name": "feta_args"
        }
      ],
      "color": "#323",
      "widgets_values": [
        2,
        0,
        1
      ],
      "inputs": [],
      "flags": {},
      "type": "WanVideoEnhanceAVideo",
      "mode": 0,
      "bgcolor": "#535",
      "size": [
        315,
        106
      ],
      "pos": [
        6980,
        570
      ],
      "id": 476,
      "properties": {
        "cnr_id": "ComfyUI-WanVideoWrapper",
        "ver": "4cebb550326361286ed0a5430cc668241d65b832",
        "Node name for S&R": "WanVideoEnhanceAVideo",
        "ttNbgOverride": {
          "bgcolor": "#535",
          "groupcolor": "#a1309b",
          "color": "#323"
        }
      },
      "order": 12
    },
    {
      "outputs": [
        {
          "name": "slg_args",
          "links": [
            725
          ],
          "label": "slg_args",
          "type": "SLGARGS",
          "localized_name": "slg_args"
        }
      ],
      "color": "#323",
      "widgets_values": [
        "9",
        0.30000000000000004,
        0.7000000000000002
      ],
      "inputs": [],
      "flags": {},
      "type": "WanVideoSLG",
      "mode": 0,
      "bgcolor": "#535",
      "size": [
        315,
        106
      ],
      "pos": [
        6980,
        950
      ],
      "id": 465,
      "properties": {
        "cnr_id": "ComfyUI-WanVideoWrapper",
        "ver": "2d2a184723dae88388e130659f51c36fcadeaba8",
        "Node name for S&R": "WanVideoSLG"
      },
      "order": 13
    },
    {
      "outputs": [
        {
          "name": "INT",
          "links": [
            727
          ],
          "label": "INT",
          "type": "INT"
        }
      ],
      "color": "#1b4669",
      "widgets_values": [
        "seed"
      ],
      "inputs": [],
      "flags": {},
      "type": "GetNode",
      "title": "Get_seed",
      "mode": 0,
      "bgcolor": "#29699c",
      "size": [
        210,
        58
      ],
      "pos": [
        7080,
        1400
      ],
      "id": 454,
      "properties": {},
      "order": 14
    },
    {
      "outputs": [
        {
          "name": "block_swap_args",
          "links": [
            731
          ],
          "label": "block_swap_args",
          "type": "BLOCKSWAPARGS",
          "localized_name": "block_swap_args"
        }
      ],
      "color": "#323",
      "widgets_values": [
        10,
        true,
        true,
        true,
        0
      ],
      "inputs": [],
      "flags": {
        "collapsed": false
      },
      "type": "WanVideoBlockSwap",
      "mode": 4,
      "bgcolor": "#535",
      "size": [
        315,
        154
      ],
      "pos": [
        6050,
        -310
      ],
      "id": 451,
      "properties": {
        "cnr_id": "ComfyUI-WanVideoWrapper",
        "ver": "209c65ba41993c7a9425697f217990df9d13d6d2",
        "Node name for S&R": "WanVideoBlockSwap",
        "ttNbgOverride": {
          "bgcolor": "#535",
          "groupcolor": "#a1309b",
          "color": "#323"
        }
      },
      "order": 15
    },
    {
      "outputs": [
        {
          "name": "STRING",
          "links": [
            1045
          ],
          "label": "STRING",
          "type": "STRING"
        }
      ],
      "color": "#323",
      "widgets_values": [
        "prompt"
      ],
      "inputs": [],
      "flags": {},
      "type": "GetNode",
      "title": "Get_prompt",
      "mode": 0,
      "bgcolor": "#535",
      "size": [
        210,
        60
      ],
      "pos": [
        3450,
        -680
      ],
      "id": 700,
      "properties": {
        "ttNbgOverride": {
          "bgcolor": "#535",
          "groupcolor": "#a1309b",
          "color": "#323"
        }
      },
      "order": 16
    },
    {
      "outputs": [
        {
          "name": "width",
          "label": "width",
          "type": "INT",
          "localized_name": "width"
        },
        {
          "name": "height",
          "label": "height",
          "type": "INT",
          "localized_name": "height"
        },
        {
          "name": "count",
          "links": [
            1065
          ],
          "label": "count",
          "type": "INT",
          "localized_name": "count"
        }
      ],
      "color": "#323",
      "widgets_values": [],
      "inputs": [
        {
          "name": "image",
          "link": 949,
          "label": "image",
          "type": "IMAGE",
          "localized_name": "image"
        }
      ],
      "flags": {},
      "type": "GetImageSize+",
      "mode": 0,
      "bgcolor": "#535",
      "size": [
        214.20001220703125,
        66
      ],
      "pos": [
        2710,
        -100
      ],
      "id": 605,
      "properties": {
        "Node name for S&R": "GetImageSize+",
        "ttNbgOverride": {
          "bgcolor": "#535",
          "groupcolor": "#a1309b",
          "color": "#323"
        }
      },
      "order": 57
    },
    {
      "outputs": [
        {
          "name": "text",
          "links": [
            1048
          ],
          "label": "text",
          "type": "STRING",
          "localized_name": "text"
        }
      ],
      "color": "#323",
      "widgets_values": [
        "auto",
        "zh-cn",
        false,
        "Manual Trasnlate",
        ""
      ],
      "inputs": [
        {
          "widget": {
            "name": "text"
          },
          "name": "text",
          "link": 1047,
          "label": "text",
          "type": "STRING"
        }
      ],
      "flags": {},
      "type": "GoogleTranslateTextNode",
      "mode": 0,
      "bgcolor": "#535",
      "size": [
        400,
        200
      ],
      "pos": [
        3540,
        0
      ],
      "id": 699,
      "properties": {
        "Node name for S&R": "GoogleTranslateTextNode",
        "ttNbgOverride": {
          "bgcolor": "#535",
          "groupcolor": "#a1309b",
          "color": "#323"
        }
      },
      "order": 77
    },
    {
      "outputs": [
        {
          "name": "*",
          "label": "*",
          "type": "*"
        }
      ],
      "color": "#323",
      "widgets_values": [
        "Zh_prompt"
      ],
      "inputs": [
        {
          "name": "STRING",
          "link": 1048,
          "label": "STRING",
          "type": "STRING"
        }
      ],
      "flags": {
        "collapsed": false
      },
      "type": "SetNode",
      "title": "Set_Zh_prompt",
      "mode": 0,
      "bgcolor": "#535",
      "size": [
        210,
        60
      ],
      "pos": [
        3730,
        270
      ],
      "id": 701,
      "properties": {
        "previousName": "Zh_prompt",
        "ttNbgOverride": {
          "bgcolor": "#535",
          "groupcolor": "#a1309b",
          "color": "#323"
        }
      },
      "order": 80
    },
    {
      "outputs": [
        {
          "name": "IMAGE",
          "links": [
            1073
          ],
          "label": "IMAGE",
          "type": "IMAGE",
          "localized_name": "IMAGE"
        }
      ],
      "color": "#323",
      "widgets_values": [
        10,
        2,
        48,
        16,
        "white",
        "black",
        "FreeMono.ttf",
        "Text",
        "down",
        ""
      ],
      "inputs": [
        {
          "name": "image",
          "link": 827,
          "label": "image",
          "type": "IMAGE",
          "localized_name": "image"
        },
        {
          "shape": 7,
          "name": "caption",
          "label": "caption",
          "type": "STRING"
        },
        {
          "widget": {
            "name": "text"
          },
          "name": "text",
          "link": 828,
          "label": "text",
          "type": "STRING"
        }
      ],
      "flags": {},
      "type": "AddLabel",
      "mode": 0,
      "bgcolor": "#535",
      "size": [
        315,
        294
      ],
      "pos": [
        9020,
        160
      ],
      "id": 537,
      "properties": {
        "cnr_id": "comfyui-kjnodes",
        "ver": "52c2e31a903fec2dd654fb614ea82ba2757d5028",
        "Node name for S&R": "AddLabel",
        "ttNbgOverride": {
          "bgcolor": "#535",
          "groupcolor": "#a1309b",
          "color": "#323"
        }
      },
      "order": 84
    },
    {
      "outputs": [
        {
          "name": "*",
          "label": "*",
          "type": "*"
        }
      ],
      "color": "#2a363b",
      "widgets_values": [
        "output2"
      ],
      "inputs": [
        {
          "name": "IMAGE",
          "link": 1073,
          "label": "IMAGE",
          "type": "IMAGE"
        }
      ],
      "flags": {},
      "type": "SetNode",
      "title": "Set_output2",
      "mode": 0,
      "bgcolor": "#3f5159",
      "size": [
        210,
        58
      ],
      "pos": [
        9410,
        170
      ],
      "id": 499,
      "properties": {
        "previousName": ""
      },
      "order": 85
    },
    {
      "outputs": [],
      "color": "#fff0",
      "shape": 1,
      "inputs": [],
      "flags": {
        "allow_interaction": true
      },
      "type": "Label (rgthree)",
      "title": "⬇",
      "mode": 0,
      "bgcolor": "#fff0",
      "size": [
        27.3193359375,
        50
      ],
      "pos": [
        1400,
        -670
      ],
      "id": 389,
      "properties": {
        "padding": 0,
        "backgroundColor": "transparent",
        "fontFamily": "Arial",
        "borderRadius": 0,
        "textAlign": "left",
        "fontSize": 50,
        "fontColor": "#ffffff"
      },
      "order": 17
    },
    {
      "outputs": [
        {
          "name": "*",
          "label": "*",
          "type": "*"
        }
      ],
      "color": "#323",
      "widgets_values": [
        "prompt"
      ],
      "inputs": [
        {
          "name": "STRING",
          "link": 1042,
          "label": "STRING",
          "type": "STRING"
        }
      ],
      "flags": {
        "collapsed": true
      },
      "type": "SetNode",
      "title": "Set_prompt",
      "mode": 0,
      "bgcolor": "#535",
      "size": [
        210,
        60
      ],
      "pos": [
        -710,
        70
      ],
      "id": 696,
      "properties": {
        "previousName": "prompt",
        "ttNbgOverride": {
          "bgcolor": "#535",
          "groupcolor": "#a1309b",
          "color": "#323"
        }
      },
      "order": 54
    },
    {
      "outputs": [
        {
          "name": "*",
          "links": [
            719
          ],
          "label": "*",
          "type": "*"
        }
      ],
      "color": "#323",
      "widgets_values": [
        "prompt+"
      ],
      "inputs": [],
      "flags": {},
      "type": "GetNode",
      "title": "Get_prompt+",
      "mode": 0,
      "bgcolor": "#535",
      "size": [
        210,
        58
      ],
      "pos": [
        6590,
        390
      ],
      "id": 475,
      "properties": {
        "ttNbgOverride": {
          "bgcolor": "#535",
          "groupcolor": "#a1309b",
          "color": "#323"
        }
      },
      "order": 18
    },
    {
      "outputs": [
        {
          "name": "*",
          "links": [
            1047,
            1076
          ],
          "label": "*",
          "type": "*"
        }
      ],
      "color": "#323",
      "widgets_values": [
        "prompt+"
      ],
      "inputs": [
        {
          "name": "*",
          "link": 1328,
          "label": "*",
          "type": "*"
        }
      ],
      "flags": {
        "collapsed": false
      },
      "type": "SetNode",
      "title": "Set_prompt+",
      "mode": 0,
      "bgcolor": "#535",
      "size": [
        210,
        58
      ],
      "pos": [
        4600,
        -440
      ],
      "id": 405,
      "properties": {
        "previousName": "prompt+",
        "ttNbgOverride": {
          "bgcolor": "#535",
          "groupcolor": "#a1309b",
          "color": "#323"
        }
      },
      "order": 75
    },
    {
      "outputs": [],
      "color": "#fff0",
      "shape": 1,
      "inputs": [],
      "flags": {
        "allow_interaction": true
      },
      "type": "Label (rgthree)",
      "title": "⬇",
      "mode": 0,
      "bgcolor": "#fff0",
      "size": [
        27.3193359375,
        50
      ],
      "pos": [
        -320,
        -670
      ],
      "id": 734,
      "properties": {
        "padding": 0,
        "backgroundColor": "transparent",
        "fontFamily": "Arial",
        "borderRadius": 0,
        "textAlign": "left",
        "fontSize": 50,
        "fontColor": "#ffffff"
      },
      "order": 19
    },
    {
      "outputs": [
        {
          "name": "*",
          "label": "*",
          "type": "*"
        }
      ],
      "color": "#1b4669",
      "widgets_values": [
        "size"
      ],
      "inputs": [
        {
          "name": "INT",
          "link": 1090,
          "label": "INT",
          "type": "INT"
        }
      ],
      "flags": {
        "collapsed": true
      },
      "type": "SetNode",
      "title": "Set_size",
      "mode": 0,
      "bgcolor": "#29699c",
      "size": [
        210,
        60
      ],
      "pos": [
        -720,
        -360
      ],
      "id": 532,
      "properties": {
        "previousName": "size"
      },
      "order": 60
    },
    {
      "outputs": [
        {
          "name": "STRING",
          "links": [
            1043
          ],
          "label": "STRING",
          "type": "STRING"
        }
      ],
      "color": "#323",
      "widgets_values": [
        "Zh_prompt"
      ],
      "inputs": [],
      "flags": {
        "collapsed": true
      },
      "type": "GetNode",
      "title": "Get_Zh_prompt",
      "mode": 0,
      "bgcolor": "#535",
      "size": [
        210,
        60
      ],
      "pos": [
        -810,
        250
      ],
      "id": 698,
      "properties": {
        "ttNbgOverride": {
          "bgcolor": "#535",
          "groupcolor": "#a1309b",
          "color": "#323"
        }
      },
      "order": 20
    },
    {
      "outputs": [
        {
          "name": "IMAGE",
          "links": [
            651
          ],
          "label": "IMAGE",
          "type": "IMAGE"
        }
      ],
      "color": "#2a363b",
      "widgets_values": [
        "output1"
      ],
      "inputs": [],
      "flags": {
        "collapsed": false
      },
      "type": "GetNode",
      "title": "Get_output1",
      "mode": 0,
      "bgcolor": "#3f5159",
      "size": [
        210,
        58
      ],
      "pos": [
        1160,
        -430
      ],
      "id": 385,
      "properties": {},
      "order": 21
    },
    {
      "outputs": [
        {
          "name": "*",
          "label": "*",
          "type": "*"
        }
      ],
      "color": "#2a363b",
      "widgets_values": [
        "init_video"
      ],
      "inputs": [
        {
          "name": "IMAGE",
          "link": 1315,
          "label": "IMAGE",
          "type": "IMAGE"
        }
      ],
      "flags": {
        "collapsed": true
      },
      "type": "SetNode",
      "title": "Set_init_video",
      "mode": 0,
      "bgcolor": "#3f5159",
      "size": [
        210,
        58
      ],
      "pos": [
        -300,
        -500
      ],
      "id": 524,
      "properties": {
        "previousName": ""
      },
      "order": 61
    },
    {
      "outputs": [
        {
          "name": "STRING",
          "slot_index": 0,
          "links": [
            1171
          ],
          "label": "STRING",
          "type": "STRING",
          "localized_name": "STRING"
        }
      ],
      "color": "#323",
      "widgets_values": [
        "_",
        "",
        " "
      ],
      "inputs": [
        {
          "name": "string1",
          "link": 1170,
          "label": "string1",
          "type": "STRING"
        },
        {
          "name": "string2",
          "link": 1172,
          "label": "string2",
          "type": "STRING"
        }
      ],
      "flags": {
        "collapsed": true
      },
      "type": "JoinStrings",
      "mode": 0,
      "bgcolor": "#535",
      "size": [
        315,
        126
      ],
      "pos": [
        -710,
        580
      ],
      "id": 790,
      "properties": {
        "cnr_id": "comfyui-kjnodes",
        "ver": "973ceb6ca8b7525d54873805888ad690090d6b1e",
        "Node name for S&R": "JoinStrings",
        "ttNbgOverride": {
          "bgcolor": "#535",
          "groupcolor": "#a1309b",
          "color": "#323"
        }
      },
      "order": 64
    },
    {
      "outputs": [
        {
          "name": "STRING",
          "slot_index": 0,
          "links": [
            1170
          ],
          "label": "STRING",
          "type": "STRING",
          "localized_name": "STRING"
        }
      ],
      "color": "#323",
      "widgets_values": [
        "/",
        "",
        " "
      ],
      "inputs": [
        {
          "name": "string1",
          "link": 1166,
          "label": "string1",
          "type": "STRING"
        },
        {
          "name": "string2",
          "link": 1167,
          "label": "string2",
          "type": "STRING"
        }
      ],
      "flags": {
        "collapsed": true
      },
      "type": "JoinStrings",
      "mode": 0,
      "bgcolor": "#535",
      "size": [
        315,
        126
      ],
      "pos": [
        -710,
        550
      ],
      "id": 787,
      "properties": {
        "cnr_id": "comfyui-kjnodes",
        "ver": "973ceb6ca8b7525d54873805888ad690090d6b1e",
        "Node name for S&R": "JoinStrings",
        "ttNbgOverride": {
          "bgcolor": "#535",
          "groupcolor": "#a1309b",
          "color": "#323"
        }
      },
      "order": 55
    },
    {
      "outputs": [
        {
          "name": "STRING",
          "slot_index": 0,
          "links": [
            1174
          ],
          "label": "STRING",
          "type": "STRING"
        }
      ],
      "color": "#323",
      "widgets_values": [
        "Name"
      ],
      "inputs": [],
      "flags": {
        "collapsed": false
      },
      "type": "GetNode",
      "mode": 0,
      "bgcolor": "#535",
      "size": [
        210,
        58
      ],
      "pos": [
        300,
        -430
      ],
      "id": 783,
      "properties": {
        "ttNbgOverride": {
          "bgcolor": "#535",
          "groupcolor": "#a1309b",
          "color": "#323"
        }
      },
      "order": 22
    },
    {
      "outputs": [
        {
          "name": "STRING",
          "slot_index": 0,
          "links": [
            1151
          ],
          "label": "STRING",
          "type": "STRING"
        }
      ],
      "color": "#323",
      "widgets_values": [
        "Name"
      ],
      "inputs": [],
      "flags": {
        "collapsed": false
      },
      "type": "GetNode",
      "title": "Get_Name",
      "mode": 0,
      "bgcolor": "#535",
      "size": [
        210,
        58
      ],
      "pos": [
        1420,
        -440
      ],
      "id": 376,
      "properties": {
        "ttNbgOverride": {
          "bgcolor": "#535",
          "groupcolor": "#a1309b",
          "color": "#323"
        }
      },
      "order": 23
    },
    {
      "outputs": [],
      "color": "#fff0",
      "shape": 1,
      "inputs": [],
      "flags": {
        "allow_interaction": true
      },
      "type": "Label (rgthree)",
      "title": "⬇",
      "mode": 0,
      "bgcolor": "#fff0",
      "size": [
        27.3193359375,
        50
      ],
      "pos": [
        510,
        -670
      ],
      "id": 388,
      "properties": {
        "padding": 0,
        "backgroundColor": "transparent",
        "fontFamily": "Arial",
        "borderRadius": 0,
        "textAlign": "left",
        "fontSize": 50,
        "fontColor": "#ffffff"
      },
      "order": 24
    },
    {
      "outputs": [],
      "color": "#fff0",
      "shape": 1,
      "inputs": [],
      "flags": {
        "allow_interaction": true
      },
      "type": "Label (rgthree)",
      "title": "Wan 吉卜力风格转绘",
      "mode": 0,
      "bgcolor": "#fff0",
      "size": [
        464.84375,
        50
      ],
      "pos": [
        -1580,
        -680
      ],
      "id": 394,
      "properties": {
        "padding": 0,
        "backgroundColor": "transparent",
        "fontFamily": "Arial",
        "borderRadius": 0,
        "textAlign": "left",
        "fontSize": 50,
        "fontColor": "#ffffff"
      },
      "order": 25
    },
    {
      "outputs": [],
      "color": "#323",
      "widgets_values": [],
      "inputs": [
        {
          "name": "images",
          "link": 1098,
          "label": "images",
          "type": "IMAGE",
          "localized_name": "images"
        }
      ],
      "flags": {},
      "type": "PreviewImage",
      "mode": 0,
      "bgcolor": "#535",
      "size": [
        350,
        280
      ],
      "pos": [
        4980,
        950
      ],
      "id": 742,
      "properties": {
        "Node name for S&R": "PreviewImage",
        "ttNbgOverride": {
          "bgcolor": "#535",
          "groupcolor": "#a1309b",
          "color": "#323"
        }
      },
      "order": 73
    },
    {
      "outputs": [
        {
          "name": "images",
          "links": [
            827
          ],
          "label": "images",
          "type": "IMAGE",
          "localized_name": "images"
        }
      ],
      "color": "#323",
      "widgets_values": [
        2,
        "right",
        true,
        null
      ],
      "inputs": [
        {
          "name": "image_1",
          "link": 1185,
          "label": "image_1",
          "type": "IMAGE",
          "localized_name": "image_1"
        },
        {
          "name": "image_2",
          "link": 1186,
          "label": "image_2",
          "type": "IMAGE",
          "localized_name": "image_2"
        }
      ],
      "flags": {},
      "type": "ImageConcatMulti",
      "mode": 0,
      "bgcolor": "#535",
      "size": [
        315,
        190
      ],
      "pos": [
        8660,
        160
      ],
      "id": 535,
      "properties": {
        "cnr_id": "comfyui-kjnodes",
        "ver": "91bdcfdf6016c0a706bca800186591890d55e391",
        "ttNbgOverride": {
          "bgcolor": "#535",
          "groupcolor": "#a1309b",
          "color": "#323"
        }
      },
      "order": 83
    },
    {
      "outputs": [
        {
          "name": "IMAGE",
          "links": [
            1185
          ],
          "label": "IMAGE",
          "type": "IMAGE"
        }
      ],
      "color": "#006691",
      "widgets_values": [
        "init_video"
      ],
      "inputs": [],
      "flags": {},
      "type": "GetNode",
      "title": "Get_init_video",
      "mode": 0,
      "bgcolor": "rgba(24,24,27,.9)",
      "size": [
        210,
        60
      ],
      "pos": [
        8290,
        160
      ],
      "id": 597,
      "properties": {},
      "order": 26
    },
    {
      "outputs": [
        {
          "name": "IMAGE",
          "links": [
            1186
          ],
          "label": "IMAGE",
          "type": "IMAGE"
        }
      ],
      "color": "#2a363b",
      "widgets_values": [
        "output1"
      ],
      "inputs": [
        {
          "name": "IMAGE",
          "link": 919,
          "label": "IMAGE",
          "type": "IMAGE"
        }
      ],
      "flags": {},
      "type": "SetNode",
      "title": "Set_output1",
      "mode": 0,
      "bgcolor": "#3f5159",
      "size": [
        210,
        60
      ],
      "pos": [
        8290,
        330
      ],
      "id": 593,
      "properties": {
        "previousName": "output1"
      },
      "order": 82
    },
    {
      "outputs": [],
      "color": "#323",
      "widgets_values": [
        "1",
        0.78
      ],
      "inputs": [],
      "flags": {
        "pinned": true,
        "collapsed": true
      },
      "type": "Bookmark (rgthree)",
      "mode": 0,
      "bgcolor": "#535",
      "size": [
        210,
        62
      ],
      "pos": [
        -940,
        -750
      ],
      "id": 400,
      "properties": {
        "ttNbgOverride": {
          "bgcolor": "#535",
          "groupcolor": "#a1309b",
          "color": "#323"
        }
      },
      "order": 27
    },
    {
      "outputs": [],
      "color": "#fff0",
      "shape": 1,
      "inputs": [],
      "flags": {
        "allow_interaction": true
      },
      "type": "Label (rgthree)",
      "title": "组合结果",
      "mode": 0,
      "bgcolor": "#fff0",
      "size": [
        200,
        50
      ],
      "pos": [
        420,
        -730
      ],
      "id": 398,
      "properties": {
        "padding": 0,
        "backgroundColor": "transparent",
        "fontFamily": "Arial",
        "borderRadius": 0,
        "textAlign": "left",
        "fontSize": 50,
        "fontColor": "#ffffff"
      },
      "order": 28
    },
    {
      "outputs": [],
      "color": "#fff0",
      "shape": 1,
      "inputs": [],
      "flags": {
        "allow_interaction": true
      },
      "type": "Label (rgthree)",
      "title": "保存输出视频",
      "mode": 0,
      "bgcolor": "#fff0",
      "size": [
        300,
        50
      ],
      "pos": [
        1270,
        -730
      ],
      "id": 390,
      "properties": {
        "padding": 0,
        "backgroundColor": "transparent",
        "fontFamily": "Arial",
        "borderRadius": 0,
        "textAlign": "left",
        "fontSize": 50,
        "fontColor": "#ffffff"
      },
      "order": 29
    },
    {
      "outputs": [
        {
          "name": "vace_embeds",
          "links": [
            722
          ],
          "label": "vace_embeds",
          "type": "WANVIDIMAGE_EMBEDS",
          "localized_name": "vace_embeds"
        }
      ],
      "color": "#323",
      "widgets_values": [
        832,
        480,
        81,
        1.0000000000000002,
        0,
        1,
        false
      ],
      "inputs": [
        {
          "name": "vae",
          "link": 748,
          "label": "vae",
          "type": "WANVAE",
          "localized_name": "vae"
        },
        {
          "shape": 7,
          "name": "input_frames",
          "link": 1117,
          "label": "input_frames",
          "type": "IMAGE",
          "localized_name": "input_frames"
        },
        {
          "shape": 7,
          "name": "ref_images",
          "label": "ref_images",
          "type": "IMAGE",
          "localized_name": "ref_images"
        },
        {
          "shape": 7,
          "name": "input_masks",
          "label": "input_masks",
          "type": "MASK",
          "localized_name": "input_masks"
        },
        {
          "shape": 7,
          "name": "prev_vace_embeds",
          "label": "prev_vace_embeds",
          "type": "WANVIDIMAGE_EMBEDS",
          "localized_name": "prev_vace_embeds"
        },
        {
          "widget": {
            "name": "width"
          },
          "name": "width",
          "link": 751,
          "label": "width",
          "type": "INT"
        },
        {
          "widget": {
            "name": "height"
          },
          "name": "height",
          "link": 752,
          "label": "height",
          "type": "INT"
        },
        {
          "widget": {
            "name": "num_frames"
          },
          "name": "num_frames",
          "link": 753,
          "label": "num_frames",
          "type": "INT"
        }
      ],
      "flags": {},
      "type": "WanVideoVACEEncode",
      "mode": 0,
      "bgcolor": "#535",
      "size": [
        315,
        334
      ],
      "pos": [
        6500,
        550
      ],
      "id": 487,
      "properties": {
        "Node name for S&R": "WanVideoVACEEncode",
        "ttNbgOverride": {
          "bgcolor": "#535",
          "groupcolor": "#a1309b",
          "color": "#323"
        }
      },
      "order": 76
    },
    {
      "outputs": [
        {
          "name": "IMAGE",
          "links": [
            788
          ],
          "label": "IMAGE",
          "type": "IMAGE"
        }
      ],
      "color": "#006691",
      "widgets_values": [
        "init_video"
      ],
      "inputs": [],
      "flags": {},
      "type": "GetNode",
      "title": "Get_init_video",
      "mode": 0,
      "bgcolor": "rgba(24,24,27,.9)",
      "size": [
        210,
        58
      ],
      "pos": [
        4310,
        860
      ],
      "id": 514,
      "properties": {},
      "order": 30
    },
    {
      "outputs": [
        {
          "name": "exp_args",
          "links": [
            726
          ],
          "label": "exp_args",
          "type": "EXPERIMENTALARGS",
          "localized_name": "exp_args"
        }
      ],
      "color": "#323",
      "widgets_values": [
        "",
        true,
        false,
        0,
        false,
        1,
        1.25,
        20
      ],
      "inputs": [],
      "flags": {},
      "type": "WanVideoExperimentalArgs",
      "mode": 0,
      "bgcolor": "#535",
      "size": [
        300,
        226
      ],
      "pos": [
        7000,
        1120
      ],
      "id": 453,
      "properties": {
        "cnr_id": "ComfyUI-WanVideoWrapper",
        "ver": "4cebb550326361286ed0a5430cc668241d65b832",
        "Node name for S&R": "WanVideoExperimentalArgs",
        "ttNbgOverride": {
          "bgcolor": "#535",
          "groupcolor": "#a1309b",
          "color": "#323"
        }
      },
      "order": 31
    },
    {
      "outputs": [
        {
          "name": "IMAGE",
          "links": [
            1098
          ],
          "label": "IMAGE",
          "type": "IMAGE",
          "localized_name": "IMAGE"
        }
      ],
      "color": "#323",
      "widgets_values": [
        0,
        1
      ],
      "inputs": [
        {
          "name": "image",
          "link": 944,
          "label": "image",
          "type": "IMAGE",
          "localized_name": "image"
        }
      ],
      "flags": {},
      "type": "ImageFromBatch",
      "mode": 0,
      "bgcolor": "#535",
      "size": [
        315,
        82
      ],
      "pos": [
        4620,
        1030
      ],
      "id": 599,
      "properties": {
        "Node name for S&R": "ImageFromBatch",
        "ttNbgOverride": {
          "bgcolor": "#535",
          "groupcolor": "#a1309b",
          "color": "#323"
        }
      },
      "order": 69
    },
    {
      "outputs": [
        {
          "name": "images",
          "slot_index": 0,
          "links": [
            919
          ],
          "label": "images",
          "type": "IMAGE",
          "localized_name": "images"
        }
      ],
      "color": "#323",
      "widgets_values": [
        true,
        272,
        272,
        144,
        128
      ],
      "inputs": [
        {
          "name": "vae",
          "link": 734,
          "label": "vae",
          "type": "WANVAE",
          "localized_name": "vae"
        },
        {
          "name": "samples",
          "link": 735,
          "label": "samples",
          "type": "LATENT",
          "localized_name": "samples"
        }
      ],
      "flags": {},
      "type": "WanVideoDecode",
      "mode": 0,
      "bgcolor": "#535",
      "size": [
        315,
        174
      ],
      "pos": [
        7810,
        330
      ],
      "id": 474,
      "properties": {
        "cnr_id": "ComfyUI-WanVideoWrapper",
        "ver": "209c65ba41993c7a9425697f217990df9d13d6d2",
        "Node name for S&R": "WanVideoDecode",
        "ttNbgOverride": {
          "bgcolor": "#535",
          "groupcolor": "#a1309b",
          "color": "#323"
        }
      },
      "order": 81
    },
    {
      "outputs": [
        {
          "name": "IMAGE",
          "links": [
            647
          ],
          "label": "IMAGE",
          "type": "IMAGE"
        }
      ],
      "color": "#006691",
      "widgets_values": [
        "output2"
      ],
      "inputs": [],
      "flags": {
        "collapsed": true
      },
      "type": "GetNode",
      "title": "Get_output2",
      "mode": 0,
      "bgcolor": "rgba(24,24,27,.9)",
      "size": [
        210,
        58
      ],
      "pos": [
        80,
        -470
      ],
      "id": 402,
      "properties": {},
      "order": 32
    },
    {
      "outputs": [
        {
          "name": "samples",
          "slot_index": 0,
          "links": [
            735
          ],
          "label": "samples",
          "type": "LATENT",
          "localized_name": "samples"
        }
      ],
      "color": "#422342",
      "widgets_values": [
        25,
        6,
        7,
        429148610626425,
        "fixed",
        true,
        "unipc",
        0,
        1,
        false,
        "comfy"
      ],
      "inputs": [
        {
          "name": "model",
          "link": 720,
          "label": "model",
          "type": "WANVIDEOMODEL",
          "localized_name": "model"
        },
        {
          "name": "text_embeds",
          "link": 721,
          "label": "text_embeds",
          "type": "WANVIDEOTEXTEMBEDS",
          "localized_name": "text_embeds"
        },
        {
          "name": "image_embeds",
          "link": 722,
          "label": "image_embeds",
          "type": "WANVIDIMAGE_EMBEDS",
          "localized_name": "image_embeds"
        },
        {
          "shape": 7,
          "name": "samples",
          "label": "samples",
          "type": "LATENT",
          "localized_name": "samples"
        },
        {
          "shape": 7,
          "name": "feta_args",
          "link": 723,
          "label": "feta_args",
          "type": "FETAARGS",
          "localized_name": "feta_args"
        },
        {
          "shape": 7,
          "name": "context_options",
          "link": 1308,
          "label": "context_options",
          "type": "WANVIDCONTEXT",
          "localized_name": "context_options"
        },
        {
          "shape": 7,
          "name": "teacache_args",
          "link": 724,
          "label": "teacache_args",
          "type": "TEACACHEARGS",
          "localized_name": "teacache_args"
        },
        {
          "shape": 7,
          "name": "flowedit_args",
          "label": "flowedit_args",
          "type": "FLOWEDITARGS",
          "localized_name": "flowedit_args"
        },
        {
          "shape": 7,
          "name": "slg_args",
          "link": 725,
          "label": "slg_args",
          "type": "SLGARGS",
          "localized_name": "slg_args"
        },
        {
          "shape": 7,
          "name": "loop_args",
          "label": "loop_args",
          "type": "LOOPARGS",
          "localized_name": "loop_args"
        },
        {
          "shape": 7,
          "name": "experimental_args",
          "link": 726,
          "label": "experimental_args",
          "type": "EXPERIMENTALARGS",
          "localized_name": "experimental_args"
        },
        {
          "shape": 7,
          "name": "sigmas",
          "label": "sigmas",
          "type": "SIGMAS",
          "localized_name": "sigmas"
        },
        {
          "shape": 7,
          "name": "unianimate_poses",
          "label": "unianimate_poses",
          "type": "UNIANIMATE_POSE",
          "localized_name": "unianimate_poses"
        },
        {
          "widget": {
            "name": "seed"
          },
          "name": "seed",
          "link": 727,
          "label": "seed",
          "type": "INT"
        },
        {
          "shape": 7,
          "name": "fantasytalking_embeds",
          "label": "fantasytalking_embeds",
          "type": "FANTASYTALKING_EMBEDS",
          "localized_name": "fantasytalking_embeds"
        }
      ],
      "flags": {},
      "type": "WanVideoSampler",
      "mode": 0,
      "bgcolor": "rgba(24,24,27,.9)",
      "size": [
        315,
        1023.3333129882812
      ],
      "pos": [
        7440,
        360
      ],
      "id": 464,
      "properties": {
        "cnr_id": "ComfyUI-WanVideoWrapper",
        "ver": "209c65ba41993c7a9425697f217990df9d13d6d2",
        "Node name for S&R": "WanVideoSampler"
      },
      "order": 79
    },
    {
      "outputs": [
        {
          "name": "output",
          "links": [],
          "label": "output",
          "type": "*",
          "localized_name": "output"
        }
      ],
      "color": "#323",
      "widgets_values": [
        "Studio Ghibli style. Two individuals are seated side by side, engaged in a conversation. The person on the left is wearing a dark jacket over a green shirt and appears to be speaking with expressive hand movements. The individual on the right is dressed in a black jacket and seems to be listening attentively, occasionally glancing at their companion. In the background, there's a table covered with a white cloth, displaying an assortment of bananas, suggesting they might be in a market or store setting. The environment has a warm tone, likely due to indoor lighting, which casts soft shadows around the subjects. The atmosphere feels casual and relaxed, indicative of a friendly interaction between the two characters."
      ],
      "inputs": [
        {
          "shape": 7,
          "name": "anything",
          "link": 1076,
          "label": "anything",
          "type": "*",
          "localized_name": "anything"
        }
      ],
      "flags": {},
      "type": "easy showAnything",
      "mode": 0,
      "bgcolor": "#535",
      "size": [
        480,
        380
      ],
      "pos": [
        4360,
        -90
      ],
      "id": 725,
      "properties": {
        "Node name for S&R": "easy showAnything",
        "ttNbgOverride": {
          "bgcolor": "#535",
          "groupcolor": "#a1309b",
          "color": "#323"
        }
      },
      "order": 78
    },
    {
      "outputs": [
        {
          "name": "*",
          "label": "*",
          "type": "*"
        }
      ],
      "color": "#1b4669",
      "widgets_values": [
        "video_fm"
      ],
      "inputs": [
        {
          "name": "INT",
          "link": 1280,
          "label": "INT",
          "type": "INT"
        }
      ],
      "flags": {
        "collapsed": true
      },
      "type": "SetNode",
      "title": "Set_video_fm",
      "mode": 0,
      "bgcolor": "#29699c",
      "size": [
        210,
        60
      ],
      "pos": [
        -200,
        -330
      ],
      "id": 861,
      "properties": {
        "previousName": "video_fm"
      },
      "order": 68
    },
    {
      "outputs": [
        {
          "name": "*",
          "links": [
            828
          ],
          "label": "*",
          "type": "*"
        }
      ],
      "color": "#323",
      "widgets_values": [
        "prompt+"
      ],
      "inputs": [],
      "flags": {},
      "type": "GetNode",
      "title": "Get_prompt+",
      "mode": 0,
      "bgcolor": "#535",
      "size": [
        210,
        58
      ],
      "pos": [
        8750,
        400
      ],
      "id": 536,
      "properties": {
        "ttNbgOverride": {
          "bgcolor": "#535",
          "groupcolor": "#a1309b",
          "color": "#323"
        }
      },
      "order": 33
    },
    {
      "outputs": [
        {
          "name": "Filenames",
          "label": "Filenames",
          "type": "VHS_FILENAMES",
          "localized_name": "Filenames"
        }
      ],
      "color": "#af3535",
      "widgets_values": {
        "save_output": false,
        "filename_prefix": "WanVideoWrapper_VACE_startendframe",
        "loop_count": 0,
        "pix_fmt": "yuv420p",
        "save_metadata": false,
        "crf": 19,
        "trim_to_audio": false,
        "videopreview": {
          "paused": false,
          "hidden": false,
          "params": {
            "filename": "视频 Name Ghibli_00001-audio_gbleh_1746415344.mp4",
            "workflow": "视频 Name Ghibli_00001.png",
            "fullpath": "/data/ComfyUI/personal/71ea1a54c47729a6246e83fcdff2f139/temp/视频 Name Ghibli_00001-audio.mp4",
            "format": "video/h264-mp4",
            "subfolder": "",
            "type": "temp",
            "frame_rate": 16
          }
        },
        "format": "video/h264-mp4",
        "frame_rate": 30,
        "pingpong": false
      },
      "inputs": [
        {
          "name": "images",
          "link": 647,
          "label": "images",
          "type": "IMAGE",
          "localized_name": "images"
        },
        {
          "shape": 7,
          "name": "audio",
          "link": 1316,
          "label": "audio",
          "type": "AUDIO",
          "localized_name": "audio"
        },
        {
          "shape": 7,
          "name": "meta_batch",
          "label": "meta_batch",
          "type": "VHS_BatchManager",
          "localized_name": "meta_batch"
        },
        {
          "shape": 7,
          "name": "vae",
          "label": "vae",
          "type": "VAE",
          "localized_name": "vae"
        },
        {
          "widget": {
            "name": "frame_rate"
          },
          "name": "frame_rate",
          "link": 1192,
          "label": "frame_rate",
          "type": "FLOAT"
        },
        {
          "widget": {
            "name": "filename_prefix"
          },
          "name": "filename_prefix",
          "link": 1174,
          "label": "filename_prefix",
          "type": "STRING"
        }
      ],
      "flags": {},
      "type": "VHS_VideoCombine",
      "title": "视频将会保存到“output/视频” 文件夹里面",
      "mode": 0,
      "bgcolor": "rgba(24,24,27,.9)",
      "size": [
        1090,
        661.00830078125
      ],
      "pos": [
        0,
        -540
      ],
      "id": 404,
      "properties": {
        "cnr_id": "comfyui-videohelpersuite",
        "ver": "0a75c7958fe320efcb052f1d9f8451fd20c730a8",
        "Node name for S&R": "VHS_VideoCombine"
      },
      "order": 67
    },
    {
      "outputs": [
        {
          "name": "Filenames",
          "links": [],
          "label": "Filenames",
          "type": "VHS_FILENAMES",
          "localized_name": "Filenames"
        }
      ],
      "color": "#af3535",
      "widgets_values": {
        "save_output": true,
        "filename_prefix": "WanVideoWrapper_VACE_startendframe",
        "loop_count": 0,
        "pix_fmt": "yuv420p",
        "save_metadata": false,
        "crf": 19,
        "trim_to_audio": false,
        "videopreview": {
          "paused": false,
          "hidden": false,
          "params": {
            "filename": "视频 Name Ghibli_00001-audio_bdbvh_1746415352.mp4",
            "workflow": "视频 Name Ghibli_00001.png",
            "fullpath": "/data/ComfyUI/personal/71ea1a54c47729a6246e83fcdff2f139/output/视频 Name Ghibli_00001-audio.mp4",
            "format": "video/h264-mp4",
            "subfolder": "",
            "type": "output",
            "frame_rate": 16
          }
        },
        "format": "video/h264-mp4",
        "frame_rate": 16,
        "pingpong": false
      },
      "inputs": [
        {
          "name": "images",
          "link": 651,
          "label": "images",
          "type": "IMAGE",
          "localized_name": "images"
        },
        {
          "shape": 7,
          "name": "audio",
          "link": 1317,
          "label": "audio",
          "type": "AUDIO",
          "localized_name": "audio"
        },
        {
          "shape": 7,
          "name": "meta_batch",
          "label": "meta_batch",
          "type": "VHS_BatchManager",
          "localized_name": "meta_batch"
        },
        {
          "shape": 7,
          "name": "vae",
          "label": "vae",
          "type": "VAE",
          "localized_name": "vae"
        },
        {
          "widget": {
            "name": "frame_rate"
          },
          "name": "frame_rate",
          "link": 798,
          "label": "frame_rate",
          "type": "FLOAT"
        },
        {
          "widget": {
            "name": "filename_prefix"
          },
          "name": "filename_prefix",
          "link": 1151,
          "label": "filename_prefix",
          "type": "STRING"
        }
      ],
      "flags": {},
      "type": "VHS_VideoCombine",
      "title": "视频将会保存到“output/视频” 文件夹里面",
      "mode": 0,
      "bgcolor": "rgba(24,24,27,.9)",
      "size": [
        610,
        677.0384521484375
      ],
      "pos": [
        1120,
        -540
      ],
      "id": 413,
      "properties": {
        "cnr_id": "comfyui-videohelpersuite",
        "ver": "0a75c7958fe320efcb052f1d9f8451fd20c730a8",
        "Node name for S&R": "VHS_VideoCombine"
      },
      "order": 66
    },
    {
      "outputs": [
        {
          "name": "STRING",
          "links": [
            1166
          ],
          "label": "STRING",
          "type": "STRING",
          "localized_name": "STRING"
        }
      ],
      "color": "#323",
      "widgets_values": [
        "视频"
      ],
      "inputs": [],
      "flags": {
        "collapsed": true
      },
      "type": "PrimitiveString",
      "title": "文件夹名字",
      "mode": 0,
      "bgcolor": "#535",
      "size": [
        315,
        58
      ],
      "pos": [
        -870,
        550
      ],
      "id": 788,
      "properties": {
        "Node name for S&R": "PrimitiveString",
        "ttNbgOverride": {
          "bgcolor": "#535",
          "groupcolor": "#a1309b",
          "color": "#323"
        }
      },
      "order": 34
    },
    {
      "outputs": [
        {
          "name": "STRING",
          "links": [
            1172
          ],
          "label": "STRING",
          "type": "STRING",
          "localized_name": "STRING"
        }
      ],
      "color": "#323",
      "widgets_values": [
        "Ghibli"
      ],
      "inputs": [],
      "flags": {
        "collapsed": true
      },
      "type": "PrimitiveString",
      "title": "后缀",
      "mode": 0,
      "bgcolor": "#535",
      "size": [
        315,
        58
      ],
      "pos": [
        -860,
        580
      ],
      "id": 791,
      "properties": {
        "Node name for S&R": "PrimitiveString",
        "ttNbgOverride": {
          "bgcolor": "#535",
          "groupcolor": "#a1309b",
          "color": "#323"
        }
      },
      "order": 35
    },
    {
      "outputs": [
        {
          "name": "*",
          "label": "*",
          "type": "*"
        }
      ],
      "color": "#432",
      "widgets_values": [
        "Name"
      ],
      "inputs": [
        {
          "name": "STRING",
          "link": 1171,
          "label": "STRING",
          "type": "STRING"
        }
      ],
      "flags": {
        "collapsed": true
      },
      "type": "SetNode",
      "title": "Set_STRING",
      "mode": 0,
      "bgcolor": "#653",
      "size": [
        210,
        58
      ],
      "pos": [
        -770,
        540
      ],
      "id": 364,
      "properties": {
        "previousName": ""
      },
      "order": 71
    },
    {
      "outputs": [
        {
          "name": "source_fps🟨",
          "links": [],
          "label": "source_fps🟨",
          "type": "FLOAT",
          "localized_name": "source_fps🟨"
        },
        {
          "name": "source_frame_count🟨",
          "links": [],
          "label": "source_frame_count🟨",
          "type": "INT",
          "localized_name": "source_frame_count🟨"
        },
        {
          "name": "source_duration🟨",
          "links": [],
          "label": "source_duration🟨",
          "type": "FLOAT",
          "localized_name": "source_duration🟨"
        },
        {
          "name": "source_width🟨",
          "label": "source_width🟨",
          "type": "INT",
          "localized_name": "source_width🟨"
        },
        {
          "name": "source_height🟨",
          "label": "source_height🟨",
          "type": "INT",
          "localized_name": "source_height🟨"
        },
        {
          "name": "loaded_fps🟦",
          "links": [
            798,
            1192
          ],
          "label": "loaded_fps🟦",
          "type": "FLOAT",
          "localized_name": "loaded_fps🟦"
        },
        {
          "name": "loaded_frame_count🟦",
          "links": [
            1280
          ],
          "label": "loaded_frame_count🟦",
          "type": "INT",
          "localized_name": "loaded_frame_count🟦"
        },
        {
          "name": "loaded_duration🟦",
          "links": [],
          "label": "loaded_duration🟦",
          "type": "FLOAT",
          "localized_name": "loaded_duration🟦"
        },
        {
          "name": "loaded_width🟦",
          "label": "loaded_width🟦",
          "type": "INT",
          "localized_name": "loaded_width🟦"
        },
        {
          "name": "loaded_height🟦",
          "label": "loaded_height🟦",
          "type": "INT",
          "localized_name": "loaded_height🟦"
        }
      ],
      "color": "#323",
      "widgets_values": {},
      "inputs": [
        {
          "name": "video_info",
          "link": 1314,
          "label": "video_info",
          "type": "VHS_VIDEOINFO",
          "localized_name": "video_info"
        }
      ],
      "flags": {
        "collapsed": true
      },
      "type": "VHS_VideoInfo",
      "mode": 0,
      "bgcolor": "#535",
      "size": [
        262,
        206
      ],
      "pos": [
        -450,
        -400
      ],
      "id": 522,
      "properties": {
        "Node name for S&R": "VHS_VideoInfo",
        "ttNbgOverride": {
          "bgcolor": "#535",
          "groupcolor": "#a1309b",
          "color": "#323"
        }
      },
      "order": 62
    },
    {
      "outputs": [
        {
          "name": "output",
          "label": "output",
          "type": "*",
          "localized_name": "output"
        }
      ],
      "color": "#346434",
      "widgets_values": [
        "Studio Ghibli风格。两个人并排坐着，进行对话。左边的人穿着一件深色夹克在绿色衬衫上，似乎是用富有表现力的手动说话。右边的人穿着黑色夹克，似乎在专心倾听，偶尔瞥了一眼他们的同伴。在背景中，有一张桌子上覆盖着白布，展示了各种香蕉，表明它们可能在市场或商店环境中。环境具有温暖的音调，可能是由于室内照明引起的，它会在受试者周围散布柔和的阴影。气氛感觉随意而放松，这表明两个角色之间的友好互动。"
      ],
      "inputs": [
        {
          "shape": 7,
          "name": "anything",
          "link": 1043,
          "label": "anything",
          "type": "*",
          "localized_name": "anything"
        }
      ],
      "flags": {},
      "type": "easy showAnything",
      "title": "自动提示词结果预览",
      "mode": 0,
      "bgcolor": "rgba(24,24,27,.9)",
      "size": [
        330,
        260
      ],
      "pos": [
        -900,
        200
      ],
      "id": 697,
      "properties": {
        "Node name for S&R": "easy showAnything"
      },
      "order": 53
    },
    {
      "outputs": [],
      "color": "#fff0",
      "shape": 1,
      "inputs": [],
      "flags": {
        "allow_interaction": true
      },
      "type": "Label (rgthree)",
      "title": "载入的视频片段",
      "mode": 0,
      "bgcolor": "#fff0",
      "size": [
        350,
        50
      ],
      "pos": [
        -480,
        -730
      ],
      "id": 733,
      "properties": {
        "padding": 0,
        "backgroundColor": "transparent",
        "fontFamily": "Arial",
        "borderRadius": 0,
        "textAlign": "left",
        "fontSize": 50,
        "fontColor": "#ffffff"
      },
      "order": 36
    },
    {
      "outputs": [
        {
          "name": "positive",
          "links": [
            1042
          ],
          "label": "positive",
          "type": "STRING",
          "localized_name": "positive"
        }
      ],
      "color": "#346434",
      "widgets_values": [
        "Studio Ghibli风格。一个人在特写镜头中被捕获，在户外，有树木和建筑物的带有城市背景。个人似乎在说话或对某事反应。他们穿着黑色外套在深色上衣上，与较轻的背景形成鲜明对比。环境建议白天设置自然光，均匀地照亮了场景，突出了主题的功能而没有刺耳的阴影。相机没有明显的运动。它在整个序列中仍然保持静态，重点是捕捉人的面部表情和上半身。"
      ],
      "inputs": [],
      "flags": {},
      "type": "easy positive",
      "title": "手动提示词",
      "mode": 0,
      "bgcolor": "rgba(24,24,27,.9)",
      "size": [
        330,
        240
      ],
      "pos": [
        -900,
        -100
      ],
      "id": 695,
      "properties": {
        "Node name for S&R": "easy positive"
      },
      "order": 37
    },
    {
      "outputs": [
        {
          "name": "context_options",
          "links": [
            1308
          ],
          "label": "context_options",
          "type": "WANVIDCONTEXT",
          "localized_name": "context_options"
        }
      ],
      "color": "#323",
      "widgets_values": [
        "uniform_standard",
        81,
        4,
        16,
        true,
        false
      ],
      "inputs": [
        {
          "shape": 7,
          "name": "vae",
          "label": "vae",
          "type": "WANVAE",
          "localized_name": "vae"
        }
      ],
      "flags": {},
      "type": "WanVideoContextOptions",
      "mode": 4,
      "bgcolor": "#535",
      "size": [
        312.1015625,
        226
      ],
      "pos": [
        6520,
        1050
      ],
      "id": 896,
      "properties": {
        "Node name for S&R": "WanVideoContextOptions",
        "ttNbgOverride": {
          "bgcolor": "#535",
          "groupcolor": "#a1309b",
          "color": "#323"
        }
      },
      "order": 38
    },
    {
      "outputs": [],
      "color": "#a21515",
      "widgets_values": [
        "# Wan 吉卜力视频转绘-批量\n\n生成吉卜力风格视频转绘\n\n具体参考视频：\n\n## 用法1：\n1. 载入你的视频片段\n2. 设置分辨率大小  \n4. 生成即可\n\n## 功能：\n1. 手动提示词： 手动输入提示词\n2. 自动提示词： 自动反推视频的信息 \n\n## 参数：\n\n\n1. 随机种子：改变随机种子会改变生成结果\n2. 限制分辨率：图片\\视频的最大的宽高不会超过设置的值 另一边会等比的缩放\n\n3. **视频帧数**： 固定视频的帧数 设置0就是用默认视频的帧数\n4. **载入的视频**节点：\n    1. force_rate:设置视频的帧数 \n    2. frame_load_cap： 设置 生成视频的时长（帧）这里根据视频模型来设置 例如wan2.1官方例子生成时长为81帧 每秒帧数是16 最后出来的是5秒视频 \n    3. skip_first_frames： 跳过视频开头X帧 \n6. 手动提示词： 控制生成图片\\视频的词 根据上传的图片输入合理的描述\n\n\n\n## 注意：\n因为用wan模型生成 最高帧数只能81帧 16帧每秒也就是生成5秒的视频 超过81帧就需要开启 **WanVideo Context Options**这个节点 但会非常吃内存\n\n所以这是一个缺憾 另外生成低于11帧的时 也会出现不良结果 \n\n后续再研究研究解决方法\n\n1. 保存位置 \n\n视频将会保存到“output/视频” 文件夹里面\n\n2. 视频加速\n\n如果你comfyui没有安装triton 和sageattn 那么请把\nwan2.1图生视频的 **WanVideo Torch Compile Settings** 删掉\n把 **WanVideo Model Loader**的**attention_mode** 改成sdpa\n否则会出错\n\n如果你显存低生成不了 可以在**WanVideo BlockSwap** 设置 blocks_to_swap 到30~40 这样虽然慢一点 但是起码能生成"
      ],
      "inputs": [],
      "flags": {},
      "type": "MarkdownNote",
      "title": "使用前先看！！！！！！！！！！！",
      "mode": 0,
      "bgcolor": "#8e0101",
      "size": [
        940,
        1040
      ],
      "pos": [
        -1880,
        -280
      ],
      "id": 409,
      "properties": {},
      "order": 39
    },
    {
      "outputs": [
        {
          "name": "INT",
          "links": [
            1089
          ],
          "label": "INT",
          "type": "INT"
        }
      ],
      "color": "#1b4669",
      "widgets_values": [
        "seed"
      ],
      "inputs": [],
      "flags": {},
      "type": "GetNode",
      "title": "Get_seed",
      "mode": 0,
      "bgcolor": "#29699c",
      "size": [
        210,
        58
      ],
      "pos": [
        2710,
        90
      ],
      "id": 737,
      "properties": {},
      "order": 40
    },
    {
      "outputs": [
        {
          "name": "image",
          "links": [
            1117
          ],
          "label": "image",
          "type": "IMAGE",
          "localized_name": "image"
        },
        {
          "name": "width",
          "links": [
            751
          ],
          "label": "width",
          "type": "INT",
          "localized_name": "width"
        },
        {
          "name": "height",
          "links": [
            752
          ],
          "label": "height",
          "type": "INT",
          "localized_name": "height"
        },
        {
          "name": "count",
          "links": [
            753
          ],
          "label": "count",
          "type": "INT",
          "localized_name": "count"
        }
      ],
      "color": "#323",
      "widgets_values": [],
      "inputs": [
        {
          "name": "image",
          "link": 1330,
          "label": "image",
          "type": "IMAGE",
          "localized_name": "image"
        }
      ],
      "flags": {},
      "type": "GetImageSizeAndCount",
      "mode": 0,
      "bgcolor": "#535",
      "size": [
        277.20001220703125,
        86
      ],
      "pos": [
        5990,
        640
      ],
      "id": 484,
      "properties": {
        "Node name for S&R": "GetImageSizeAndCount",
        "ttNbgOverride": {
          "bgcolor": "#535",
          "groupcolor": "#a1309b",
          "color": "#323"
        }
      },
      "order": 74
    },
    {
      "outputs": [
        {
          "name": "STRING",
          "links": [
            1167
          ],
          "label": "STRING",
          "type": "STRING",
          "localized_name": "STRING"
        }
      ],
      "color": "#c09430",
      "widgets_values": [
        "Name"
      ],
      "inputs": [],
      "flags": {},
      "type": "PrimitiveString",
      "title": "图片的名称 保存到“output/视频” 文件夹里面",
      "mode": 0,
      "bgcolor": "rgba(24,24,27,.9)",
      "size": [
        320,
        80
      ],
      "pos": [
        -900,
        520
      ],
      "id": 694,
      "properties": {
        "Node name for S&R": "PrimitiveString"
      },
      "order": 41
    },
    {
      "outputs": [
        {
          "name": "IMAGE",
          "links": [
            944,
            1333
          ],
          "label": "IMAGE",
          "type": "IMAGE",
          "localized_name": "IMAGE"
        }
      ],
      "color": "#323",
      "widgets_values": [
        "depth_anything_v2_vitl.pth",
        512
      ],
      "inputs": [
        {
          "name": "image",
          "link": 788,
          "label": "image",
          "type": "IMAGE",
          "localized_name": "image"
        },
        {
          "widget": {
            "name": "resolution"
          },
          "shape": 7,
          "name": "resolution",
          "link": 938,
          "label": "resolution",
          "type": "INT"
        }
      ],
      "flags": {},
      "type": "DepthAnythingV2Preprocessor",
      "mode": 0,
      "bgcolor": "#535",
      "size": [
        320,
        82
      ],
      "pos": [
        4620,
        860
      ],
      "id": 518,
      "properties": {
        "Node name for S&R": "DepthAnythingV2Preprocessor",
        "ttNbgOverride": {
          "bgcolor": "#535",
          "groupcolor": "#a1309b",
          "color": "#323"
        }
      },
      "order": 63
    },
    {
      "outputs": [
        {
          "name": "lora",
          "links": [
            854
          ],
          "label": "lora",
          "type": "WANVIDLORA",
          "localized_name": "lora"
        }
      ],
      "color": "#323",
      "widgets_values": [
        "吉卜力风格-1.3B.safetensors",
        0.8,
        false
      ],
      "inputs": [
        {
          "shape": 7,
          "name": "prev_lora",
          "label": "prev_lora",
          "type": "WANVIDLORA",
          "localized_name": "prev_lora"
        },
        {
          "shape": 7,
          "name": "blocks",
          "label": "blocks",
          "type": "SELECTEDBLOCKS",
          "localized_name": "blocks"
        }
      ],
      "flags": {},
      "type": "WanVideoLoraSelect",
      "mode": 0,
      "bgcolor": "#535",
      "size": [
        315,
        126
      ],
      "pos": [
        6040,
        -90
      ],
      "id": 553,
      "properties": {
        "Node name for S&R": "WanVideoLoraSelect",
        "ttNbgOverride": {
          "bgcolor": "#535",
          "groupcolor": "#a1309b",
          "color": "#323"
        }
      },
      "order": 42
    },
    {
      "outputs": [
        {
          "name": "model",
          "links": [
            720
          ],
          "label": "model",
          "type": "WANVIDEOMODEL",
          "localized_name": "model"
        }
      ],
      "color": "#422342",
      "widgets_values": [
        "Wan2_1-T2V-1_3B_bf16.safetensors",
        "bf16",
        "disabled",
        "offload_device",
        "sageattn"
      ],
      "inputs": [
        {
          "shape": 7,
          "name": "compile_args",
          "link": 730,
          "label": "compile_args",
          "type": "WANCOMPILEARGS",
          "localized_name": "compile_args"
        },
        {
          "shape": 7,
          "name": "block_swap_args",
          "link": 731,
          "label": "block_swap_args",
          "type": "BLOCKSWAPARGS",
          "localized_name": "block_swap_args"
        },
        {
          "shape": 7,
          "name": "lora",
          "link": 854,
          "label": "lora",
          "type": "WANVIDLORA",
          "localized_name": "lora"
        },
        {
          "shape": 7,
          "name": "vram_management_args",
          "label": "vram_management_args",
          "type": "VRAM_MANAGEMENTARGS",
          "localized_name": "vram_management_args"
        },
        {
          "shape": 7,
          "name": "vace_model",
          "link": 732,
          "label": "vace_model",
          "type": "VACEPATH",
          "localized_name": "vace_model"
        },
        {
          "shape": 7,
          "name": "fantasytalking_model",
          "label": "fantasytalking_model",
          "type": "FANTASYTALKINGMODEL",
          "localized_name": "fantasytalking_model"
        }
      ],
      "flags": {},
      "type": "WanVideoModelLoader",
      "mode": 0,
      "bgcolor": "rgba(24,24,27,.9)",
      "size": [
        401.1031188964844,
        254
      ],
      "pos": [
        6410,
        -310
      ],
      "id": 471,
      "properties": {
        "cnr_id": "ComfyUI-WanVideoWrapper",
        "ver": "209c65ba41993c7a9425697f217990df9d13d6d2",
        "Node name for S&R": "WanVideoModelLoader"
      },
      "order": 58
    },
    {
      "outputs": [
        {
          "name": "wan_t5_model",
          "links": [
            718
          ],
          "label": "wan_t5_model",
          "type": "WANTEXTENCODER",
          "localized_name": "wan_t5_model"
        }
      ],
      "color": "#422342",
      "widgets_values": [
        "umt5-xxl-enc-bf16.safetensors",
        "bf16",
        "offload_device",
        "fp8_e4m3fn"
      ],
      "inputs": [],
      "flags": {},
      "type": "LoadWanVideoT5TextEncoder",
      "mode": 0,
      "bgcolor": "rgba(24,24,27,.9)",
      "size": [
        352.79998779296875,
        130
      ],
      "pos": [
        6450,
        0
      ],
      "id": 462,
      "properties": {
        "cnr_id": "ComfyUI-WanVideoWrapper",
        "ver": "209c65ba41993c7a9425697f217990df9d13d6d2",
        "Node name for S&R": "LoadWanVideoT5TextEncoder"
      },
      "order": 43
    },
    {
      "outputs": [
        {
          "name": "vae",
          "links": [
            734,
            748
          ],
          "label": "vae",
          "type": "WANVAE",
          "localized_name": "vae"
        }
      ],
      "color": "#422342",
      "widgets_values": [
        "Wan2_1_VAE_bf16.safetensors",
        "bf16"
      ],
      "inputs": [],
      "flags": {},
      "type": "WanVideoVAELoader",
      "mode": 0,
      "bgcolor": "rgba(24,24,27,.9)",
      "size": [
        300,
        82
      ],
      "pos": [
        6500,
        220
      ],
      "id": 473,
      "properties": {
        "cnr_id": "ComfyUI-WanVideoWrapper",
        "ver": "b415fe78f152e3361b6e37e47074c1a0dc386a8e",
        "Node name for S&R": "WanVideoVAELoader"
      },
      "order": 44
    },
    {
      "outputs": [
        {
          "name": "IMAGE",
          "links": [
            949,
            1325
          ],
          "label": "IMAGE",
          "type": "IMAGE"
        }
      ],
      "color": "#006691",
      "widgets_values": [
        "init_video"
      ],
      "inputs": [],
      "flags": {},
      "type": "GetNode",
      "title": "Get_init_video",
      "mode": 0,
      "bgcolor": "rgba(24,24,27,.9)",
      "size": [
        210,
        60
      ],
      "pos": [
        2710,
        -280
      ],
      "id": 602,
      "properties": {},
      "order": 45
    },
    {
      "outputs": [
        {
          "name": "vace_model",
          "links": [
            732
          ],
          "label": "vace_model",
          "type": "VACEPATH",
          "localized_name": "vace_model"
        }
      ],
      "color": "#422342",
      "widgets_values": [
        "VACE-Wan2.1-1.3B-Preview.safetensors",
        "0, 2, 4, 6, 8, 10, 12, 14, 16, 18, 20, 22, 24, 26, 28"
      ],
      "inputs": [],
      "flags": {},
      "type": "WanVideoVACEModelSelect",
      "mode": 0,
      "bgcolor": "rgba(24,24,27,.9)",
      "size": [
        400,
        200
      ],
      "pos": [
        5980,
        90
      ],
      "id": 461,
      "properties": {
        "cnr_id": "ComfyUI-WanVideoWrapper",
        "ver": "78559ef1f4462e57fec77dd6a0c2315da08f6f1f",
        "Node name for S&R": "WanVideoVACEModelSelect"
      },
      "order": 46
    },
    {
      "outputs": [
        {
          "name": "text",
          "links": [
            1326
          ],
          "label": "text",
          "type": "STRING",
          "localized_name": "text"
        }
      ],
      "color": "#323",
      "widgets_values": [
        "auto",
        "en",
        false,
        "Manual Trasnlate",
        ""
      ],
      "inputs": [
        {
          "widget": {
            "name": "text"
          },
          "name": "text",
          "link": 1045,
          "label": "text",
          "type": "STRING"
        }
      ],
      "flags": {},
      "type": "GoogleTranslateTextNode",
      "mode": 0,
      "bgcolor": "#535",
      "size": [
        400,
        200
      ],
      "pos": [
        3720,
        -800
      ],
      "id": 692,
      "properties": {
        "Node name for S&R": "GoogleTranslateTextNode",
        "ttNbgOverride": {
          "bgcolor": "#535",
          "groupcolor": "#a1309b",
          "color": "#323"
        }
      },
      "order": 52
    },
    {
      "outputs": [
        {
          "name": "STRING",
          "links": [
            1327
          ],
          "label": "STRING",
          "type": "STRING",
          "localized_name": "STRING"
        }
      ],
      "color": "#323",
      "widgets_values": [
        "Create a very detailed description for this scene. Do not use numbered lists or line breaks. Important: The output description must always start with the unmodified phrase \"Studio Ghibli style\", followed by your detailed description.\n# Description should:\nThe detailed description of the character includes their clothing, hairstyle, and the items they are holding, etc\n2) Describe the main content of the scene, 2) Describe the details of the environment and lighting\n3) Determine the type of shot, for example, aerial shot, close-up, medium shot, and long shot\n4) Including the scene atmosphere (for example, comfortable, tense, mysterious\nNote: If there are no characters, omit 1)\n# Here is a template that you must use:\n\"Studio Ghibli style.\" {Main subject action/Description}. {Environmental and Lighting details}. {Style and Technical Specifications}.",
        "MiniCPM-V-2_6-int4",
        false,
        0.8,
        100,
        0.7,
        1.05,
        2048,
        64,
        1,
        1791,
        "randomize"
      ],
      "inputs": [
        {
          "shape": 7,
          "name": "source_video_path",
          "label": "source_video_path",
          "type": "PATH",
          "localized_name": "source_video_path"
        },
        {
          "widget": {
            "name": "video_max_num_frames"
          },
          "name": "video_max_num_frames",
          "link": 1065,
          "label": "video_max_num_frames",
          "type": "INT"
        },
        {
          "widget": {
            "name": "seed"
          },
          "name": "seed",
          "link": 1089,
          "label": "seed",
          "type": "INT"
        },
        {
          "shape": 7,
          "name": "source_image_path",
          "link": 1325,
          "label": "source_image_path",
          "type": "IMAGE",
          "localized_name": "source_image_path"
        }
      ],
      "flags": {},
      "type": "MiniCPM_VQA_Polished",
      "mode": 0,
      "bgcolor": "#535",
      "size": [
        430,
        500
      ],
      "pos": [
        3010,
        -330
      ],
      "id": 720,
      "properties": {
        "Node name for S&R": "MiniCPM_VQA_Polished",
        "ttNbgOverride": {
          "bgcolor": "#535",
          "groupcolor": "#a1309b",
          "color": "#323"
        }
      },
      "order": 65
    },
    {
      "outputs": [
        {
          "name": "value",
          "links": [
            1328
          ],
          "label": "value",
          "type": "*",
          "localized_name": "value"
        }
      ],
      "color": "#323",
      "widgets_values": [
        0
      ],
      "inputs": [
        {
          "shape": 7,
          "name": "value0",
          "link": 1326,
          "label": "value0",
          "type": "*",
          "localized_name": "value0"
        },
        {
          "shape": 7,
          "name": "value1",
          "link": 1327,
          "label": "value1",
          "type": "*",
          "localized_name": "value1"
        },
        {
          "name": "value2",
          "label": "value2",
          "type": "*"
        },
        {
          "widget": {
            "name": "index"
          },
          "name": "index",
          "link": 1329,
          "label": "index",
          "type": "INT"
        },
        {
          "name": "value3",
          "label": "value3",
          "type": "*"
        },
        {
          "name": "value4",
          "label": "value4",
          "type": "*"
        }
      ],
      "flags": {},
      "type": "easy anythingIndexSwitch",
      "mode": 0,
      "bgcolor": "#535",
      "size": [
        315,
        150
      ],
      "pos": [
        4218.26904296875,
        -380.2679748535156
      ],
      "id": 901,
      "properties": {
        "Node name for S&R": "easy anythingIndexSwitch",
        "ttNbgOverride": {
          "bgcolor": "#535",
          "groupcolor": "#a1309b",
          "color": "#323"
        }
      },
      "order": 72
    },
    {
      "outputs": [
        {
          "name": "int",
          "links": [
            1329
          ],
          "label": "int",
          "type": "INT",
          "localized_name": "int"
        }
      ],
      "color": "#323",
      "widgets_values": [
        1
      ],
      "inputs": [],
      "flags": {},
      "type": "easy int",
      "title": "0手动 1为自动",
      "mode": 0,
      "bgcolor": "#535",
      "size": [
        315,
        58
      ],
      "pos": [
        -891.4650268554688,
        -236.4536590576172
      ],
      "id": 902,
      "properties": {
        "Node name for S&R": "easy int",
        "ttNbgOverride": {
          "bgcolor": "#535",
          "groupcolor": "#a1309b",
          "color": "#323"
        }
      },
      "order": 47
    },
    {
      "outputs": [
        {
          "name": "seed",
          "slot_index": 0,
          "links": [
            631
          ],
          "label": "seed",
          "type": "INT",
          "localized_name": "seed"
        }
      ],
      "color": "#c09430",
      "widgets_values": [
        43,
        "randomize",
        null
      ],
      "inputs": [],
      "flags": {},
      "type": "easy seed",
      "mode": 0,
      "bgcolor": "rgba(24,24,27,.9)",
      "size": [
        310,
        106
      ],
      "pos": [
        -890,
        -540
      ],
      "id": 410,
      "properties": {
        "Node name for S&R": "easy seed"
      },
      "order": 48
    },
    {
      "outputs": [
        {
          "name": "int",
          "slot_index": 0,
          "links": [
            1090
          ],
          "label": "int",
          "type": "INT",
          "localized_name": "int"
        }
      ],
      "color": "#006691",
      "widgets_values": [
        832
      ],
      "inputs": [],
      "flags": {
        "collapsed": false
      },
      "type": "easy int",
      "title": "限制分辨率",
      "mode": 0,
      "bgcolor": "rgba(24,24,27,.9)",
      "size": [
        310,
        58
      ],
      "pos": [
        -892.0733642578125,
        -369.63311767578125
      ],
      "id": 426,
      "properties": {
        "Node name for S&R": "easy int"
      },
      "order": 49
    },
    {
      "outputs": [
        {
          "name": "IMAGE",
          "links": [
            1315
          ],
          "label": "IMAGE",
          "type": "IMAGE",
          "localized_name": "IMAGE"
        },
        {
          "name": "frame_count",
          "label": "frame_count",
          "type": "INT",
          "localized_name": "frame_count"
        },
        {
          "name": "audio",
          "links": [
            1316,
            1317
          ],
          "label": "audio",
          "type": "AUDIO",
          "localized_name": "audio"
        },
        {
          "name": "video_info",
          "links": [
            1314
          ],
          "label": "video_info",
          "type": "VHS_VIDEOINFO",
          "localized_name": "video_info"
        }
      ],
      "color": "#422342",
      "widgets_values": {
        "custom_height": 0,
        "force_rate": 16,
        "custom_width": 0,
        "select_every_nth": 1,
        "frame_load_cap": 81,
        "videopreview": {
          "paused": false,
          "hidden": false,
          "params": {
            "custom_height": 0,
            "filename": "19aabf73c9d37a252367861f829f533e90d2b10cb7eac91e2270b76721f18171.mp4",
            "force_rate": 16,
            "custom_width": 0,
            "select_every_nth": 1,
            "frame_load_cap": 81,
            "format": "video/mp4",
            "skip_first_frames": 0,
            "type": "input"
          }
        },
        "format": "AnimateDiff",
        "video": "19aabf73c9d37a252367861f829f533e90d2b10cb7eac91e2270b76721f18171.mp4",
        "skip_first_frames": 0,
        "force_size": "Disabled",
        "choose video to upload": "image"
      },
      "inputs": [
        {
          "shape": 7,
          "name": "meta_batch",
          "label": "meta_batch",
          "type": "VHS_BatchManager",
          "localized_name": "meta_batch"
        },
        {
          "shape": 7,
          "name": "vae",
          "label": "vae",
          "type": "VAE",
          "localized_name": "vae"
        }
      ],
      "flags": {},
      "type": "VHS_LoadVideo",
      "title": "载入的视频",
      "mode": 0,
      "bgcolor": "rgba(24,24,27,.9)",
      "size": [
        500,
        618
      ],
      "pos": [
        -540,
        -540
      ],
      "id": 897,
      "properties": {
        "Node name for S&R": "VHS_LoadVideo"
      },
      "order": 50
    },
    {
      "outputs": [
        {
          "name": "INT",
          "links": [
            938,
            1331,
            1332
          ],
          "label": "INT",
          "type": "INT"
        }
      ],
      "color": "#1b4669",
      "widgets_values": [
        "size"
      ],
      "inputs": [],
      "flags": {},
      "type": "GetNode",
      "title": "Get_size",
      "mode": 0,
      "bgcolor": "#29699c",
      "size": [
        210,
        58
      ],
      "pos": [
        4310,
        740
      ],
      "id": 584,
      "properties": {},
      "order": 51
    },
    {
      "outputs": [
        {
          "name": "IMAGE",
          "links": [
            1330
          ],
          "label": "IMAGE",
          "type": "IMAGE",
          "localized_name": "IMAGE"
        },
        {
          "name": "width",
          "label": "width",
          "type": "INT",
          "localized_name": "width"
        },
        {
          "name": "height",
          "label": "height",
          "type": "INT",
          "localized_name": "height"
        }
      ],
      "color": "#323",
      "widgets_values": [
        512,
        512,
        "lanczos",
        "resize",
        "0, 0, 0",
        "center",
        2
      ],
      "inputs": [
        {
          "name": "image",
          "link": 1333,
          "label": "image",
          "type": "IMAGE",
          "localized_name": "image"
        },
        {
          "widget": {
            "name": "width"
          },
          "name": "width",
          "link": 1331,
          "type": "INT"
        },
        {
          "widget": {
            "name": "height"
          },
          "name": "height",
          "link": 1332,
          "type": "INT"
        }
      ],
      "flags": {},
      "type": "ImageResizeKJv2",
      "mode": 0,
      "bgcolor": "#535",
      "size": [
        315,
        242
      ],
      "pos": [
        5000.28564453125,
        626.5077514648438
      ],
      "id": 903,
      "properties": {
        "Node name for S&R": "ImageResizeKJv2",
        "ttNbgOverride": {
          "bgcolor": "#535",
          "groupcolor": "#a1309b",
          "color": "#323"
        }
      },
      "order": 70
    }
  ],
  "extra": {
    "VHS_KeepIntermediate": true,
    "workspace_info": {
      "id": "4wRInKe0h6xtZkYTu7uQk"
    },
    "VHS_MetadataImage": true,
    "ue_links": [],
    "0246.VERSION": [
      0,
      0,
      4
    ],
    "VHS_latentpreviewrate": 0,
    "frontendVersion": "1.18.6",
    "VHS_latentpreview": false,
    "node_versions": {
      "rgthree-comfy": "cb3612624037ad50d76a8caf44ed58694648e245",
      "comfyui_controlnet_aux": "1.0.6",
      "ComfyUI-WanVideoWrapper": "fc7ab666a2087b0ba41a0692f813b332665ffd43",
      "comfyui-easy-use": "a3f487c822100d69fb37ea267e3da115ba40049f",
      "comfyui-videohelpersuite": "972c87da577b47211c4e9aeed30dc38c7bae607f",
      "comfyui_custom_nodes_alekpet": "c53e9c3c2f8927406aa5819e3589337a70a76f29",
      "comfyui-kjnodes": "c3dc82108a2a86c17094107ead61d63f8c76200e",
      "comfy-core": "0.3.31",
      "comfyui_essentials": "33ff89fd354d8ec3ab6affb605a79a931b445d99",
      "ComfyUI_MiniCPM-V-2_6-int4": "763f95133a95b611977efaa05ad654ff410670a9"
    },
    "ds": {
      "offset": [
        -4452.347960295243,
        634.9466189244764
      ],
      "scale": 0.6588450000000009
    }
  },
  "groups": [
    {
      "color": "#3f789e",
      "font_size": 50,
      "flags": {},
      "id": 6,
      "title": "工作区",
      "bounding": [
        -920,
        -660,
        2700,
        1370
      ]
    },
    {
      "color": "#b58b2a",
      "font_size": 200,
      "flags": {},
      "id": 7,
      "title": "Wan 吉卜力视频转绘  按数字1跳转到工作区",
      "bounding": [
        -1450,
        -1340,
        4840,
        290
      ]
    },
    {
      "color": "#a1309b",
      "font_size": 24,
      "flags": {},
      "id": 10,
      "title": "采样",
      "bounding": [
        5940,
        -680,
        2220,
        2200
      ]
    },
    {
      "color": "#3f789e",
      "font_size": 24,
      "flags": {},
      "id": 8,
      "title": "模型载入",
      "bounding": [
        5950,
        -640,
        871.1031494140625,
        955.5999755859375
      ]
    },
    {
      "color": "#3f789e",
      "font_size": 24,
      "flags": {},
      "id": 19,
      "title": "2图横向组合",
      "bounding": [
        8650,
        80,
        1070,
        570
      ]
    },
    {
      "color": "#3f789e",
      "font_size": 24,
      "flags": {},
      "id": 20,
      "title": "自动提示词",
      "bounding": [
        2680,
        -560,
        1490,
        983.5999755859375
      ]
    },
    {
      "color": "#3f789e",
      "font_size": 24,
      "flags": {},
      "id": 21,
      "title": "手动提示词",
      "bounding": [
        3440,
        -870,
        690,
        283.6000061035156
      ]
    },
    {
      "color": "#3f789e",
      "font_size": 24,
      "flags": {},
      "id": 22,
      "title": "Controlnet",
      "bounding": [
        4290,
        540,
        1080,
        740
      ]
    }
  ],
  "links": [
    [
      631,
      410,
      0,
      362,
      0,
      "*"
    ],
    [
      647,
      402,
      0,
      404,
      0,
      "IMAGE"
    ],
    [
      651,
      385,
      0,
      413,
      0,
      "IMAGE"
    ],
    [
      718,
      462,
      0,
      463,
      0,
      "WANTEXTENCODER"
    ],
    [
      719,
      475,
      0,
      463,
      2,
      "STRING"
    ],
    [
      720,
      471,
      0,
      464,
      0,
      "WANVIDEOMODEL"
    ],
    [
      721,
      463,
      0,
      464,
      1,
      "WANVIDEOTEXTEMBEDS"
    ],
    [
      722,
      487,
      0,
      464,
      2,
      "WANVIDIMAGE_EMBEDS"
    ],
    [
      723,
      476,
      0,
      464,
      4,
      "FETAARGS"
    ],
    [
      724,
      452,
      0,
      464,
      6,
      "TEACACHEARGS"
    ],
    [
      725,
      465,
      0,
      464,
      8,
      "SLGARGS"
    ],
    [
      726,
      453,
      0,
      464,
      10,
      "EXPERIMENTALARGS"
    ],
    [
      727,
      454,
      0,
      464,
      13,
      "INT"
    ],
    [
      730,
      450,
      0,
      471,
      0,
      "WANCOMPILEARGS"
    ],
    [
      731,
      451,
      0,
      471,
      1,
      "BLOCKSWAPARGS"
    ],
    [
      732,
      461,
      0,
      471,
      4,
      "VACEPATH"
    ],
    [
      734,
      473,
      0,
      474,
      0,
      "WANVAE"
    ],
    [
      735,
      464,
      0,
      474,
      1,
      "LATENT"
    ],
    [
      748,
      473,
      0,
      487,
      0,
      "WANVAE"
    ],
    [
      751,
      484,
      1,
      487,
      5,
      "INT"
    ],
    [
      752,
      484,
      2,
      487,
      6,
      "INT"
    ],
    [
      753,
      484,
      3,
      487,
      7,
      "INT"
    ],
    [
      788,
      514,
      0,
      518,
      0,
      "IMAGE"
    ],
    [
      798,
      522,
      5,
      413,
      4,
      "FLOAT,INT"
    ],
    [
      827,
      535,
      0,
      537,
      0,
      "IMAGE"
    ],
    [
      828,
      536,
      0,
      537,
      2,
      "STRING"
    ],
    [
      854,
      553,
      0,
      471,
      2,
      "WANVIDLORA"
    ],
    [
      919,
      474,
      0,
      593,
      0,
      "*"
    ],
    [
      938,
      584,
      0,
      518,
      1,
      "INT"
    ],
    [
      944,
      518,
      0,
      599,
      0,
      "IMAGE"
    ],
    [
      949,
      602,
      0,
      605,
      0,
      "IMAGE"
    ],
    [
      1042,
      695,
      0,
      696,
      0,
      "*"
    ],
    [
      1043,
      698,
      0,
      697,
      0,
      "*"
    ],
    [
      1045,
      700,
      0,
      692,
      0,
      "STRING"
    ],
    [
      1047,
      405,
      0,
      699,
      0,
      "STRING"
    ],
    [
      1048,
      699,
      0,
      701,
      0,
      "*"
    ],
    [
      1065,
      605,
      2,
      720,
      1,
      "INT"
    ],
    [
      1073,
      537,
      0,
      499,
      0,
      "IMAGE"
    ],
    [
      1076,
      405,
      0,
      725,
      0,
      "*"
    ],
    [
      1089,
      737,
      0,
      720,
      2,
      "INT"
    ],
    [
      1090,
      426,
      0,
      532,
      0,
      "INT"
    ],
    [
      1098,
      599,
      0,
      742,
      0,
      "IMAGE"
    ],
    [
      1117,
      484,
      0,
      487,
      1,
      "IMAGE"
    ],
    [
      1151,
      376,
      0,
      413,
      5,
      "STRING"
    ],
    [
      1166,
      788,
      0,
      787,
      0,
      "STRING"
    ],
    [
      1167,
      694,
      0,
      787,
      1,
      "STRING"
    ],
    [
      1170,
      787,
      0,
      790,
      0,
      "STRING"
    ],
    [
      1171,
      790,
      0,
      364,
      0,
      "STRING"
    ],
    [
      1172,
      791,
      0,
      790,
      1,
      "STRING"
    ],
    [
      1174,
      783,
      0,
      404,
      5,
      "STRING"
    ],
    [
      1185,
      597,
      0,
      535,
      0,
      "IMAGE"
    ],
    [
      1186,
      593,
      0,
      535,
      1,
      "IMAGE"
    ],
    [
      1192,
      522,
      5,
      404,
      4,
      "FLOAT,INT"
    ],
    [
      1280,
      522,
      6,
      861,
      0,
      "*"
    ],
    [
      1308,
      896,
      0,
      464,
      5,
      "WANVIDCONTEXT"
    ],
    [
      1314,
      897,
      3,
      522,
      0,
      "VHS_VIDEOINFO"
    ],
    [
      1315,
      897,
      0,
      524,
      0,
      "IMAGE"
    ],
    [
      1316,
      897,
      2,
      404,
      1,
      "AUDIO"
    ],
    [
      1317,
      897,
      2,
      413,
      1,
      "AUDIO"
    ],
    [
      1325,
      602,
      0,
      720,
      3,
      "IMAGE"
    ],
    [
      1326,
      692,
      0,
      901,
      0,
      "*"
    ],
    [
      1327,
      720,
      0,
      901,
      1,
      "*"
    ],
    [
      1328,
      901,
      0,
      405,
      0,
      "STRING"
    ],
    [
      1329,
      902,
      0,
      901,
      3,
      "INT"
    ],
    [
      1330,
      903,
      0,
      484,
      0,
      "IMAGE"
    ],
    [
      1331,
      584,
      0,
      903,
      1,
      "INT"
    ],
    [
      1332,
      584,
      0,
      903,
      2,
      "INT"
    ],
    [
      1333,
      518,
      0,
      903,
      0,
      "IMAGE"
    ]
  ],
  "id": "e6ecdc6c-ee25-4a4a-8521-6e72f631614e",
  "config": {},
  "version": 0.4,
  "last_node_id": 903,
  "revision": 0
}