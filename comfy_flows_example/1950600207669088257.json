{
  "last_link_id": 88,
  "nodes": [
    {
      "outputs": [
        {
          "name": "BOOLEAN",
          "links": [
            55
          ],
          "label": "BOOLEAN",
          "type": "BOOLEAN",
          "localized_name": "布尔"
        }
      ],
      "color": "#232",
      "widgets_values": [
        true
      ],
      "inputs": [
        {
          "widget": {
            "name": "value"
          },
          "name": "value",
          "label": "value",
          "type": "BOOLEAN",
          "localized_name": "值"
        }
      ],
      "flags": {},
      "type": "PrimitiveBoolean",
      "mode": 0,
      "bgcolor": "#353",
      "size": [
        842.4104614257812,
        115.2003173828125
      ],
      "pos": [
        -496.1806945800781,
        821.6521606445312
      ],
      "id": 49,
      "properties": {
        "widget_ue_connectable": {},
        "Node name for S&R": "PrimitiveBoolean"
      },
      "order": 0
    },
    {
      "outputs": [],
      "color": "#323",
      "widgets_values": [
        "是否开启提示词自动润色\n\ntrue 开启     false 关闭"
      ],
      "inputs": [],
      "flags": {},
      "type": "Note",
      "mode": 0,
      "bgcolor": "#535",
      "size": [
        226.42108154296875,
        97.12281036376953
      ],
      "pos": [
        406.3481750488281,
        828.6327514648438
      ],
      "id": 46,
      "properties": {
        "widget_ue_connectable": {}
      },
      "order": 1
    },
    {
      "outputs": [
        {
          "name": "INT",
          "links": [
            70
          ],
          "label": "INT",
          "type": "INT",
          "localized_name": "整数"
        }
      ],
      "color": "#232",
      "widgets_values": [
        5
      ],
      "inputs": [
        {
          "widget": {
            "name": "Value"
          },
          "name": "Value",
          "label": "Value",
          "type": "FLOAT",
          "localized_name": "Value"
        }
      ],
      "flags": {},
      "type": "DF_Integer",
      "title": "时长",
      "mode": 0,
      "bgcolor": "#353",
      "size": [
        1175.6346435546875,
        120.77908325195312
      ],
      "pos": [
        -510.9403991699219,
        1509.433349609375
      ],
      "id": 62,
      "properties": {
        "widget_ue_connectable": {},
        "Node name for S&R": "DF_Integer"
      },
      "order": 2
    },
    {
      "outputs": [],
      "color": "#323",
      "widgets_values": [
        "默认8，可快速生图，\n增加步数至20及以上，可提升画面质量"
      ],
      "inputs": [],
      "flags": {},
      "type": "Note",
      "mode": 0,
      "bgcolor": "#535",
      "size": [
        322.7285461425781,
        177.3123779296875
      ],
      "pos": [
        337.91082763671875,
        1917.543701171875
      ],
      "id": 64,
      "properties": {
        "widget_ue_connectable": {}
      },
      "order": 3
    },
    {
      "outputs": [
        {
          "name": "model",
          "slot_index": 0,
          "links": [
            1
          ],
          "label": "model",
          "type": "WANVIDEOMODEL",
          "localized_name": "model"
        }
      ],
      "color": "#223",
      "widgets_values": [
        "Wan2_2-T2V-A14B_HIGH_fp8_e4m3fn_scaled_KJ.safetensors",
        "bf16",
        "fp8_e4m3fn_scaled",
        "offload_device",
        "sageattn"
      ],
      "inputs": [
        {
          "shape": 7,
          "name": "compile_args",
          "link": 24,
          "label": "compile_args",
          "type": "WANCOMPILEARGS",
          "localized_name": "compile_args"
        },
        {
          "shape": 7,
          "name": "block_swap_args",
          "link": 36,
          "label": "block_swap_args",
          "type": "BLOCKSWAPARGS",
          "localized_name": "block_swap_args"
        },
        {
          "shape": 7,
          "name": "lora",
          "label": "lora",
          "type": "WANVIDLORA",
          "localized_name": "lora"
        },
        {
          "shape": 7,
          "name": "vram_management_args",
          "label": "vram_management_args",
          "type": "VRAM_MANAGEMENTARGS",
          "localized_name": "vram_management_args"
        },
        {
          "shape": 7,
          "name": "extra_model",
          "label": "extra_model",
          "type": "VACEPATH",
          "localized_name": "extra_model"
        },
        {
          "shape": 7,
          "name": "fantasytalking_model",
          "label": "fantasytalking_model",
          "type": "FANTASYTALKINGMODEL",
          "localized_name": "fantasytalking_model"
        },
        {
          "shape": 7,
          "name": "multitalk_model",
          "label": "multitalk_model",
          "type": "MULTITALKMODEL",
          "localized_name": "multitalk_model"
        },
        {
          "shape": 7,
          "name": "fantasyportrait_model",
          "label": "fantasyportrait_model",
          "type": "FANTASYPORTRAITMODEL",
          "localized_name": "fantasyportrait_model"
        },
        {
          "widget": {
            "name": "model"
          },
          "name": "model",
          "label": "model",
          "type": "COMBO",
          "localized_name": "model"
        },
        {
          "widget": {
            "name": "base_precision"
          },
          "name": "base_precision",
          "label": "base_precision",
          "type": "COMBO",
          "localized_name": "base_precision"
        },
        {
          "widget": {
            "name": "quantization"
          },
          "name": "quantization",
          "label": "quantization",
          "type": "COMBO",
          "localized_name": "quantization"
        },
        {
          "widget": {
            "name": "load_device"
          },
          "name": "load_device",
          "label": "load_device",
          "type": "COMBO",
          "localized_name": "load_device"
        },
        {
          "widget": {
            "name": "attention_mode"
          },
          "shape": 7,
          "name": "attention_mode",
          "label": "attention_mode",
          "type": "COMBO",
          "localized_name": "attention_mode"
        },
        {
          "shape": 7,
          "name": "vace_model",
          "label": "vace_model",
          "type": "VACEPATH",
          "localized_name": "vace_model"
        }
      ],
      "flags": {},
      "type": "WanVideoModelLoader",
      "mode": 0,
      "bgcolor": "#335",
      "size": [
        496.8690185546875,
        314
      ],
      "pos": [
        2003.50732421875,
        1051.5325927734375
      ],
      "id": 18,
      "properties": {
        "cnr_id": "ComfyUI-WanVideoWrapper",
        "ver": "998a69cc0acbec503001b8b0ce0a5d5404420e1e",
        "widget_ue_connectable": {},
        "Node name for S&R": "WanVideoModelLoader"
      },
      "order": 21
    },
    {
      "outputs": [
        {
          "name": "model",
          "links": [
            9
          ],
          "label": "model",
          "type": "WANVIDEOMODEL",
          "localized_name": "model"
        }
      ],
      "color": "#223",
      "widgets_values": [],
      "inputs": [
        {
          "name": "model",
          "link": 1,
          "label": "model",
          "type": "WANVIDEOMODEL",
          "localized_name": "model"
        },
        {
          "shape": 7,
          "name": "block_swap_args",
          "link": 2,
          "label": "block_swap_args",
          "type": "BLOCKSWAPARGS",
          "localized_name": "block_swap_args"
        }
      ],
      "flags": {},
      "type": "WanVideoSetBlockSwap",
      "mode": 0,
      "bgcolor": "#335",
      "size": [
        201.76815795898438,
        46
      ],
      "pos": [
        2828.349609375,
        1056.70654296875
      ],
      "id": 2,
      "properties": {
        "cnr_id": "ComfyUI-WanVideoWrapper",
        "ver": "7e290c67bff1f906cdab84523018573f6c9d4d7f",
        "widget_ue_connectable": {},
        "Node name for S&R": "WanVideoSetBlockSwap"
      },
      "order": 27
    },
    {
      "outputs": [
        {
          "name": "model",
          "links": [
            26
          ],
          "label": "model",
          "type": "WANVIDEOMODEL",
          "localized_name": "model"
        }
      ],
      "color": "#223",
      "widgets_values": [],
      "inputs": [
        {
          "name": "model",
          "link": 9,
          "label": "model",
          "type": "WANVIDEOMODEL",
          "localized_name": "model"
        },
        {
          "shape": 7,
          "name": "lora",
          "link": 10,
          "label": "lora",
          "type": "WANVIDLORA",
          "localized_name": "lora"
        }
      ],
      "flags": {},
      "type": "WanVideoSetLoRAs",
      "mode": 0,
      "bgcolor": "#335",
      "size": [
        222.27981567382812,
        46
      ],
      "pos": [
        3188.508544921875,
        1062.7574462890625
      ],
      "id": 6,
      "properties": {
        "cnr_id": "ComfyUI-WanVideoWrapper",
        "ver": "998a69cc0acbec503001b8b0ce0a5d5404420e1e",
        "widget_ue_connectable": {},
        "Node name for S&R": "WanVideoSetLoRAs"
      },
      "order": 32
    },
    {
      "mode": 0,
      "outputs": [
        {
          "name": "block_swap_args",
          "links": [
            36
          ],
          "label": "block_swap_args",
          "type": "BLOCKSWAPARGS",
          "localized_name": "block_swap_args"
        }
      ],
      "size": [
        315,
        202
      ],
      "pos": [
        1551.4749755859375,
        1297.1331787109375
      ],
      "widgets_values": [
        40,
        false,
        false,
        true,
        0,
        0,
        false
      ],
      "inputs": [
        {
          "widget": {
            "name": "blocks_to_swap"
          },
          "name": "blocks_to_swap",
          "label": "blocks_to_swap",
          "type": "INT",
          "localized_name": "blocks_to_swap"
        },
        {
          "widget": {
            "name": "offload_img_emb"
          },
          "name": "offload_img_emb",
          "label": "offload_img_emb",
          "type": "BOOLEAN",
          "localized_name": "offload_img_emb"
        },
        {
          "widget": {
            "name": "offload_txt_emb"
          },
          "name": "offload_txt_emb",
          "label": "offload_txt_emb",
          "type": "BOOLEAN",
          "localized_name": "offload_txt_emb"
        },
        {
          "widget": {
            "name": "use_non_blocking"
          },
          "shape": 7,
          "name": "use_non_blocking",
          "label": "use_non_blocking",
          "type": "BOOLEAN",
          "localized_name": "use_non_blocking"
        },
        {
          "widget": {
            "name": "vace_blocks_to_swap"
          },
          "shape": 7,
          "name": "vace_blocks_to_swap",
          "label": "vace_blocks_to_swap",
          "type": "INT",
          "localized_name": "vace_blocks_to_swap"
        },
        {
          "widget": {
            "name": "prefetch_blocks"
          },
          "shape": 7,
          "name": "prefetch_blocks",
          "label": "prefetch_blocks",
          "type": "INT",
          "localized_name": "prefetch_blocks"
        },
        {
          "widget": {
            "name": "block_swap_debug"
          },
          "shape": 7,
          "name": "block_swap_debug",
          "label": "block_swap_debug",
          "type": "BOOLEAN",
          "localized_name": "block_swap_debug"
        }
      ],
      "flags": {},
      "id": 35,
      "type": "WanVideoBlockSwap",
      "properties": {
        "widget_ue_connectable": {},
        "Node name for S&R": "WanVideoBlockSwap"
      },
      "order": 4
    },
    {
      "mode": 0,
      "outputs": [
        {
          "name": "block_swap_args",
          "links": [
            37
          ],
          "label": "block_swap_args",
          "type": "BLOCKSWAPARGS",
          "localized_name": "block_swap_args"
        }
      ],
      "size": [
        315,
        202
      ],
      "pos": [
        1304.7630615234375,
        1876.5843505859375
      ],
      "widgets_values": [
        40,
        false,
        false,
        true,
        0,
        0,
        false
      ],
      "inputs": [
        {
          "widget": {
            "name": "blocks_to_swap"
          },
          "name": "blocks_to_swap",
          "label": "blocks_to_swap",
          "type": "INT",
          "localized_name": "blocks_to_swap"
        },
        {
          "widget": {
            "name": "offload_img_emb"
          },
          "name": "offload_img_emb",
          "label": "offload_img_emb",
          "type": "BOOLEAN",
          "localized_name": "offload_img_emb"
        },
        {
          "widget": {
            "name": "offload_txt_emb"
          },
          "name": "offload_txt_emb",
          "label": "offload_txt_emb",
          "type": "BOOLEAN",
          "localized_name": "offload_txt_emb"
        },
        {
          "widget": {
            "name": "use_non_blocking"
          },
          "shape": 7,
          "name": "use_non_blocking",
          "label": "use_non_blocking",
          "type": "BOOLEAN",
          "localized_name": "use_non_blocking"
        },
        {
          "widget": {
            "name": "vace_blocks_to_swap"
          },
          "shape": 7,
          "name": "vace_blocks_to_swap",
          "label": "vace_blocks_to_swap",
          "type": "INT",
          "localized_name": "vace_blocks_to_swap"
        },
        {
          "widget": {
            "name": "prefetch_blocks"
          },
          "shape": 7,
          "name": "prefetch_blocks",
          "label": "prefetch_blocks",
          "type": "INT",
          "localized_name": "prefetch_blocks"
        },
        {
          "widget": {
            "name": "block_swap_debug"
          },
          "shape": 7,
          "name": "block_swap_debug",
          "label": "block_swap_debug",
          "type": "BOOLEAN",
          "localized_name": "block_swap_debug"
        }
      ],
      "flags": {},
      "id": 36,
      "type": "WanVideoBlockSwap",
      "properties": {
        "widget_ue_connectable": {},
        "Node name for S&R": "WanVideoBlockSwap"
      },
      "order": 5
    },
    {
      "outputs": [
        {
          "name": "model",
          "links": [
            5
          ],
          "label": "model",
          "type": "WANVIDEOMODEL",
          "localized_name": "model"
        }
      ],
      "color": "#223",
      "widgets_values": [],
      "inputs": [
        {
          "name": "model",
          "link": 3,
          "label": "model",
          "type": "WANVIDEOMODEL",
          "localized_name": "model"
        },
        {
          "shape": 7,
          "name": "block_swap_args",
          "link": 4,
          "label": "block_swap_args",
          "type": "BLOCKSWAPARGS",
          "localized_name": "block_swap_args"
        }
      ],
      "flags": {},
      "type": "WanVideoSetBlockSwap",
      "mode": 0,
      "bgcolor": "#335",
      "size": [
        201.76815795898438,
        46
      ],
      "pos": [
        2398.142333984375,
        1827.260986328125
      ],
      "id": 3,
      "properties": {
        "cnr_id": "ComfyUI-WanVideoWrapper",
        "ver": "7e290c67bff1f906cdab84523018573f6c9d4d7f",
        "widget_ue_connectable": {},
        "Node name for S&R": "WanVideoSetBlockSwap"
      },
      "order": 28
    },
    {
      "outputs": [
        {
          "name": "model",
          "links": [
            14
          ],
          "label": "model",
          "type": "WANVIDEOMODEL",
          "localized_name": "model"
        }
      ],
      "color": "#223",
      "widgets_values": [],
      "inputs": [
        {
          "name": "model",
          "link": 5,
          "label": "model",
          "type": "WANVIDEOMODEL",
          "localized_name": "model"
        },
        {
          "shape": 7,
          "name": "lora",
          "link": 6,
          "label": "lora",
          "type": "WANVIDLORA",
          "localized_name": "lora"
        }
      ],
      "flags": {},
      "type": "WanVideoSetLoRAs",
      "mode": 0,
      "bgcolor": "#335",
      "size": [
        222.27981567382812,
        46
      ],
      "pos": [
        2828.645263671875,
        1864.0577392578125
      ],
      "id": 4,
      "properties": {
        "cnr_id": "ComfyUI-WanVideoWrapper",
        "ver": "998a69cc0acbec503001b8b0ce0a5d5404420e1e",
        "widget_ue_connectable": {},
        "Node name for S&R": "WanVideoSetLoRAs"
      },
      "order": 33
    },
    {
      "mode": 0,
      "outputs": [
        {
          "name": "samples",
          "slot_index": 0,
          "links": [
            17
          ],
          "label": "samples",
          "type": "LATENT",
          "localized_name": "samples"
        },
        {
          "name": "denoised_samples",
          "label": "denoised_samples",
          "type": "LATENT",
          "localized_name": "denoised_samples"
        }
      ],
      "size": [
        313.99658203125,
        690
      ],
      "pos": [
        3672.049072265625,
        1236.3472900390625
      ],
      "widgets_values": [
        6,
        1,
        8,
        502954457839805,
        "fixed",
        true,
        "unipc",
        0,
        1,
        false,
        "comfy",
        0,
        10,
        false
      ],
      "inputs": [
        {
          "name": "model",
          "link": 26,
          "label": "model",
          "type": "WANVIDEOMODEL",
          "localized_name": "model"
        },
        {
          "name": "text_embeds",
          "link": 27,
          "label": "text_embeds",
          "type": "WANVIDEOTEXTEMBEDS",
          "localized_name": "text_embeds"
        },
        {
          "name": "image_embeds",
          "link": 28,
          "label": "image_embeds",
          "type": "WANVIDIMAGE_EMBEDS",
          "localized_name": "image_embeds"
        },
        {
          "shape": 7,
          "name": "samples",
          "label": "samples",
          "type": "LATENT",
          "localized_name": "samples"
        },
        {
          "shape": 7,
          "name": "feta_args",
          "label": "feta_args",
          "type": "FETAARGS",
          "localized_name": "feta_args"
        },
        {
          "shape": 7,
          "name": "context_options",
          "label": "context_options",
          "type": "WANVIDCONTEXT",
          "localized_name": "context_options"
        },
        {
          "shape": 7,
          "name": "cache_args",
          "label": "cache_args",
          "type": "CACHEARGS",
          "localized_name": "cache_args"
        },
        {
          "shape": 7,
          "name": "flowedit_args",
          "label": "flowedit_args",
          "type": "FLOWEDITARGS",
          "localized_name": "flowedit_args"
        },
        {
          "shape": 7,
          "name": "slg_args",
          "label": "slg_args",
          "type": "SLGARGS",
          "localized_name": "slg_args"
        },
        {
          "shape": 7,
          "name": "loop_args",
          "label": "loop_args",
          "type": "LOOPARGS",
          "localized_name": "loop_args"
        },
        {
          "shape": 7,
          "name": "experimental_args",
          "label": "experimental_args",
          "type": "EXPERIMENTALARGS",
          "localized_name": "experimental_args"
        },
        {
          "shape": 7,
          "name": "sigmas",
          "label": "sigmas",
          "type": "SIGMAS",
          "localized_name": "sigmas"
        },
        {
          "shape": 7,
          "name": "unianimate_poses",
          "label": "unianimate_poses",
          "type": "UNIANIMATE_POSE",
          "localized_name": "unianimate_poses"
        },
        {
          "shape": 7,
          "name": "fantasytalking_embeds",
          "label": "fantasytalking_embeds",
          "type": "FANTASYTALKING_EMBEDS",
          "localized_name": "fantasytalking_embeds"
        },
        {
          "shape": 7,
          "name": "uni3c_embeds",
          "label": "uni3c_embeds",
          "type": "UNI3C_EMBEDS",
          "localized_name": "uni3c_embeds"
        },
        {
          "shape": 7,
          "name": "multitalk_embeds",
          "label": "multitalk_embeds",
          "type": "MULTITALK_EMBEDS",
          "localized_name": "multitalk_embeds"
        },
        {
          "shape": 7,
          "name": "freeinit_args",
          "label": "freeinit_args",
          "type": "FREEINITARGS",
          "localized_name": "freeinit_args"
        },
        {
          "widget": {
            "name": "steps"
          },
          "name": "steps",
          "link": 65,
          "label": "steps",
          "type": "INT",
          "localized_name": "steps"
        },
        {
          "widget": {
            "name": "cfg"
          },
          "name": "cfg",
          "link": 30,
          "label": "cfg",
          "type": "FLOAT",
          "localized_name": "cfg"
        },
        {
          "widget": {
            "name": "shift"
          },
          "name": "shift",
          "label": "shift",
          "type": "FLOAT",
          "localized_name": "shift"
        },
        {
          "widget": {
            "name": "seed"
          },
          "name": "seed",
          "link": 32,
          "label": "seed",
          "type": "INT",
          "localized_name": "seed"
        },
        {
          "widget": {
            "name": "force_offload"
          },
          "name": "force_offload",
          "label": "force_offload",
          "type": "BOOLEAN",
          "localized_name": "force_offload"
        },
        {
          "widget": {
            "name": "scheduler"
          },
          "name": "scheduler",
          "label": "scheduler",
          "type": "COMBO",
          "localized_name": "scheduler"
        },
        {
          "widget": {
            "name": "riflex_freq_index"
          },
          "name": "riflex_freq_index",
          "label": "riflex_freq_index",
          "type": "INT",
          "localized_name": "riflex_freq_index"
        },
        {
          "widget": {
            "name": "denoise_strength"
          },
          "shape": 7,
          "name": "denoise_strength",
          "label": "denoise_strength",
          "type": "FLOAT",
          "localized_name": "denoise_strength"
        },
        {
          "widget": {
            "name": "batched_cfg"
          },
          "shape": 7,
          "name": "batched_cfg",
          "label": "batched_cfg",
          "type": "BOOLEAN",
          "localized_name": "batched_cfg"
        },
        {
          "widget": {
            "name": "rope_function"
          },
          "shape": 7,
          "name": "rope_function",
          "label": "rope_function",
          "type": "COMBO",
          "localized_name": "rope_function"
        },
        {
          "widget": {
            "name": "start_step"
          },
          "shape": 7,
          "name": "start_step",
          "label": "start_step",
          "type": "INT",
          "localized_name": "start_step"
        },
        {
          "widget": {
            "name": "end_step"
          },
          "shape": 7,
          "name": "end_step",
          "link": 31,
          "label": "end_step",
          "type": "INT",
          "localized_name": "end_step"
        },
        {
          "widget": {
            "name": "add_noise_to_samples"
          },
          "shape": 7,
          "name": "add_noise_to_samples",
          "label": "add_noise_to_samples",
          "type": "BOOLEAN",
          "localized_name": "add_noise_to_samples"
        }
      ],
      "flags": {},
      "id": 20,
      "type": "WanVideoSampler",
      "properties": {
        "cnr_id": "ComfyUI-WanVideoWrapper",
        "ver": "998a69cc0acbec503001b8b0ce0a5d5404420e1e",
        "widget_ue_connectable": {},
        "Node name for S&R": "WanVideoSampler"
      },
      "order": 39
    },
    {
      "outputs": [
        {
          "name": "vae",
          "slot_index": 0,
          "links": [
            7
          ],
          "label": "vae",
          "type": "WANVAE",
          "localized_name": "vae"
        }
      ],
      "color": "#322",
      "widgets_values": [
        "Wan2_1_VAE_bf16.safetensors",
        "bf16"
      ],
      "inputs": [
        {
          "shape": 7,
          "name": "compile_args",
          "label": "compile_args",
          "type": "WANCOMPILEARGS",
          "localized_name": "compile_args"
        },
        {
          "widget": {
            "name": "model_name"
          },
          "name": "model_name",
          "label": "model_name",
          "type": "COMBO",
          "localized_name": "model_name"
        },
        {
          "widget": {
            "name": "precision"
          },
          "shape": 7,
          "name": "precision",
          "label": "precision",
          "type": "COMBO",
          "localized_name": "precision"
        }
      ],
      "flags": {},
      "type": "WanVideoVAELoader",
      "mode": 0,
      "bgcolor": "#533",
      "size": [
        315,
        82
      ],
      "pos": [
        3648.9140625,
        1061.0870361328125
      ],
      "id": 13,
      "properties": {
        "cnr_id": "ComfyUI-WanVideoWrapper",
        "ver": "998a69cc0acbec503001b8b0ce0a5d5404420e1e",
        "widget_ue_connectable": {},
        "Node name for S&R": "WanVideoVAELoader"
      },
      "order": 6
    },
    {
      "mode": 0,
      "outputs": [
        {
          "name": "samples",
          "slot_index": 0,
          "links": [
            8
          ],
          "label": "samples",
          "type": "LATENT",
          "localized_name": "samples"
        },
        {
          "name": "denoised_samples",
          "label": "denoised_samples",
          "type": "LATENT",
          "localized_name": "denoised_samples"
        }
      ],
      "size": [
        315,
        975
      ],
      "pos": [
        4275.107421875,
        1699.717041015625
      ],
      "widgets_values": [
        6,
        1,
        8,
        502954457839805,
        "fixed",
        true,
        "unipc",
        0,
        1,
        false,
        "comfy",
        10,
        -1,
        false
      ],
      "inputs": [
        {
          "name": "model",
          "link": 14,
          "label": "model",
          "type": "WANVIDEOMODEL",
          "localized_name": "model"
        },
        {
          "name": "text_embeds",
          "link": 15,
          "label": "text_embeds",
          "type": "WANVIDEOTEXTEMBEDS",
          "localized_name": "text_embeds"
        },
        {
          "name": "image_embeds",
          "link": 16,
          "label": "image_embeds",
          "type": "WANVIDIMAGE_EMBEDS",
          "localized_name": "image_embeds"
        },
        {
          "shape": 7,
          "name": "samples",
          "link": 17,
          "label": "samples",
          "type": "LATENT",
          "localized_name": "samples"
        },
        {
          "shape": 7,
          "name": "feta_args",
          "label": "feta_args",
          "type": "FETAARGS",
          "localized_name": "feta_args"
        },
        {
          "shape": 7,
          "name": "context_options",
          "label": "context_options",
          "type": "WANVIDCONTEXT",
          "localized_name": "context_options"
        },
        {
          "shape": 7,
          "name": "cache_args",
          "label": "cache_args",
          "type": "CACHEARGS",
          "localized_name": "cache_args"
        },
        {
          "shape": 7,
          "name": "flowedit_args",
          "label": "flowedit_args",
          "type": "FLOWEDITARGS",
          "localized_name": "flowedit_args"
        },
        {
          "shape": 7,
          "name": "slg_args",
          "label": "slg_args",
          "type": "SLGARGS",
          "localized_name": "slg_args"
        },
        {
          "shape": 7,
          "name": "loop_args",
          "label": "loop_args",
          "type": "LOOPARGS",
          "localized_name": "loop_args"
        },
        {
          "shape": 7,
          "name": "experimental_args",
          "label": "experimental_args",
          "type": "EXPERIMENTALARGS",
          "localized_name": "experimental_args"
        },
        {
          "shape": 7,
          "name": "sigmas",
          "label": "sigmas",
          "type": "SIGMAS",
          "localized_name": "sigmas"
        },
        {
          "shape": 7,
          "name": "unianimate_poses",
          "label": "unianimate_poses",
          "type": "UNIANIMATE_POSE",
          "localized_name": "unianimate_poses"
        },
        {
          "shape": 7,
          "name": "fantasytalking_embeds",
          "label": "fantasytalking_embeds",
          "type": "FANTASYTALKING_EMBEDS",
          "localized_name": "fantasytalking_embeds"
        },
        {
          "shape": 7,
          "name": "uni3c_embeds",
          "label": "uni3c_embeds",
          "type": "UNI3C_EMBEDS",
          "localized_name": "uni3c_embeds"
        },
        {
          "shape": 7,
          "name": "multitalk_embeds",
          "label": "multitalk_embeds",
          "type": "MULTITALK_EMBEDS",
          "localized_name": "multitalk_embeds"
        },
        {
          "shape": 7,
          "name": "freeinit_args",
          "label": "freeinit_args",
          "type": "FREEINITARGS",
          "localized_name": "freeinit_args"
        },
        {
          "widget": {
            "name": "steps"
          },
          "name": "steps",
          "link": 66,
          "label": "steps",
          "type": "INT",
          "localized_name": "steps"
        },
        {
          "widget": {
            "name": "cfg"
          },
          "name": "cfg",
          "label": "cfg",
          "type": "FLOAT",
          "localized_name": "cfg"
        },
        {
          "widget": {
            "name": "shift"
          },
          "name": "shift",
          "label": "shift",
          "type": "FLOAT",
          "localized_name": "shift"
        },
        {
          "widget": {
            "name": "seed"
          },
          "name": "seed",
          "link": 20,
          "label": "seed",
          "type": "INT",
          "localized_name": "seed"
        },
        {
          "widget": {
            "name": "force_offload"
          },
          "name": "force_offload",
          "label": "force_offload",
          "type": "BOOLEAN",
          "localized_name": "force_offload"
        },
        {
          "widget": {
            "name": "scheduler"
          },
          "name": "scheduler",
          "label": "scheduler",
          "type": "COMBO",
          "localized_name": "scheduler"
        },
        {
          "widget": {
            "name": "riflex_freq_index"
          },
          "name": "riflex_freq_index",
          "label": "riflex_freq_index",
          "type": "INT",
          "localized_name": "riflex_freq_index"
        },
        {
          "widget": {
            "name": "denoise_strength"
          },
          "shape": 7,
          "name": "denoise_strength",
          "label": "denoise_strength",
          "type": "FLOAT",
          "localized_name": "denoise_strength"
        },
        {
          "widget": {
            "name": "batched_cfg"
          },
          "shape": 7,
          "name": "batched_cfg",
          "label": "batched_cfg",
          "type": "BOOLEAN",
          "localized_name": "batched_cfg"
        },
        {
          "widget": {
            "name": "rope_function"
          },
          "shape": 7,
          "name": "rope_function",
          "label": "rope_function",
          "type": "COMBO",
          "localized_name": "rope_function"
        },
        {
          "widget": {
            "name": "start_step"
          },
          "shape": 7,
          "name": "start_step",
          "link": 19,
          "label": "start_step",
          "type": "INT",
          "localized_name": "start_step"
        },
        {
          "widget": {
            "name": "end_step"
          },
          "shape": 7,
          "name": "end_step",
          "label": "end_step",
          "type": "INT",
          "localized_name": "end_step"
        },
        {
          "widget": {
            "name": "add_noise_to_samples"
          },
          "shape": 7,
          "name": "add_noise_to_samples",
          "label": "add_noise_to_samples",
          "type": "BOOLEAN",
          "localized_name": "add_noise_to_samples"
        }
      ],
      "flags": {},
      "id": 16,
      "type": "WanVideoSampler",
      "properties": {
        "cnr_id": "ComfyUI-WanVideoWrapper",
        "ver": "998a69cc0acbec503001b8b0ce0a5d5404420e1e",
        "widget_ue_connectable": {},
        "Node name for S&R": "WanVideoSampler"
      },
      "order": 40
    },
    {
      "mode": 0,
      "outputs": [
        {
          "name": "float_list",
          "links": [
            30
          ],
          "label": "float_list",
          "type": "FLOAT",
          "localized_name": "float_list"
        }
      ],
      "size": [
        298.3199157714844,
        178
      ],
      "pos": [
        3216.22705078125,
        1984.0716552734375
      ],
      "widgets_values": [
        30,
        2,
        2,
        "linear",
        0,
        0.01
      ],
      "inputs": [
        {
          "widget": {
            "name": "steps"
          },
          "name": "steps",
          "link": 64,
          "label": "steps",
          "type": "INT",
          "localized_name": "steps"
        },
        {
          "widget": {
            "name": "cfg_scale_start"
          },
          "name": "cfg_scale_start",
          "label": "cfg_scale_start",
          "type": "FLOAT",
          "localized_name": "cfg_scale_start"
        },
        {
          "widget": {
            "name": "cfg_scale_end"
          },
          "name": "cfg_scale_end",
          "label": "cfg_scale_end",
          "type": "FLOAT",
          "localized_name": "cfg_scale_end"
        },
        {
          "widget": {
            "name": "interpolation"
          },
          "name": "interpolation",
          "label": "interpolation",
          "type": "COMBO",
          "localized_name": "interpolation"
        },
        {
          "widget": {
            "name": "start_percent"
          },
          "name": "start_percent",
          "label": "start_percent",
          "type": "FLOAT",
          "localized_name": "start_percent"
        },
        {
          "widget": {
            "name": "end_percent"
          },
          "name": "end_percent",
          "label": "end_percent",
          "type": "FLOAT",
          "localized_name": "end_percent"
        }
      ],
      "flags": {},
      "id": 21,
      "type": "CreateCFGScheduleFloatList",
      "properties": {
        "cnr_id": "ComfyUI-WanVideoWrapper",
        "ver": "7e290c67bff1f906cdab84523018573f6c9d4d7f",
        "widget_ue_connectable": {},
        "Node name for S&R": "CreateCFGScheduleFloatList"
      },
      "order": 19
    },
    {
      "outputs": [
        {
          "name": "text_embeds",
          "slot_index": 0,
          "links": [
            15,
            27
          ],
          "label": "text_embeds",
          "type": "WANVIDEOTEXTEMBEDS",
          "localized_name": "text_embeds"
        }
      ],
      "color": "#332922",
      "widgets_values": [
        "女人拿着相机拍照",
        "色调艳丽，过曝，静态，细节模糊不清，字幕，风格，作品，画作，画面，静止，整体发灰，最差质量，低质量，JPEG压缩残留，丑陋的，残缺的，多余的手指，画得不好的手部，画得不好的脸部，畸形的，毁容的，形态畸形的肢体，手指融合，静止不动的画面，杂乱的背景，三条腿，背景人很多，倒着走",
        true,
        false,
        "gpu"
      ],
      "inputs": [
        {
          "shape": 7,
          "name": "t5",
          "link": 12,
          "label": "t5",
          "type": "WANTEXTENCODER",
          "localized_name": "t5"
        },
        {
          "shape": 7,
          "name": "model_to_offload",
          "label": "model_to_offload",
          "type": "WANVIDEOMODEL",
          "localized_name": "model_to_offload"
        },
        {
          "widget": {
            "name": "positive_prompt"
          },
          "name": "positive_prompt",
          "link": 63,
          "label": "positive_prompt",
          "type": "STRING",
          "localized_name": "positive_prompt"
        },
        {
          "widget": {
            "name": "negative_prompt"
          },
          "name": "negative_prompt",
          "label": "negative_prompt",
          "type": "STRING",
          "localized_name": "negative_prompt"
        },
        {
          "widget": {
            "name": "force_offload"
          },
          "shape": 7,
          "name": "force_offload",
          "label": "force_offload",
          "type": "BOOLEAN",
          "localized_name": "force_offload"
        },
        {
          "widget": {
            "name": "use_disk_cache"
          },
          "shape": 7,
          "name": "use_disk_cache",
          "label": "use_disk_cache",
          "type": "BOOLEAN",
          "localized_name": "use_disk_cache"
        },
        {
          "widget": {
            "name": "device"
          },
          "shape": 7,
          "name": "device",
          "label": "device",
          "type": "COMBO",
          "localized_name": "device"
        }
      ],
      "flags": {},
      "type": "WanVideoTextEncode",
      "mode": 0,
      "bgcolor": "#593930",
      "size": [
        496.21380615234375,
        234
      ],
      "pos": [
        3068.26025390625,
        2423.14453125
      ],
      "id": 14,
      "properties": {
        "cnr_id": "ComfyUI-WanVideoWrapper",
        "ver": "998a69cc0acbec503001b8b0ce0a5d5404420e1e",
        "widget_ue_connectable": {},
        "Node name for S&R": "WanVideoTextEncode"
      },
      "order": 38
    },
    {
      "mode": 0,
      "outputs": [
        {
          "name": "INT",
          "links": [
            69
          ],
          "label": "整数",
          "type": "INT",
          "localized_name": "整数"
        },
        {
          "name": "FLOAT",
          "label": "浮点",
          "type": "FLOAT",
          "localized_name": "浮点"
        }
      ],
      "size": [
        210,
        128
      ],
      "pos": [
        1332.25830078125,
        2469.566650390625
      ],
      "widgets_values": [
        "a/2"
      ],
      "inputs": [
        {
          "shape": 7,
          "name": "a",
          "link": 67,
          "label": "a",
          "type": "INT,FLOAT,IMAGE,LATENT",
          "localized_name": "a"
        },
        {
          "shape": 7,
          "name": "b",
          "label": "b",
          "type": "INT,FLOAT,IMAGE,LATENT",
          "localized_name": "b"
        },
        {
          "shape": 7,
          "name": "c",
          "label": "c",
          "type": "INT,FLOAT,IMAGE,LATENT",
          "localized_name": "c"
        },
        {
          "widget": {
            "name": "expression"
          },
          "name": "expression",
          "label": "expression",
          "type": "INT,FLOAT,IMAGE,LATENT",
          "localized_name": "表达式"
        }
      ],
      "flags": {},
      "id": 61,
      "type": "MathExpression|pysssss",
      "properties": {
        "widget_ue_connectable": {},
        "Node name for S&R": "MathExpression|pysssss"
      },
      "order": 20
    },
    {
      "outputs": [
        {
          "name": "value",
          "links": [
            19,
            31
          ],
          "label": "值",
          "type": "INT",
          "localized_name": "value"
        }
      ],
      "color": "#1b4669",
      "widgets_values": [
        4
      ],
      "inputs": [
        {
          "widget": {
            "name": "value"
          },
          "name": "value",
          "link": 69,
          "label": "value",
          "type": "INT",
          "localized_name": "值"
        }
      ],
      "flags": {
        "collapsed": false
      },
      "type": "INTConstant",
      "mode": 0,
      "bgcolor": "#29699c",
      "size": [
        210,
        58
      ],
      "pos": [
        1641.3626708984375,
        2478.4052734375
      ],
      "id": 24,
      "properties": {
        "cnr_id": "comfyui-kjnodes",
        "ver": "a6b867b63a29ca48ddb15c589e17a9f2d8530d57",
        "widget_ue_connectable": {},
        "Node name for S&R": "INTConstant"
      },
      "order": 26
    },
    {
      "mode": 0,
      "outputs": [
        {
          "name": "INT",
          "links": [
            71
          ],
          "label": "整数",
          "type": "INT",
          "localized_name": "整数"
        },
        {
          "name": "FLOAT",
          "label": "浮点",
          "type": "FLOAT",
          "localized_name": "浮点"
        }
      ],
      "size": [
        373.87255859375,
        100.676025390625
      ],
      "pos": [
        1341.1651611328125,
        2659.049072265625
      ],
      "widgets_values": [
        "a*16+1"
      ],
      "inputs": [
        {
          "shape": 7,
          "name": "a",
          "link": 70,
          "label": "a",
          "type": "*",
          "localized_name": "A"
        },
        {
          "shape": 7,
          "name": "b",
          "label": "b",
          "type": "*",
          "localized_name": "B"
        },
        {
          "shape": 7,
          "name": "c",
          "label": "c",
          "type": "*",
          "localized_name": "c"
        },
        {
          "widget": {
            "name": "value"
          },
          "name": "value",
          "label": "value",
          "type": "STRING",
          "localized_name": "值"
        }
      ],
      "flags": {},
      "id": 63,
      "type": "SimpleMath+",
      "properties": {
        "widget_ue_connectable": {},
        "Node name for S&R": "SimpleMath+"
      },
      "order": 18
    },
    {
      "outputs": [
        {
          "name": "int",
          "links": [
            64,
            65,
            66,
            67
          ],
          "label": "整数",
          "type": "INT",
          "localized_name": "int"
        }
      ],
      "color": "#232",
      "widgets_values": [
        8
      ],
      "inputs": [
        {
          "widget": {
            "name": "value"
          },
          "name": "value",
          "label": "value",
          "type": "INT",
          "localized_name": "值"
        }
      ],
      "flags": {},
      "type": "easy int",
      "mode": 0,
      "bgcolor": "#353",
      "size": [
        773.0888061523438,
        176.16819763183594
      ],
      "pos": [
        -480.8824462890625,
        1915.3115234375
      ],
      "id": 60,
      "properties": {
        "widget_ue_connectable": {},
        "Node name for S&R": "easy int"
      },
      "order": 7
    },
    {
      "outputs": [
        {
          "widget": {
            "name": "seed"
          },
          "name": "INT",
          "links": [
            20,
            32
          ],
          "label": "INT",
          "type": "INT"
        }
      ],
      "color": "#232",
      "widgets_values": [
        502954457839805,
        "randomize"
      ],
      "inputs": [],
      "flags": {},
      "type": "PrimitiveNode",
      "mode": 0,
      "bgcolor": "#353",
      "size": [
        455.403564453125,
        82
      ],
      "pos": [
        -495.4381408691406,
        2299.967529296875
      ],
      "id": 12,
      "properties": {
        "widget_ue_connectable": {},
        "Run widget replace on values": false
      },
      "order": 8
    },
    {
      "outputs": [
        {
          "name": "images",
          "slot_index": 0,
          "links": [
            11
          ],
          "label": "images",
          "type": "IMAGE",
          "localized_name": "images"
        }
      ],
      "color": "#322",
      "widgets_values": [
        false,
        272,
        272,
        144,
        128,
        "default"
      ],
      "inputs": [
        {
          "name": "vae",
          "link": 7,
          "label": "vae",
          "type": "WANVAE",
          "localized_name": "vae"
        },
        {
          "name": "samples",
          "link": 8,
          "label": "samples",
          "type": "LATENT",
          "localized_name": "samples"
        },
        {
          "widget": {
            "name": "enable_vae_tiling"
          },
          "name": "enable_vae_tiling",
          "label": "enable_vae_tiling",
          "type": "BOOLEAN",
          "localized_name": "enable_vae_tiling"
        },
        {
          "widget": {
            "name": "tile_x"
          },
          "name": "tile_x",
          "label": "tile_x",
          "type": "INT",
          "localized_name": "tile_x"
        },
        {
          "widget": {
            "name": "tile_y"
          },
          "name": "tile_y",
          "label": "tile_y",
          "type": "INT",
          "localized_name": "tile_y"
        },
        {
          "widget": {
            "name": "tile_stride_x"
          },
          "name": "tile_stride_x",
          "label": "tile_stride_x",
          "type": "INT",
          "localized_name": "tile_stride_x"
        },
        {
          "widget": {
            "name": "tile_stride_y"
          },
          "name": "tile_stride_y",
          "label": "tile_stride_y",
          "type": "INT",
          "localized_name": "tile_stride_y"
        },
        {
          "widget": {
            "name": "normalization"
          },
          "shape": 7,
          "name": "normalization",
          "label": "normalization",
          "type": "COMBO",
          "localized_name": "normalization"
        }
      ],
      "flags": {},
      "type": "WanVideoDecode",
      "mode": 0,
      "bgcolor": "#533",
      "size": [
        315,
        198
      ],
      "pos": [
        4316.73388671875,
        1240.379638671875
      ],
      "id": 5,
      "properties": {
        "cnr_id": "ComfyUI-WanVideoWrapper",
        "ver": "998a69cc0acbec503001b8b0ce0a5d5404420e1e",
        "widget_ue_connectable": {},
        "Node name for S&R": "WanVideoDecode"
      },
      "order": 41
    },
    {
      "mode": 0,
      "outputs": [
        {
          "name": "image",
          "links": [
            34
          ],
          "label": "图像",
          "type": "IMAGE",
          "localized_name": "image"
        },
        {
          "name": "576 width",
          "label": "宽度",
          "type": "INT",
          "localized_name": "width"
        },
        {
          "name": "768 height",
          "label": "高度",
          "type": "INT",
          "localized_name": "height"
        },
        {
          "name": "81 count",
          "label": "数量",
          "type": "INT",
          "localized_name": "count"
        }
      ],
      "size": [
        240.41265869140625,
        86
      ],
      "pos": [
        4263.24853515625,
        929.0469360351562
      ],
      "widgets_values": [],
      "inputs": [
        {
          "name": "image",
          "link": 11,
          "label": "图像",
          "type": "IMAGE",
          "localized_name": "image"
        }
      ],
      "flags": {},
      "id": 7,
      "type": "GetImageSizeAndCount",
      "properties": {
        "cnr_id": "comfyui-kjnodes",
        "ver": "a6b867b63a29ca48ddb15c589e17a9f2d8530d57",
        "widget_ue_connectable": {},
        "Node name for S&R": "GetImageSizeAndCount"
      },
      "order": 42
    },
    {
      "mode": 0,
      "outputs": [
        {
          "name": "*",
          "links": [
            63
          ],
          "label": "*",
          "type": "*",
          "localized_name": "*"
        }
      ],
      "size": [
        260.85595703125,
        346.6465759277344
      ],
      "pos": [
        1397.6864013671875,
        419.48272705078125
      ],
      "widgets_values": [
        false
      ],
      "inputs": [
        {
          "name": "on_true",
          "link": 76,
          "label": "on_true",
          "type": "*",
          "localized_name": "on_true"
        },
        {
          "name": "on_false",
          "link": 61,
          "label": "on_false",
          "type": "*",
          "localized_name": "on_false"
        },
        {
          "widget": {
            "name": "boolean"
          },
          "name": "boolean",
          "link": 55,
          "label": "boolean",
          "type": "BOOLEAN",
          "localized_name": "boolean"
        }
      ],
      "flags": {
        "collapsed": false
      },
      "id": 54,
      "type": "easy ifElse",
      "properties": {
        "widget_ue_connectable": {},
        "Node name for S&R": "easy ifElse"
      },
      "order": 37
    },
    {
      "outputs": [
        {
          "name": "text",
          "links": [
            72
          ],
          "label": "文本",
          "type": "*",
          "localized_name": "text"
        },
        {
          "name": "show_help",
          "label": "显示帮助",
          "type": "STRING",
          "localized_name": "show_help"
        }
      ],
      "color": "#232",
      "widgets_values": [
        "You are a prompt assistant, mainly used for image generation (comfyui). Please follow the following image prompt generation rules based on the relevant word content entered by the user, generate prompts for the user, and convert them into a standardized inscription format.\n1、 Core element: Clarify the subject of the character\n1. Basic information of the character\nIdentity features: Clearly describe the age, gender, race/regional characteristics of the character (such as \"25-year-old Asian woman\" and \"middle-aged Latin American man\"), occupation/role (such as \"business person wearing a suit\" and \"medical staff wearing a nurse's hat\"), and even specific identity (such as \"Hermione Granger in Harry Potter\").\nAppearance details:\nFacial features: facial features (such as \"blue eyes, high nose bridge\", \"phoenix eyes, thick lips\"), skin color (such as \"wheat colored skin\" and \"fair skin\"), facial hair (such as \"beard\" and \"delicate eyebrows\").\nHairstyle and hair color: length (short hair/long hair/waist length hair), hairstyle (curly hair/straight hair/bun), hair color (gradient purple/linen gold/black), and even hair details (such as \"fluffy wool curls\" and \"smooth straight hair\").\nBody shape and posture: body shape (slender/strong/plump), posture (standing/sitting/running), body movements (such as \"arms clasped in both hands\", \"chin resting in contemplation\", \"waving and greeting\").\nExample:\nA 30-year-old African male with short hair, dark skin, wearing a basketball uniform, holding the ball in both hands and preparing to shoot, with a firm gaze\n2. Expressions and Emotions\nClearly define facial expressions (smiling/serious/surprised/sad) and emotional atmosphere (confident/gentle/melancholic/playful), and describe eye details if necessary (such as \"gentle and smiling eyes\" or \"sharp eyes\").\nExample:\nA young woman with a slightly upturned mouth, crescent shaped eyes, and a shy smile, revealing a dimple on one side\n2、 Style and Atmosphere: Defining Visual Tone\n1. Artistic style and texture\nStyle type: specify realistic, cartoon, illustration, oil painting, watercolor, 3D rendering, retro film, cyberpunk, anime and other styles (such as \"Pixar Animation style cartoon characters\", \"surrealist portraits\", \"90s retro port style\").\nTexture details: skin texture (smooth/matte/clear pores), light and shadow effects (soft/hard/backlight/side light), grainy texture of the image (film noise/delicate smoothness).\nExample:\nA watercolor style portrait of a young girl, with a soft watercolor blending effect, presenting a light pink luster on the skin, and sunlight shining from the left side, creating a warm atmosphere\n2. Clothing and Accessories\nDescribe clothing styles (such as \"white dress\", \"black leather jacket with jeans\", \"traditional Hanfu\"), materials (silk/leather/knitting/metallic luster), and decorative details (jewelry/hat/glasses/tattoos).\nExample:\nA woman wearing a beige knitted sweater and jeans, gold framed glasses, a vintage camera hanging around her neck, and a leaf tattoo on her wrist\n3、 Scene and Composition: Building the Visual Environment\n1. Scene setting\nBackground and environment: indoor (living room/caf é/studio), outdoor (beach/forest/city street), fantasy scenes (castle under the stars/future technology laboratory), and even specific elements (such as \"Japanese courtyard with cherry blossoms floating\" and \"neon lit night view of the cyber city\").\nEnvironmental details: weather (sunny/rainy/snowy), time (early morning/dusk/night), direction of light (noon sunlight/sunset backlight/indoor warm light).\nExample:\nOn the beach under the setting sun, a man stands barefoot on the sand, with waves gently hitting his ankles, and behind him is the orange red sky and flying seagulls\n2. Composition and Perspective\nScene: Close up (facial close-up), half body portrait, full body portrait, panoramic (character in environment).\nPerspective: Front/Side/Back/Top/Bottom/Dynamic perspective (such as \"low angle shooting shows the height of the characters\" or \"looking down at the crowds walking on the street from the window\").\nExample:\nHalf body portrait composition, with the character slightly tilted to the side, the lens focused on the face, and the background blurred to present a blurred city skyline\n4、 Color and Light and Shadow: Enhancing Visual Effects\n1. Color preference\nThe main color tone (such as \"warm yellow tone\", \"cool blue tone\", \"Morandi color series\"), contrasting colors (such as \"red and black color combination\"), and color atmosphere (fresh and bright/dark and mysterious/soft and elegant).\nExample:\nThe overall color tone is a pink purple gradient, the character clothing is white, and the background is embellished with light blue light spots, creating a dreamy atmosphere\n2. Light and shadow effects\nLight source position (left/right/top/multiple light sources), light and shadow texture (soft scattered light/strong hard light/Tyndall effect), shadow details (long shadow/short shadow/no shadow).\nExample:\nThe natural light entering from the left window creates a contrast between light and dark on the character's face, while the right cheek has a soft light and shadow mottled effect, simulating the effect of morning sunlight\n5、 Avoiding ambiguity and optimization techniques\n1. Use precise language to reduce ambiguity\nAvoid vague descriptions (such as' good-looking girl ') and instead use specific features (such as' girl with high cheekbones and pointed chin').\nSensitive to cultural or regional characteristics (such as \"Japanese girls\" or \"Middle Eastern men\"), ensure that they conform to the target image.\n2. Layered description with clear logic\nOrganize prompt words in the order of \"main features → style → scene → light and shadow\", or list key elements by dots (separated by \",\" or \";\").\nExample:\nSubject: A 28 year old Chinese woman with long straight black hair, wearing round framed glasses and a beige windbreaker; Style: Realistic oil painting texture, warm tones; Scene: Autumn park with golden ginkgo trees in the background; Composition: Full body portrait, the character looks sideways into the distance, with a slightly raised mouth\n3. Reference cases or keywords\nAdd references to well-known works, artists, or characters (such as \"Soft Light and Shadow Similar to Mona Lisa\", \"Girl Images in Hayao Miyazaki's Animation\", \"Imitation of Photographer Ansel Adams' Black and White Portrait\").\n4. Avoid excessive complexity\nControl the length of prompt words, prioritize core elements, and adjust secondary details through multiple iterations.\n6、 Example: Complete prompt word template\n[Character subject]: A 19-year-old Korean girl with shoulder length short hair, chestnut accent dye, phoenix eyes, silver earrings, slim figure, wearing an oversized gray hoodie and ripped jeans.   \n[Expression and posture]: With a lazy smile on her face, she leaned forward slightly, her right hand resting on her cheek, and her left hand holding a glass of iced Americano.   \n[Style and Texture]: Korean style fresh illustration style, delicate graphics, soft colors, matte skin texture, natural and soft light and shadow.   \n[Scene and Composition]: Indoor scene, with a windowsill filled with green plants as the background, and sunlight shining through the screen onto the characters; The composition is a half body portrait, with the camera slightly looking up to highlight the character's youthfulness.   \n[Color and Light]: The main colors are beige, light gray, and green, with a light yellow halo added to the sunny area to create a warm and comfortable atmosphere.\n\nFinally, please output in Chinese, with a word count of around 400 words. Please directly output the prompt content without excessive description or explanation, and without any categorization. Integrate all the content into a complete prompt.   "
      ],
      "inputs": [
        {
          "widget": {
            "name": "text"
          },
          "name": "text",
          "label": "text",
          "type": "STRING",
          "localized_name": "文本"
        }
      ],
      "flags": {},
      "type": "CR Text",
      "mode": 0,
      "bgcolor": "#353",
      "size": [
        336.2318115234375,
        346.9252624511719
      ],
      "pos": [
        1733.2139892578125,
        414.8122253417969
      ],
      "id": 66,
      "properties": {
        "widget_ue_connectable": {},
        "Node name for S&R": "CR Text"
      },
      "order": 9
    },
    {
      "outputs": [
        {
          "name": "STRING",
          "links": [
            74
          ],
          "label": "字符串",
          "type": "*",
          "localized_name": "STRING"
        },
        {
          "name": "show_help",
          "label": "显示帮助",
          "type": "STRING",
          "localized_name": "show_help"
        }
      ],
      "color": "#232",
      "widgets_values": [
        ""
      ],
      "inputs": [
        {
          "shape": 7,
          "name": "text1",
          "link": 72,
          "label": "文本1",
          "type": "STRING",
          "localized_name": "text1"
        },
        {
          "shape": 7,
          "name": "text2",
          "link": 75,
          "label": "文本2",
          "type": "STRING",
          "localized_name": "text2"
        },
        {
          "widget": {
            "name": "separator"
          },
          "shape": 7,
          "name": "separator",
          "label": "separator",
          "type": "STRING",
          "localized_name": "分隔符"
        }
      ],
      "flags": {},
      "type": "CR Text Concatenate",
      "mode": 0,
      "bgcolor": "#353",
      "size": [
        302.85736083984375,
        358.9144592285156
      ],
      "pos": [
        2147.1318359375,
        409.2629699707031
      ],
      "id": 65,
      "properties": {
        "widget_ue_connectable": {},
        "Node name for S&R": "CR Text Concatenate"
      },
      "order": 31
    },
    {
      "outputs": [
        {
          "name": "prompt opt",
          "links": [
            73,
            76
          ],
          "label": "prompt opt",
          "type": "STRING",
          "localized_name": "prompt opt"
        }
      ],
      "color": "#232",
      "widgets_values": [
        "",
        707,
        "randomize"
      ],
      "inputs": [
        {
          "widget": {
            "name": "prompt"
          },
          "name": "prompt",
          "link": 74,
          "label": "prompt",
          "type": "STRING",
          "localized_name": "prompt"
        },
        {
          "widget": {
            "name": "seed"
          },
          "name": "seed",
          "label": "seed",
          "type": "INT",
          "localized_name": "seed"
        }
      ],
      "flags": {},
      "type": "RH_Prompter",
      "mode": 0,
      "bgcolor": "#353",
      "size": [
        298.82928466796875,
        363.7801208496094
      ],
      "pos": [
        2532.251708984375,
        405.0951232910156
      ],
      "id": 68,
      "properties": {
        "widget_ue_connectable": {},
        "rejects_ue_links": false,
        "Node name for S&R": "RH_Prompter"
      },
      "order": 35
    },
    {
      "outputs": [
        {
          "shape": 6,
          "name": "text",
          "links": [],
          "label": "text",
          "type": "STRING",
          "localized_name": "text"
        }
      ],
      "color": "#232",
      "widgets_values": [
        "一位年轻的亚洲女性，肤色白皙，五官精致，杏仁眼，高鼻梁，樱桃小嘴，眉形纤细自然，黑色中长直发，发梢微微内扣，发质柔顺有光泽，身材纤细匀称，身穿一件米白色的丝质衬衫，搭配浅灰色高腰半身裙，衣服质感轻盈柔和，胸前佩戴一枚简约的银色项链。她站在一家明亮的服装店内，手中拿着一件蓝色连衣裙，正微微侧身对着镜子试穿，脸上带着温柔自信的微笑，眼神中透出一丝满意与愉悦。\n\n画面呈现写实风格，色彩柔和清新，皮肤细腻呈现出哑光质感，光线从服装店的大窗户透入，形成柔和的自然光影效果，增加画面温暖的氛围。背景是服装店的试衣区，墙上挂着几件色彩柔和的衣服，旁边有一排衣架，上面悬挂着各种时尚的服饰，地面铺着浅色木质地板，整体环境干净整洁，充满现代感。\n\n画面构图为半身特写，镜头略微向上仰拍，突出角色的优雅气质，背景稍微虚化，使人物成为视觉焦点。整体色调以米白色、浅灰色和淡蓝色为主，配合柔和的光线，营造出自然舒适的试衣间氛围，画面透出一股轻松惬意的都市生活气息。"
      ],
      "inputs": [
        {
          "name": "text",
          "link": 73,
          "label": "text",
          "type": "STRING",
          "localized_name": "text"
        }
      ],
      "flags": {},
      "type": "ShowText|pysssss",
      "mode": 0,
      "bgcolor": "#353",
      "size": [
        284.5793151855469,
        365.04345703125
      ],
      "pos": [
        2898.91748046875,
        401.66180419921875
      ],
      "id": 67,
      "properties": {
        "widget_ue_connectable": {},
        "Node name for S&R": "ShowText|pysssss"
      },
      "order": 36
    },
    {
      "mode": 0,
      "outputs": [
        {
          "name": "translation",
          "links": [
            61,
            75
          ],
          "label": "translation",
          "type": "STRING",
          "localized_name": "translation"
        }
      ],
      "size": [
        400,
        200
      ],
      "pos": [
        389.8583679199219,
        367.7632141113281
      ],
      "widgets_values": [
        "",
        613,
        "randomize",
        "force_english"
      ],
      "inputs": [
        {
          "widget": {
            "name": "prompt"
          },
          "name": "prompt",
          "link": 48,
          "label": "prompt",
          "type": "STRING",
          "localized_name": "prompt"
        },
        {
          "widget": {
            "name": "seed"
          },
          "name": "seed",
          "label": "seed",
          "type": "INT",
          "localized_name": "seed"
        },
        {
          "widget": {
            "name": "advanced_options"
          },
          "shape": 7,
          "name": "advanced_options",
          "label": "advanced_options",
          "type": "COMBO",
          "localized_name": "advanced_options"
        }
      ],
      "flags": {
        "collapsed": true
      },
      "id": 47,
      "type": "RH_Translator",
      "properties": {
        "widget_ue_connectable": {},
        "Node name for S&R": "RH_Translator"
      },
      "order": 25
    },
    {
      "mode": 4,
      "outputs": [
        {
          "name": "torch_compile_args",
          "slot_index": 0,
          "links": [
            24,
            25
          ],
          "label": "torch_compile_args",
          "type": "WANCOMPILEARGS",
          "localized_name": "torch_compile_args"
        }
      ],
      "size": [
        390.5999755859375,
        202
      ],
      "pos": [
        1325.7918701171875,
        1047.036376953125
      ],
      "widgets_values": [
        "inductor",
        false,
        "default",
        false,
        64,
        true,
        128
      ],
      "inputs": [
        {
          "widget": {
            "name": "backend"
          },
          "name": "backend",
          "label": "backend",
          "type": "COMBO",
          "localized_name": "backend"
        },
        {
          "widget": {
            "name": "fullgraph"
          },
          "name": "fullgraph",
          "label": "fullgraph",
          "type": "BOOLEAN",
          "localized_name": "fullgraph"
        },
        {
          "widget": {
            "name": "mode"
          },
          "name": "mode",
          "label": "mode",
          "type": "COMBO",
          "localized_name": "mode"
        },
        {
          "widget": {
            "name": "dynamic"
          },
          "name": "dynamic",
          "label": "dynamic",
          "type": "BOOLEAN",
          "localized_name": "dynamic"
        },
        {
          "widget": {
            "name": "dynamo_cache_size_limit"
          },
          "name": "dynamo_cache_size_limit",
          "label": "dynamo_cache_size_limit",
          "type": "INT",
          "localized_name": "dynamo_cache_size_limit"
        },
        {
          "widget": {
            "name": "compile_transformer_blocks_only"
          },
          "name": "compile_transformer_blocks_only",
          "label": "compile_transformer_blocks_only",
          "type": "BOOLEAN",
          "localized_name": "compile_transformer_blocks_only"
        },
        {
          "widget": {
            "name": "dynamo_recompile_limit"
          },
          "shape": 7,
          "name": "dynamo_recompile_limit",
          "label": "dynamo_recompile_limit",
          "type": "INT",
          "localized_name": "dynamo_recompile_limit"
        }
      ],
      "flags": {},
      "id": 11,
      "type": "WanVideoTorchCompileSettings",
      "properties": {
        "cnr_id": "ComfyUI-WanVideoWrapper",
        "ver": "998a69cc0acbec503001b8b0ce0a5d5404420e1e",
        "widget_ue_connectable": {},
        "Node name for S&R": "WanVideoTorchCompileSettings"
      },
      "order": 10
    },
    {
      "outputs": [
        {
          "name": "model",
          "slot_index": 0,
          "links": [
            3
          ],
          "label": "model",
          "type": "WANVIDEOMODEL",
          "localized_name": "model"
        }
      ],
      "color": "#223",
      "widgets_values": [
        "Wan2_2-T2V-A14B-LOW_fp8_e4m3fn_scaled_KJ.safetensors",
        "bf16",
        "fp8_e4m3fn_scaled",
        "offload_device",
        "sageattn"
      ],
      "inputs": [
        {
          "shape": 7,
          "name": "compile_args",
          "link": 25,
          "label": "compile_args",
          "type": "WANCOMPILEARGS",
          "localized_name": "compile_args"
        },
        {
          "shape": 7,
          "name": "block_swap_args",
          "link": 37,
          "label": "block_swap_args",
          "type": "BLOCKSWAPARGS",
          "localized_name": "block_swap_args"
        },
        {
          "shape": 7,
          "name": "lora",
          "label": "lora",
          "type": "WANVIDLORA",
          "localized_name": "lora"
        },
        {
          "shape": 7,
          "name": "vram_management_args",
          "label": "vram_management_args",
          "type": "VRAM_MANAGEMENTARGS",
          "localized_name": "vram_management_args"
        },
        {
          "shape": 7,
          "name": "extra_model",
          "label": "extra_model",
          "type": "VACEPATH",
          "localized_name": "extra_model"
        },
        {
          "shape": 7,
          "name": "fantasytalking_model",
          "label": "fantasytalking_model",
          "type": "FANTASYTALKINGMODEL",
          "localized_name": "fantasytalking_model"
        },
        {
          "shape": 7,
          "name": "multitalk_model",
          "label": "multitalk_model",
          "type": "MULTITALKMODEL",
          "localized_name": "multitalk_model"
        },
        {
          "shape": 7,
          "name": "fantasyportrait_model",
          "label": "fantasyportrait_model",
          "type": "FANTASYPORTRAITMODEL",
          "localized_name": "fantasyportrait_model"
        },
        {
          "widget": {
            "name": "model"
          },
          "name": "model",
          "label": "model",
          "type": "COMBO",
          "localized_name": "model"
        },
        {
          "widget": {
            "name": "base_precision"
          },
          "name": "base_precision",
          "label": "base_precision",
          "type": "COMBO",
          "localized_name": "base_precision"
        },
        {
          "widget": {
            "name": "quantization"
          },
          "name": "quantization",
          "label": "quantization",
          "type": "COMBO",
          "localized_name": "quantization"
        },
        {
          "widget": {
            "name": "load_device"
          },
          "name": "load_device",
          "label": "load_device",
          "type": "COMBO",
          "localized_name": "load_device"
        },
        {
          "widget": {
            "name": "attention_mode"
          },
          "shape": 7,
          "name": "attention_mode",
          "label": "attention_mode",
          "type": "COMBO",
          "localized_name": "attention_mode"
        },
        {
          "shape": 7,
          "name": "vace_model",
          "label": "vace_model",
          "type": "VACEPATH",
          "localized_name": "vace_model"
        }
      ],
      "flags": {},
      "type": "WanVideoModelLoader",
      "mode": 0,
      "bgcolor": "#335",
      "size": [
        477.4410095214844,
        314
      ],
      "pos": [
        1739.253173828125,
        1826.550048828125
      ],
      "id": 19,
      "properties": {
        "cnr_id": "ComfyUI-WanVideoWrapper",
        "ver": "998a69cc0acbec503001b8b0ce0a5d5404420e1e",
        "widget_ue_connectable": {},
        "Node name for S&R": "WanVideoModelLoader"
      },
      "order": 22
    },
    {
      "outputs": [
        {
          "name": "lora",
          "links": [
            10
          ],
          "label": "lora",
          "type": "WANVIDLORA",
          "localized_name": "lora"
        }
      ],
      "color": "#223",
      "widgets_values": [
        "Wan21_I2V_14B_lightx2v_cfg_step_distill_lora_rank64.safetensors",
        3,
        true,
        false
      ],
      "inputs": [
        {
          "shape": 7,
          "name": "prev_lora",
          "label": "prev_lora",
          "type": "WANVIDLORA",
          "localized_name": "prev_lora"
        },
        {
          "shape": 7,
          "name": "blocks",
          "label": "blocks",
          "type": "SELECTEDBLOCKS",
          "localized_name": "blocks"
        },
        {
          "widget": {
            "name": "lora"
          },
          "name": "lora",
          "label": "lora",
          "type": "COMBO",
          "localized_name": "lora"
        },
        {
          "widget": {
            "name": "strength"
          },
          "name": "strength",
          "label": "strength",
          "type": "FLOAT",
          "localized_name": "strength"
        },
        {
          "widget": {
            "name": "low_mem_load"
          },
          "shape": 7,
          "name": "low_mem_load",
          "label": "low_mem_load",
          "type": "BOOLEAN",
          "localized_name": "low_mem_load"
        },
        {
          "widget": {
            "name": "merge_loras"
          },
          "shape": 7,
          "name": "merge_loras",
          "label": "merge_loras",
          "type": "BOOLEAN",
          "localized_name": "merge_loras"
        }
      ],
      "flags": {},
      "type": "WanVideoLoraSelect",
      "mode": 0,
      "bgcolor": "#335",
      "size": [
        659.4812622070312,
        150
      ],
      "pos": [
        1535.2598876953125,
        1496.2384033203125
      ],
      "id": 9,
      "properties": {
        "cnr_id": "ComfyUI-WanVideoWrapper",
        "ver": "998a69cc0acbec503001b8b0ce0a5d5404420e1e",
        "widget_ue_connectable": {},
        "Node name for S&R": "WanVideoLoraSelect"
      },
      "order": 11
    },
    {
      "outputs": [
        {
          "name": "lora",
          "links": [
            6
          ],
          "label": "lora",
          "type": "WANVIDLORA",
          "localized_name": "lora"
        }
      ],
      "color": "#223",
      "widgets_values": [
        "Wan21_I2V_14B_lightx2v_cfg_step_distill_lora_rank64.safetensors",
        1,
        true,
        false
      ],
      "inputs": [
        {
          "shape": 7,
          "name": "prev_lora",
          "label": "prev_lora",
          "type": "WANVIDLORA",
          "localized_name": "prev_lora"
        },
        {
          "shape": 7,
          "name": "blocks",
          "label": "blocks",
          "type": "SELECTEDBLOCKS",
          "localized_name": "blocks"
        },
        {
          "widget": {
            "name": "lora"
          },
          "name": "lora",
          "label": "lora",
          "type": "COMBO",
          "localized_name": "lora"
        },
        {
          "widget": {
            "name": "strength"
          },
          "name": "strength",
          "label": "strength",
          "type": "FLOAT",
          "localized_name": "strength"
        },
        {
          "widget": {
            "name": "low_mem_load"
          },
          "shape": 7,
          "name": "low_mem_load",
          "label": "low_mem_load",
          "type": "BOOLEAN",
          "localized_name": "low_mem_load"
        },
        {
          "widget": {
            "name": "merge_loras"
          },
          "shape": 7,
          "name": "merge_loras",
          "label": "merge_loras",
          "type": "BOOLEAN",
          "localized_name": "merge_loras"
        }
      ],
      "flags": {},
      "type": "WanVideoLoraSelect",
      "mode": 0,
      "bgcolor": "#335",
      "size": [
        624.4888305664062,
        150
      ],
      "pos": [
        1364.709228515625,
        2176.022216796875
      ],
      "id": 10,
      "properties": {
        "cnr_id": "ComfyUI-WanVideoWrapper",
        "ver": "998a69cc0acbec503001b8b0ce0a5d5404420e1e",
        "widget_ue_connectable": {},
        "Node name for S&R": "WanVideoLoraSelect"
      },
      "order": 12
    },
    {
      "outputs": [
        {
          "name": "INT",
          "links": [
            83
          ],
          "label": "INT",
          "type": "INT",
          "localized_name": "整数"
        }
      ],
      "color": "#232",
      "widgets_values": [
        600
      ],
      "inputs": [
        {
          "widget": {
            "name": "value"
          },
          "name": "value",
          "label": "value",
          "type": "INT",
          "localized_name": "value"
        }
      ],
      "flags": {},
      "type": "JWInteger",
      "title": "视频宽度",
      "mode": 0,
      "bgcolor": "#353",
      "size": [
        418.29132080078125,
        58
      ],
      "pos": [
        -499.1607666015625,
        1226.3328857421875
      ],
      "id": 26,
      "properties": {
        "widget_ue_connectable": {},
        "Node name for S&R": "JWInteger"
      },
      "order": 13
    },
    {
      "outputs": [
        {
          "name": "INT",
          "links": [
            84
          ],
          "label": "INT",
          "type": "INT",
          "localized_name": "整数"
        }
      ],
      "color": "#232",
      "widgets_values": [
        800
      ],
      "inputs": [
        {
          "widget": {
            "name": "value"
          },
          "name": "value",
          "label": "value",
          "type": "INT",
          "localized_name": "value"
        }
      ],
      "flags": {},
      "type": "JWInteger",
      "title": "视频高度",
      "mode": 0,
      "bgcolor": "#353",
      "size": [
        467.5333557128906,
        58
      ],
      "pos": [
        182.48300170898438,
        1231.4248046875
      ],
      "id": 27,
      "properties": {
        "widget_ue_connectable": {},
        "Node name for S&R": "JWInteger"
      },
      "order": 14
    },
    {
      "mode": 0,
      "outputs": [
        {
          "name": "image_embeds",
          "links": [
            16,
            28
          ],
          "label": "image_embeds",
          "type": "WANVIDIMAGE_EMBEDS",
          "localized_name": "image_embeds"
        }
      ],
      "size": [
        315,
        126
      ],
      "pos": [
        1980.945556640625,
        2587.31689453125
      ],
      "widgets_values": [
        832,
        480,
        257
      ],
      "inputs": [
        {
          "shape": 7,
          "name": "control_embeds",
          "label": "control_embeds",
          "type": "WANVIDIMAGE_EMBEDS",
          "localized_name": "control_embeds"
        },
        {
          "shape": 7,
          "name": "extra_latents",
          "label": "extra_latents",
          "type": "LATENT",
          "localized_name": "extra_latents"
        },
        {
          "widget": {
            "name": "width"
          },
          "name": "width",
          "link": 87,
          "label": "width",
          "type": "INT",
          "localized_name": "width"
        },
        {
          "widget": {
            "name": "height"
          },
          "name": "height",
          "link": 88,
          "label": "height",
          "type": "INT",
          "localized_name": "height"
        },
        {
          "widget": {
            "name": "num_frames"
          },
          "name": "num_frames",
          "link": 71,
          "label": "num_frames",
          "type": "INT",
          "localized_name": "num_frames"
        }
      ],
      "flags": {},
      "id": 17,
      "type": "WanVideoEmptyEmbeds",
      "properties": {
        "widget_ue_connectable": {},
        "Node name for S&R": "WanVideoEmptyEmbeds"
      },
      "order": 34
    },
    {
      "mode": 0,
      "outputs": [
        {
          "name": "INT",
          "links": [
            82,
            88
          ],
          "label": "整数",
          "type": "INT",
          "localized_name": "整数"
        },
        {
          "name": "FLOAT",
          "label": "浮点",
          "type": "FLOAT",
          "localized_name": "浮点"
        }
      ],
      "size": [
        210,
        128
      ],
      "pos": [
        1679.990478515625,
        3129.2578125
      ],
      "widgets_values": [
        "a*64"
      ],
      "inputs": [
        {
          "shape": 7,
          "name": "a",
          "link": 79,
          "label": "a",
          "type": "INT,FLOAT,IMAGE,LATENT",
          "localized_name": "a"
        },
        {
          "shape": 7,
          "name": "b",
          "label": "b",
          "type": "INT,FLOAT,IMAGE,LATENT",
          "localized_name": "b"
        },
        {
          "shape": 7,
          "name": "c",
          "label": "c",
          "type": "INT,FLOAT,IMAGE,LATENT",
          "localized_name": "c"
        },
        {
          "widget": {
            "name": "expression"
          },
          "name": "expression",
          "label": "expression",
          "type": "INT,FLOAT,IMAGE,LATENT",
          "localized_name": "表达式"
        }
      ],
      "flags": {
        "collapsed": true
      },
      "id": 71,
      "type": "MathExpression|pysssss",
      "properties": {
        "widget_ue_connectable": {},
        "Node name for S&R": "MathExpression|pysssss"
      },
      "order": 30
    },
    {
      "mode": 0,
      "outputs": [
        {
          "name": "INT",
          "links": [
            79
          ],
          "label": "整数",
          "type": "INT",
          "localized_name": "整数"
        },
        {
          "name": "FLOAT",
          "label": "浮点",
          "type": "FLOAT",
          "localized_name": "浮点"
        }
      ],
      "size": [
        210,
        128
      ],
      "pos": [
        1459.4287109375,
        3124.62744140625
      ],
      "widgets_values": [
        "a/64"
      ],
      "inputs": [
        {
          "shape": 7,
          "name": "a",
          "link": 84,
          "label": "a",
          "type": "INT,FLOAT,IMAGE,LATENT",
          "localized_name": "a"
        },
        {
          "shape": 7,
          "name": "b",
          "label": "b",
          "type": "INT,FLOAT,IMAGE,LATENT",
          "localized_name": "b"
        },
        {
          "shape": 7,
          "name": "c",
          "label": "c",
          "type": "INT,FLOAT,IMAGE,LATENT",
          "localized_name": "c"
        },
        {
          "widget": {
            "name": "expression"
          },
          "name": "expression",
          "label": "expression",
          "type": "INT,FLOAT,IMAGE,LATENT",
          "localized_name": "表达式"
        }
      ],
      "flags": {
        "collapsed": true
      },
      "id": 70,
      "type": "MathExpression|pysssss",
      "properties": {
        "widget_ue_connectable": {},
        "Node name for S&R": "MathExpression|pysssss"
      },
      "order": 24
    },
    {
      "mode": 0,
      "outputs": [
        {
          "name": "INT",
          "links": [
            87
          ],
          "label": "整数",
          "type": "INT",
          "localized_name": "整数"
        },
        {
          "name": "FLOAT",
          "label": "浮点",
          "type": "FLOAT",
          "localized_name": "浮点"
        }
      ],
      "size": [
        215.6060028076172,
        128
      ],
      "pos": [
        1671.0850830078125,
        3036.622802734375
      ],
      "widgets_values": [
        "a*64"
      ],
      "inputs": [
        {
          "shape": 7,
          "name": "a",
          "link": 80,
          "label": "a",
          "type": "INT,FLOAT,IMAGE,LATENT",
          "localized_name": "a"
        },
        {
          "shape": 7,
          "name": "b",
          "label": "b",
          "type": "INT,FLOAT,IMAGE,LATENT",
          "localized_name": "b"
        },
        {
          "shape": 7,
          "name": "c",
          "label": "c",
          "type": "INT,FLOAT,IMAGE,LATENT",
          "localized_name": "c"
        },
        {
          "widget": {
            "name": "expression"
          },
          "name": "expression",
          "label": "expression",
          "type": "INT,FLOAT,IMAGE,LATENT",
          "localized_name": "表达式"
        }
      ],
      "flags": {
        "collapsed": true
      },
      "id": 72,
      "type": "MathExpression|pysssss",
      "properties": {
        "widget_ue_connectable": {},
        "Node name for S&R": "MathExpression|pysssss"
      },
      "order": 29
    },
    {
      "mode": 0,
      "outputs": [
        {
          "name": "INT",
          "links": [
            80
          ],
          "label": "整数",
          "type": "INT",
          "localized_name": "整数"
        },
        {
          "name": "FLOAT",
          "label": "浮点",
          "type": "FLOAT",
          "localized_name": "浮点"
        }
      ],
      "size": [
        212.12411499023438,
        128
      ],
      "pos": [
        1480.209716796875,
        3035.461669921875
      ],
      "widgets_values": [
        "a/64"
      ],
      "inputs": [
        {
          "shape": 7,
          "name": "a",
          "link": 83,
          "label": "a",
          "type": "INT,FLOAT,IMAGE,LATENT",
          "localized_name": "a"
        },
        {
          "shape": 7,
          "name": "b",
          "label": "b",
          "type": "INT,FLOAT,IMAGE,LATENT",
          "localized_name": "b"
        },
        {
          "shape": 7,
          "name": "c",
          "label": "c",
          "type": "INT,FLOAT,IMAGE,LATENT",
          "localized_name": "c"
        },
        {
          "widget": {
            "name": "expression"
          },
          "name": "expression",
          "label": "expression",
          "type": "INT,FLOAT,IMAGE,LATENT",
          "localized_name": "表达式"
        }
      ],
      "flags": {
        "collapsed": true
      },
      "id": 69,
      "type": "MathExpression|pysssss",
      "properties": {
        "widget_ue_connectable": {},
        "Node name for S&R": "MathExpression|pysssss"
      },
      "order": 23
    },
    {
      "mode": 0,
      "outputs": [
        {
          "name": "Filenames",
          "label": "文件名",
          "type": "VHS_FILENAMES",
          "localized_name": "Filenames"
        }
      ],
      "size": [
        1445.7093505859375,
        2272.94580078125
      ],
      "pos": [
        5026.931640625,
        470.66558837890625
      ],
      "widgets_values": {
        "save_output": true,
        "filename_prefix": "WanVideo2_2_I2V",
        "loop_count": 0,
        "pix_fmt": "yuv420p",
        "save_metadata": true,
        "crf": 19,
        "trim_to_audio": false,
        "videopreview": {
          "paused": false,
          "hidden": false,
          "params": {
            "filename": "WanVideo2_2_I2V_00001_p81_issmk_1757676907.mp4",
            "workflow": "WanVideo2_2_I2V_00001_p81.png",
            "fullpath": "/data/ComfyUI/personal/e523f8fc1411b170b2d86a845b1fc797/output/WanVideo2_2_I2V_00001_p81.mp4",
            "format": "video/h264-mp4",
            "subfolder": "",
            "type": "output",
            "frame_rate": 16
          }
        },
        "format": "video/h264-mp4",
        "no_preview": false,
        "frame_rate": 16,
        "pingpong": false
      },
      "inputs": [
        {
          "name": "images",
          "link": 34,
          "label": "图像",
          "type": "IMAGE",
          "localized_name": "images"
        },
        {
          "shape": 7,
          "name": "audio",
          "label": "音频",
          "type": "AUDIO",
          "localized_name": "audio"
        },
        {
          "shape": 7,
          "name": "meta_batch",
          "label": "批次管理",
          "type": "VHS_BatchManager",
          "localized_name": "meta_batch"
        },
        {
          "shape": 7,
          "name": "vae",
          "label": "vae",
          "type": "VAE",
          "localized_name": "vae"
        },
        {
          "widget": {
            "name": "frame_rate"
          },
          "name": "frame_rate",
          "label": "frame_rate",
          "type": "FLOAT",
          "localized_name": "帧率"
        },
        {
          "widget": {
            "name": "loop_count"
          },
          "name": "loop_count",
          "label": "loop_count",
          "type": "INT",
          "localized_name": "循环次数"
        },
        {
          "widget": {
            "name": "filename_prefix"
          },
          "name": "filename_prefix",
          "label": "filename_prefix",
          "type": "STRING",
          "localized_name": "文件名前缀"
        },
        {
          "widget": {
            "name": "format"
          },
          "name": "format",
          "label": "format",
          "type": "COMBO",
          "localized_name": "格式"
        },
        {
          "widget": {
            "name": "pingpong"
          },
          "name": "pingpong",
          "label": "pingpong",
          "type": "BOOLEAN",
          "localized_name": "Ping-Pong"
        },
        {
          "widget": {
            "name": "save_output"
          },
          "name": "save_output",
          "label": "save_output",
          "type": "BOOLEAN",
          "localized_name": "保存到输出文件夹"
        },
        {
          "widget": {
            "name": "no_preview"
          },
          "shape": 7,
          "name": "no_preview",
          "label": "no_preview",
          "type": "BOOLEAN",
          "localized_name": "no_preview"
        }
      ],
      "flags": {},
      "id": 22,
      "type": "VHS_VideoCombine",
      "properties": {
        "cnr_id": "comfyui-videohelpersuite",
        "ver": "0a75c7958fe320efcb052f1d9f8451fd20c730a8",
        "widget_ue_connectable": {},
        "Node name for S&R": "VHS_VideoCombine"
      },
      "order": 43
    },
    {
      "outputs": [
        {
          "name": "block_swap_args",
          "slot_index": 0,
          "links": [
            2,
            4
          ],
          "label": "block_swap_args",
          "type": "BLOCKSWAPARGS",
          "localized_name": "block_swap_args"
        }
      ],
      "color": "#223",
      "widgets_values": [
        20,
        false,
        false,
        false,
        1,
        0,
        false
      ],
      "inputs": [
        {
          "widget": {
            "name": "blocks_to_swap"
          },
          "name": "blocks_to_swap",
          "label": "blocks_to_swap",
          "type": "INT",
          "localized_name": "blocks_to_swap"
        },
        {
          "widget": {
            "name": "offload_img_emb"
          },
          "name": "offload_img_emb",
          "label": "offload_img_emb",
          "type": "BOOLEAN",
          "localized_name": "offload_img_emb"
        },
        {
          "widget": {
            "name": "offload_txt_emb"
          },
          "name": "offload_txt_emb",
          "label": "offload_txt_emb",
          "type": "BOOLEAN",
          "localized_name": "offload_txt_emb"
        },
        {
          "widget": {
            "name": "use_non_blocking"
          },
          "shape": 7,
          "name": "use_non_blocking",
          "label": "use_non_blocking",
          "type": "BOOLEAN",
          "localized_name": "use_non_blocking"
        },
        {
          "widget": {
            "name": "vace_blocks_to_swap"
          },
          "shape": 7,
          "name": "vace_blocks_to_swap",
          "label": "vace_blocks_to_swap",
          "type": "INT",
          "localized_name": "vace_blocks_to_swap"
        },
        {
          "widget": {
            "name": "prefetch_blocks"
          },
          "shape": 7,
          "name": "prefetch_blocks",
          "label": "prefetch_blocks",
          "type": "INT",
          "localized_name": "prefetch_blocks"
        },
        {
          "widget": {
            "name": "block_swap_debug"
          },
          "shape": 7,
          "name": "block_swap_debug",
          "label": "block_swap_debug",
          "type": "BOOLEAN",
          "localized_name": "block_swap_debug"
        }
      ],
      "flags": {},
      "type": "WanVideoBlockSwap",
      "mode": 0,
      "bgcolor": "#335",
      "size": [
        315,
        202
      ],
      "pos": [
        2471.159912109375,
        1422.437255859375
      ],
      "id": 8,
      "properties": {
        "cnr_id": "ComfyUI-WanVideoWrapper",
        "ver": "998a69cc0acbec503001b8b0ce0a5d5404420e1e",
        "widget_ue_connectable": {},
        "Node name for S&R": "WanVideoBlockSwap"
      },
      "order": 15
    },
    {
      "outputs": [
        {
          "name": "wan_t5_model",
          "slot_index": 0,
          "links": [
            12
          ],
          "label": "wan_t5_model",
          "type": "WANTEXTENCODER",
          "localized_name": "wan_t5_model"
        }
      ],
      "color": "#332922",
      "widgets_values": [
        "umt5-xxl-enc-fp8_e4m3fn.safetensors",
        "bf16",
        "offload_device",
        "disabled"
      ],
      "inputs": [
        {
          "widget": {
            "name": "model_name"
          },
          "name": "model_name",
          "label": "model_name",
          "type": "COMBO",
          "localized_name": "model_name"
        },
        {
          "widget": {
            "name": "precision"
          },
          "name": "precision",
          "label": "precision",
          "type": "COMBO",
          "localized_name": "precision"
        },
        {
          "widget": {
            "name": "load_device"
          },
          "shape": 7,
          "name": "load_device",
          "label": "load_device",
          "type": "COMBO",
          "localized_name": "load_device"
        },
        {
          "widget": {
            "name": "quantization"
          },
          "shape": 7,
          "name": "quantization",
          "label": "quantization",
          "type": "COMBO",
          "localized_name": "quantization"
        }
      ],
      "flags": {},
      "type": "LoadWanVideoT5TextEncoder",
      "mode": 0,
      "bgcolor": "#593930",
      "size": [
        377.1661376953125,
        130
      ],
      "pos": [
        2386.922119140625,
        2589.745849609375
      ],
      "id": 15,
      "properties": {
        "cnr_id": "ComfyUI-WanVideoWrapper",
        "ver": "998a69cc0acbec503001b8b0ce0a5d5404420e1e",
        "widget_ue_connectable": {},
        "Node name for S&R": "LoadWanVideoT5TextEncoder"
      },
      "order": 16
    },
    {
      "outputs": [
        {
          "name": "STRING",
          "links": [
            48
          ],
          "label": "字符串",
          "type": "STRING",
          "localized_name": "字符串"
        }
      ],
      "color": "#232",
      "widgets_values": [
        "一个美丽的亚洲模特在服装店试衣服,半身特写"
      ],
      "inputs": [
        {
          "widget": {
            "name": "text"
          },
          "name": "text",
          "label": "text",
          "type": "STRING",
          "localized_name": "文本"
        }
      ],
      "flags": {},
      "type": "Text Multiline",
      "mode": 0,
      "bgcolor": "#353",
      "size": [
        1211.627197265625,
        236.79164123535156
      ],
      "pos": [
        -514.0430297851562,
        353.1340637207031
      ],
      "id": 50,
      "properties": {
        "widget_ue_connectable": {},
        "Node name for S&R": "Text Multiline"
      },
      "order": 17
    }
  ],
  "extra": {
    "VHS_KeepIntermediate": true,
    "links_added_by_ue": [],
    "VHS_MetadataImage": true,
    "ue_links": [],
    "0246.VERSION": [
      0,
      0,
      4
    ],
    "VHS_latentpreviewrate": 0,
    "VHS_latentpreview": false,
    "ds": {
      "offset": [
        -1138.1393035832787,
        -371.3045841791657
      ],
      "scale": 0.3719008264462821
    }
  },
  "groups": [
    {
      "color": "#3f789e",
      "font_size": 50,
      "flags": {},
      "id": 3,
      "title": "提示词润色开关",
      "bounding": [
        -572.751708984375,
        684.0845336914062,
        1321.155029296875,
        329.8072509765625
      ]
    },
    {
      "color": "#3f789e",
      "font_size": 60,
      "flags": {},
      "id": 4,
      "title": "手动提示词（中英文）",
      "bounding": [
        -568.1715698242188,
        196.57968139648438,
        1317.7978515625,
        437.04345703125
      ]
    },
    {
      "color": "#3f789e",
      "font_size": 35,
      "flags": {},
      "id": 5,
      "title": "润色模块",
      "bounding": [
        1296.45654296875,
        258.7912902832031,
        1992.6148681640625,
        607.7037963867188
      ]
    },
    {
      "color": "#3f789e",
      "font_size": 50,
      "flags": {},
      "id": 9,
      "title": "步数",
      "bounding": [
        -548.28173828125,
        1768.0775146484375,
        1279.1566162109375,
        378.59136962890625
      ]
    },
    {
      "color": "#3f789e",
      "font_size": 50,
      "flags": {},
      "id": 10,
      "title": "时长（5秒）",
      "bounding": [
        -553.725341796875,
        1383.6202392578125,
        1292.2884521484375,
        323.4966125488281
      ]
    },
    {
      "color": "#3f789e",
      "font_size": 50,
      "flags": {},
      "id": 12,
      "title": "视频宽度",
      "bounding": [
        -557.4139404296875,
        1075.0760498046875,
        551.3840942382812,
        253.18479919433594
      ]
    },
    {
      "color": "#3f789e",
      "font_size": 50,
      "flags": {},
      "id": 13,
      "title": "视频高度",
      "bounding": [
        93.31813049316406,
        1085.4453125,
        643.3660278320312,
        252.43087768554688
      ]
    },
    {
      "color": "#3f789e",
      "font_size": 24,
      "flags": {},
      "id": 14,
      "title": "Group",
      "bounding": [
        1289.3355712890625,
        918.6994018554688,
        2131.45263671875,
        752.6177368164062
      ]
    },
    {
      "color": "#3f789e",
      "font_size": 24,
      "flags": {},
      "id": 15,
      "title": "Group",
      "bounding": [
        1294.7630615234375,
        1726.561767578125,
        1766.1610107421875,
        646.5897216796875
      ]
    },
    {
      "color": "#3f789e",
      "font_size": 24,
      "flags": {},
      "id": 16,
      "title": "随机种子",
      "bounding": [
        -543.5713500976562,
        2192.906005859375,
        544.6456909179688,
        220.7930145263672
      ]
    },
    {
      "color": "#a1309b",
      "font_size": 150,
      "flags": {},
      "id": 19,
      "title": "参数设置",
      "bounding": [
        -570.1436157226562,
        -180.0671844482422,
        1326.1302490234375,
        220.2807159423828
      ]
    },
    {
      "color": "#a1309b",
      "font_size": 150,
      "flags": {},
      "id": 20,
      "title": "生成过程",
      "bounding": [
        1281.141845703125,
        -187.43177795410156,
        3366.76025390625,
        215.07501220703125
      ]
    },
    {
      "color": "#a1309b",
      "font_size": 150,
      "flags": {},
      "id": 21,
      "title": "生成结果",
      "bounding": [
        5036.14697265625,
        -183.8445587158203,
        1430.168701171875,
        215.07501220703125
      ]
    },
    {
      "color": "#3f789e",
      "font_size": 24,
      "flags": {},
      "id": 22,
      "title": "分辨率运算（部分尺寸防报错处理）",
      "bounding": [
        1410.7408447265625,
        2908.10595703125,
        432.9637145996094,
        254.22288513183594
      ]
    }
  ],
  "links": [
    [
      1,
      18,
      0,
      2,
      0,
      "WANVIDEOMODEL"
    ],
    [
      2,
      8,
      0,
      2,
      1,
      "BLOCKSWAPARGS"
    ],
    [
      3,
      19,
      0,
      3,
      0,
      "WANVIDEOMODEL"
    ],
    [
      4,
      8,
      0,
      3,
      1,
      "BLOCKSWAPARGS"
    ],
    [
      5,
      3,
      0,
      4,
      0,
      "WANVIDEOMODEL"
    ],
    [
      6,
      10,
      0,
      4,
      1,
      "WANVIDLORA"
    ],
    [
      7,
      13,
      0,
      5,
      0,
      "WANVAE"
    ],
    [
      8,
      16,
      0,
      5,
      1,
      "LATENT"
    ],
    [
      9,
      2,
      0,
      6,
      0,
      "WANVIDEOMODEL"
    ],
    [
      10,
      9,
      0,
      6,
      1,
      "WANVIDLORA"
    ],
    [
      11,
      5,
      0,
      7,
      0,
      "IMAGE"
    ],
    [
      12,
      15,
      0,
      14,
      0,
      "WANTEXTENCODER"
    ],
    [
      14,
      4,
      0,
      16,
      0,
      "WANVIDEOMODEL"
    ],
    [
      15,
      14,
      0,
      16,
      1,
      "WANVIDEOTEXTEMBEDS"
    ],
    [
      16,
      17,
      0,
      16,
      2,
      "WANVIDIMAGE_EMBEDS"
    ],
    [
      17,
      20,
      0,
      16,
      3,
      "LATENT"
    ],
    [
      19,
      24,
      0,
      16,
      27,
      "INT"
    ],
    [
      20,
      12,
      0,
      16,
      20,
      "INT"
    ],
    [
      24,
      11,
      0,
      18,
      0,
      "WANCOMPILEARGS"
    ],
    [
      25,
      11,
      0,
      19,
      0,
      "WANCOMPILEARGS"
    ],
    [
      26,
      6,
      0,
      20,
      0,
      "WANVIDEOMODEL"
    ],
    [
      27,
      14,
      0,
      20,
      1,
      "WANVIDEOTEXTEMBEDS"
    ],
    [
      28,
      17,
      0,
      20,
      2,
      "WANVIDIMAGE_EMBEDS"
    ],
    [
      30,
      21,
      0,
      20,
      18,
      "FLOAT"
    ],
    [
      31,
      24,
      0,
      20,
      28,
      "INT"
    ],
    [
      32,
      12,
      0,
      20,
      20,
      "INT"
    ],
    [
      34,
      7,
      0,
      22,
      0,
      "IMAGE"
    ],
    [
      36,
      35,
      0,
      18,
      1,
      "BLOCKSWAPARGS"
    ],
    [
      37,
      36,
      0,
      19,
      1,
      "BLOCKSWAPARGS"
    ],
    [
      48,
      50,
      0,
      47,
      0,
      "STRING"
    ],
    [
      55,
      49,
      0,
      54,
      2,
      "BOOLEAN"
    ],
    [
      61,
      47,
      0,
      54,
      1,
      "*"
    ],
    [
      63,
      54,
      0,
      14,
      2,
      "STRING"
    ],
    [
      64,
      60,
      0,
      21,
      0,
      "INT"
    ],
    [
      65,
      60,
      0,
      20,
      17,
      "INT"
    ],
    [
      66,
      60,
      0,
      16,
      17,
      "INT"
    ],
    [
      67,
      60,
      0,
      61,
      0,
      "INT,FLOAT,IMAGE,LATENT"
    ],
    [
      69,
      61,
      0,
      24,
      0,
      "INT"
    ],
    [
      70,
      62,
      0,
      63,
      0,
      "*"
    ],
    [
      71,
      63,
      0,
      17,
      4,
      "INT"
    ],
    [
      72,
      66,
      0,
      65,
      0,
      "STRING"
    ],
    [
      73,
      68,
      0,
      67,
      0,
      "STRING"
    ],
    [
      74,
      65,
      0,
      68,
      0,
      "STRING"
    ],
    [
      75,
      47,
      0,
      65,
      1,
      "STRING"
    ],
    [
      76,
      68,
      0,
      54,
      0,
      "*"
    ],
    [
      79,
      70,
      0,
      71,
      0,
      "INT,FLOAT,IMAGE,LATENT"
    ],
    [
      80,
      69,
      0,
      72,
      0,
      "INT,FLOAT,IMAGE,LATENT"
    ],
    [
      83,
      26,
      0,
      69,
      0,
      "INT,FLOAT,IMAGE,LATENT"
    ],
    [
      84,
      27,
      0,
      70,
      0,
      "INT,FLOAT,IMAGE,LATENT"
    ],
    [
      87,
      72,
      0,
      17,
      2,
      "INT"
    ],
    [
      88,
      71,
      0,
      17,
      3,
      "INT"
    ]
  ],
  "id": "4227cffa-2c72-4011-9bdb-99c880d870ca",
  "config": {},
  "version": 0.4,
  "last_node_id": 72,
  "revision": 0
}