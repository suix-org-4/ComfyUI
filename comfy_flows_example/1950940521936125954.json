{
  "last_link_id": 87,
  "nodes": [
    {
      "mode": 0,
      "outputs": [
        {
          "name": "VAE",
          "links": [
            58,
            74
          ],
          "type": "VAE",
          "localized_name": "VAE"
        }
      ],
      "size": [
        270,
        58
      ],
      "pos": [
        -315.7578430175781,
        689.2286987304688
      ],
      "widgets_values": [
        "ae.safetensors"
      ],
      "inputs": [],
      "flags": {},
      "id": 39,
      "type": "VAELoader",
      "properties": {
        "cnr_id": "comfy-core",
        "models": [
          {
            "name": "ae.safetensors",
            "directory": "vae",
            "url": "https://huggingface.co/Comfy-Org/Lumina_Image_2.0_Repackaged/resolve/main/split_files/vae/ae.safetensors"
          }
        ],
        "ver": "0.3.40",
        "Node name for S&R": "VAELoader"
      },
      "order": 0
    },
    {
      "mode": 0,
      "outputs": [
        {
          "name": "CLIP",
          "links": [
            64
          ],
          "label": "CLIP",
          "type": "CLIP",
          "localized_name": "CLIP"
        }
      ],
      "size": [
        270,
        130
      ],
      "pos": [
        -318.7987365722656,
        483.3807373046875
      ],
      "widgets_values": [
        "clip_l.safetensors",
        "t5xxl_fp8_e4m3fn.safetensors",
        "flux",
        "default"
      ],
      "inputs": [],
      "flags": {},
      "id": 40,
      "type": "DualCLIPLoader",
      "properties": {
        "cnr_id": "comfy-core",
        "models": [
          {
            "name": "clip_l.safetensors",
            "directory": "text_encoders",
            "url": "https://huggingface.co/comfyanonymous/flux_text_encoders/resolve/main/clip_l.safetensors"
          },
          {
            "name": "t5xxl_fp16.safetensors",
            "directory": "text_encoders",
            "url": "https://huggingface.co/comfyanonymous/flux_text_encoders/resolve/main/t5xxl_fp16.safetensors"
          }
        ],
        "ver": "0.3.40",
        "Node name for S&R": "DualCLIPLoader"
      },
      "order": 1
    },
    {
      "outputs": [],
      "color": "#432",
      "widgets_values": [
        "The original version of the model will be around 47GB, so users with low VRAM will not be able to run it. You can wait for the community to make the fp8 or GGUF version.\n\nThe default **weight_dtype** is set to **fp8_e4m3fn_fast** to make the first use easier.\n\nIf you have enough VRAM, such as an **RTX 4090 with 24GB**, you can set **weight_dtype** to **default** for better quality.\n\nFor reference, data generated at 1024*1024 resolution on a 4090 24GB:\n- Weight_dtype: default\n- VRAM usage: 96%\n- 1st Gen: 90s\n- 2nd Gen: 40s"
      ],
      "inputs": [],
      "flags": {},
      "type": "MarkdownNote",
      "title": "VRAM Usage",
      "mode": 0,
      "bgcolor": "#653",
      "size": [
        520,
        190
      ],
      "pos": [
        -1103.39208984375,
        119.12281799316406
      ],
      "id": 51,
      "properties": {},
      "order": 2
    },
    {
      "outputs": [],
      "color": "#432",
      "widgets_values": [
        "网盘下载：\n-  **flux1-krea-dev**：https://pan.quark.cn/s/5ad9442f8c24?pwd=NWPe 提取码：NWPe\n\n```\nComfyUI/\n├── models/\n│   ├── diffusion_models/\n│   │   └─── flux1-krea-dev.safetensors \n│   ├── text_encoders/\n│   │   ├── clip_l.safetensors\n│   │   └─── t5xxl_fp16.safetensors # or t5xxl_fp8_e4m3fn_scaled.safetensors\n│   └── vae/\n│       └── ae.safetensors\n```\n"
      ],
      "inputs": [],
      "flags": {},
      "type": "MarkdownNote",
      "title": "Model links",
      "mode": 0,
      "bgcolor": "#653",
      "size": [
        520,
        390
      ],
      "pos": [
        -1066.1402587890625,
        411.4619140625
      ],
      "id": 43,
      "properties": {},
      "order": 3
    },
    {
      "mode": 0,
      "outputs": [
        {
          "name": "MODEL",
          "links": [
            61
          ],
          "label": "模型",
          "type": "MODEL",
          "localized_name": "模型"
        }
      ],
      "size": [
        381.7544250488281,
        87.32166290283203
      ],
      "pos": [
        -321.8397521972656,
        331.217041015625
      ],
      "widgets_values": [
        "flux1-krea-dev.safetensors",
        "fp8_e4m3fn_fast"
      ],
      "inputs": [],
      "flags": {},
      "id": 38,
      "type": "UNETLoader",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.40",
        "Node name for S&R": "UNETLoader"
      },
      "order": 4
    },
    {
      "mode": 0,
      "outputs": [
        {
          "name": "LATENT",
          "slot_index": 0,
          "links": [
            52
          ],
          "label": "Latent",
          "type": "LATENT",
          "localized_name": "Latent"
        }
      ],
      "size": [
        315,
        262
      ],
      "pos": [
        237.7510986328125,
        798.8777465820312
      ],
      "widgets_values": [
        401297364299437,
        "randomize",
        20,
        1,
        "euler",
        "simple",
        1
      ],
      "inputs": [
        {
          "name": "model",
          "link": 61,
          "label": "模型",
          "type": "MODEL",
          "localized_name": "模型"
        },
        {
          "name": "positive",
          "link": 65,
          "label": "正面条件",
          "type": "CONDITIONING",
          "localized_name": "正面条件"
        },
        {
          "name": "negative",
          "link": 63,
          "label": "负面条件",
          "type": "CONDITIONING",
          "localized_name": "负面条件"
        },
        {
          "name": "latent_image",
          "link": 76,
          "label": "Latent",
          "type": "LATENT",
          "localized_name": "Latent图像"
        }
      ],
      "flags": {},
      "id": 31,
      "type": "KSampler",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.40",
        "Node name for S&R": "KSampler"
      },
      "order": 15
    },
    {
      "mode": 0,
      "outputs": [
        {
          "name": "LATENT",
          "links": [
            76
          ],
          "label": "Latent",
          "type": "LATENT",
          "localized_name": "Latent"
        }
      ],
      "size": [
        210,
        58
      ],
      "pos": [
        -23.73246955871582,
        1096.5760498046875
      ],
      "widgets_values": [
        2
      ],
      "inputs": [
        {
          "name": "samples",
          "link": 75,
          "label": "Latent",
          "type": "LATENT",
          "localized_name": "Latent"
        }
      ],
      "flags": {},
      "id": 55,
      "type": "RepeatLatentBatch",
      "properties": {
        "widget_ue_connectable": {},
        "Node name for S&R": "RepeatLatentBatch"
      },
      "order": 10
    },
    {
      "mode": 0,
      "outputs": [
        {
          "name": "LATENT",
          "links": [
            75
          ],
          "label": "Latent",
          "type": "LATENT",
          "localized_name": "Latent"
        }
      ],
      "size": [
        210,
        46
      ],
      "pos": [
        2.115447759628296,
        966.5761108398438
      ],
      "widgets_values": [],
      "inputs": [
        {
          "name": "pixels",
          "link": 79,
          "label": "图像",
          "type": "IMAGE",
          "localized_name": "像素"
        },
        {
          "name": "vae",
          "link": 74,
          "label": "VAE",
          "type": "VAE",
          "localized_name": "vae"
        }
      ],
      "flags": {},
      "id": 53,
      "type": "VAEEncode",
      "properties": {
        "widget_ue_connectable": {},
        "Node name for S&R": "VAEEncode"
      },
      "order": 8
    },
    {
      "mode": 0,
      "outputs": [
        {
          "name": "IMAGE",
          "slot_index": 0,
          "links": [
            9,
            81
          ],
          "label": "图像",
          "type": "IMAGE",
          "localized_name": "图像"
        }
      ],
      "size": [
        210,
        46
      ],
      "pos": [
        647.809326171875,
        376.01214599609375
      ],
      "widgets_values": [],
      "inputs": [
        {
          "name": "samples",
          "link": 52,
          "label": "Latent",
          "type": "LATENT",
          "localized_name": "Latent"
        },
        {
          "name": "vae",
          "link": 58,
          "label": "VAE",
          "type": "VAE",
          "localized_name": "vae"
        }
      ],
      "flags": {
        "collapsed": true
      },
      "id": 8,
      "type": "VAEDecode",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.40",
        "Node name for S&R": "VAEDecode"
      },
      "order": 16
    },
    {
      "mode": 0,
      "outputs": [],
      "size": [
        373.9179382324219,
        396.19866943359375
      ],
      "pos": [
        611.5521240234375,
        434.9013366699219
      ],
      "widgets_values": [
        "pl-flux_krea",
        ""
      ],
      "inputs": [
        {
          "name": "images",
          "link": 9,
          "label": "图像",
          "type": "IMAGE",
          "localized_name": "图片"
        }
      ],
      "flags": {},
      "id": 9,
      "type": "SaveImage",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.40",
        "Node name for S&R": "SaveImage"
      },
      "order": 17
    },
    {
      "mode": 0,
      "outputs": [],
      "size": [
        373.9179382324219,
        396.19866943359375
      ],
      "pos": [
        1018.5484619140625,
        524.119873046875
      ],
      "widgets_values": [
        "pl-flux_krea"
      ],
      "inputs": [
        {
          "name": "images",
          "link": 82,
          "label": "图像",
          "type": "IMAGE",
          "localized_name": "图片"
        }
      ],
      "flags": {},
      "id": 58,
      "type": "SaveImage",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.40",
        "widget_ue_connectable": {},
        "Node name for S&R": "SaveImage"
      },
      "order": 19
    },
    {
      "mode": 0,
      "outputs": [
        {
          "name": "IMAGE",
          "links": [
            82
          ],
          "label": "IMAGE",
          "type": "IMAGE",
          "localized_name": "图像"
        }
      ],
      "size": [
        315,
        150
      ],
      "pos": [
        1027.6715087890625,
        322.6578369140625
      ],
      "widgets_values": [
        "right",
        true,
        0,
        "white"
      ],
      "inputs": [
        {
          "name": "image1",
          "link": 80,
          "label": "image1",
          "type": "IMAGE",
          "localized_name": "image1"
        },
        {
          "shape": 7,
          "name": "image2",
          "link": 81,
          "label": "image2",
          "type": "IMAGE",
          "localized_name": "image2"
        }
      ],
      "flags": {},
      "id": 56,
      "type": "ImageStitch",
      "properties": {
        "widget_ue_connectable": {},
        "Node name for S&R": "ImageStitch"
      },
      "order": 18
    },
    {
      "mode": 0,
      "outputs": [
        {
          "name": "CONDITIONING",
          "links": [
            63
          ],
          "label": "条件",
          "type": "CONDITIONING",
          "localized_name": "条件"
        }
      ],
      "size": [
        200,
        30
      ],
      "pos": [
        339.8671875,
        726.6063232421875
      ],
      "widgets_values": [],
      "inputs": [
        {
          "name": "conditioning",
          "link": 66,
          "label": "条件",
          "type": "CONDITIONING",
          "localized_name": "条件"
        }
      ],
      "flags": {
        "collapsed": false
      },
      "id": 42,
      "type": "ConditioningZeroOut",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.40",
        "Node name for S&R": "ConditioningZeroOut"
      },
      "order": 14
    },
    {
      "mode": 0,
      "outputs": [
        {
          "name": "CONDITIONING",
          "links": [
            65,
            66
          ],
          "label": "条件",
          "type": "CONDITIONING",
          "localized_name": "条件"
        }
      ],
      "size": [
        330,
        210
      ],
      "pos": [
        398.1070556640625,
        680.4515380859375
      ],
      "widgets_values": [
        ""
      ],
      "inputs": [
        {
          "name": "clip",
          "link": 64,
          "label": "CLIP",
          "type": "CLIP",
          "localized_name": "clip"
        },
        {
          "widget": {
            "name": "text"
          },
          "name": "text",
          "link": 84,
          "label": "文本",
          "type": "STRING",
          "localized_name": "文本"
        }
      ],
      "flags": {
        "collapsed": true
      },
      "id": 45,
      "type": "CLIPTextEncode",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.47",
        "Node name for S&R": "CLIPTextEncode"
      },
      "order": 12
    },
    {
      "mode": 0,
      "outputs": [
        {
          "name": "STRING",
          "links": [
            84,
            85
          ],
          "label": "字符串",
          "type": "STRING",
          "localized_name": "字符串"
        }
      ],
      "size": [
        315,
        178
      ],
      "pos": [
        -33.68705749511719,
        470.23907470703125
      ],
      "widgets_values": [
        ", ",
        "true",
        "",
        "",
        "",
        ""
      ],
      "inputs": [
        {
          "widget": {
            "name": "text_a"
          },
          "shape": 7,
          "name": "text_a",
          "link": 83,
          "label": "文本_A",
          "type": "STRING"
        },
        {
          "widget": {
            "name": "text_b"
          },
          "shape": 7,
          "name": "text_b",
          "link": 87,
          "label": "文本_B",
          "type": "STRING"
        },
        {
          "widget": {
            "name": "text_c"
          },
          "shape": 7,
          "name": "text_c",
          "label": "文本_C",
          "type": "STRING"
        },
        {
          "widget": {
            "name": "text_d"
          },
          "shape": 7,
          "name": "text_d",
          "label": "文本_d",
          "type": "STRING"
        }
      ],
      "flags": {},
      "id": 60,
      "type": "Text Concatenate",
      "properties": {
        "widget_ue_connectable": {},
        "Node name for S&R": "Text Concatenate"
      },
      "order": 11
    },
    {
      "mode": 0,
      "outputs": [
        {
          "name": "STRING",
          "links": [
            83
          ],
          "label": "字符串",
          "type": "STRING",
          "localized_name": "字符串"
        }
      ],
      "size": [
        298.8127746582031,
        111.69119262695312
      ],
      "pos": [
        165.92723083496094,
        306.4998474121094
      ],
      "widgets_values": [
        "chinese women,"
      ],
      "inputs": [],
      "flags": {},
      "id": 59,
      "type": "Text Multiline",
      "properties": {
        "widget_ue_connectable": {},
        "Node name for S&R": "Text Multiline"
      },
      "order": 5
    },
    {
      "mode": 0,
      "outputs": [
        {
          "name": "IMAGE",
          "links": [
            79,
            80,
            86
          ],
          "label": "IMAGE",
          "type": "IMAGE",
          "localized_name": "图像"
        }
      ],
      "size": [
        210,
        105.5672836303711
      ],
      "pos": [
        -137.7676239013672,
        800.8451538085938
      ],
      "widgets_values": [
        1024,
        true
      ],
      "inputs": [
        {
          "name": "images",
          "link": 78,
          "label": "images",
          "type": "IMAGE",
          "localized_name": "images"
        }
      ],
      "flags": {},
      "id": 57,
      "type": "ImageScaleDownToSize",
      "properties": {
        "widget_ue_connectable": {},
        "Node name for S&R": "ImageScaleDownToSize"
      },
      "order": 7
    },
    {
      "mode": 0,
      "outputs": [
        {
          "name": "describe",
          "links": [
            87
          ],
          "label": "describe",
          "type": "STRING",
          "localized_name": "describe"
        }
      ],
      "size": [
        377.92279052734375,
        136.52804565429688
      ],
      "pos": [
        142.0105743408203,
        118.84349060058594
      ],
      "widgets_values": [
        "Please provide a detailed description of this image. If any characters in the image are familiar to you, such as celebrities, movie characters, or animated figures, please directly use their names. The description should be as detailed as possible, but should not exceed 200 words."
      ],
      "inputs": [
        {
          "name": "ref_image",
          "link": 86,
          "label": "ref_image",
          "type": "IMAGE",
          "localized_name": "ref_image"
        }
      ],
      "flags": {},
      "id": 62,
      "type": "RH_Captioner",
      "properties": {
        "widget_ue_connectable": {},
        "Node name for S&R": "RH_Captioner"
      },
      "order": 9
    },
    {
      "mode": 0,
      "outputs": [
        {
          "name": "output",
          "type": "*",
          "localized_name": "output"
        }
      ],
      "size": [
        244.03562927246094,
        135.79248046875
      ],
      "pos": [
        337.9456787109375,
        505.1945495605469
      ],
      "widgets_values": [
        "chinese women,, The image depicts a serene indoor setting featuring a woman seated on a wooden floor bathed in warm, natural light. She is wrapped snugly in an oversized, cream-colored knitted shawl that drapes over her shoulders and covers most of her body, extending toward her legs. She wears a hint of light-colored clothing beneath the shawl, barely visible, adding to the understated aesthetic of the scene. Her long, dark hair falls gracefully past her shoulders, adding a soft contrast to the neutrality of her attire and surroundings. \n\nThe background is minimalistic, with muted beige walls and a dark, modern side table on the right. Atop the table sits a round, matte black vase, adding a touch of elegance and artistry to the composition. The overall ambiance of the photograph conveys warmth, quietude, and a sense of introspection, amplified by the soft shadows and the play of light across the floorboards and fabric. The image evokes a comforting, tranquil mood."
      ],
      "inputs": [
        {
          "shape": 7,
          "name": "anything",
          "link": 85,
          "label": "输入任何",
          "type": "*",
          "localized_name": "anything"
        }
      ],
      "flags": {},
      "id": 61,
      "type": "easy showAnything",
      "properties": {
        "widget_ue_connectable": {},
        "Node name for S&R": "easy showAnything"
      },
      "order": 13
    },
    {
      "mode": 0,
      "outputs": [
        {
          "name": "IMAGE",
          "links": [
            78
          ],
          "label": "图像",
          "type": "IMAGE",
          "localized_name": "图像"
        },
        {
          "name": "MASK",
          "label": "遮罩",
          "type": "MASK",
          "localized_name": "遮罩"
        }
      ],
      "size": [
        315,
        314
      ],
      "pos": [
        -509.2484436035156,
        855.0576171875
      ],
      "widgets_values": [
        "46578a528a0b5d830b355205664ab4286469c558ff7cc0845796b3bc7647ca03.png",
        "image",
        ""
      ],
      "inputs": [],
      "flags": {},
      "id": 54,
      "type": "LoadImage",
      "properties": {
        "widget_ue_connectable": {},
        "Node name for S&R": "LoadImage"
      },
      "order": 6
    }
  ],
  "extra": {
    "VHS_KeepIntermediate": true,
    "links_added_by_ue": [],
    "VHS_MetadataImage": true,
    "ue_links": [],
    "0246.VERSION": [
      0,
      0,
      4
    ],
    "VHS_latentpreviewrate": 0,
    "frontendVersion": "1.25.2",
    "VHS_latentpreview": false,
    "ds": {
      "offset": [
        1075.1594354373647,
        103.21510521010573
      ],
      "scale": 0.7972024500000005
    }
  },
  "groups": [
    {
      "color": "#3f789e",
      "font_size": 24,
      "flags": {},
      "id": 1,
      "title": "文生图",
      "bounding": [
        -331.8397521972656,
        249.05780029296875,
        1734.3060302734375,
        915.518310546875
      ]
    },
    {
      "color": "#3f789e",
      "font_size": 120,
      "flags": {},
      "id": 4,
      "title": "欢迎关注【破狼】公众号",
      "bounding": [
        -362.5667724609375,
        -183.0753631591797,
        1391.3287353515625,
        224.29611206054688
      ]
    }
  ],
  "links": [
    [
      9,
      8,
      0,
      9,
      0,
      "IMAGE"
    ],
    [
      52,
      31,
      0,
      8,
      0,
      "LATENT"
    ],
    [
      58,
      39,
      0,
      8,
      1,
      "VAE"
    ],
    [
      61,
      38,
      0,
      31,
      0,
      "MODEL"
    ],
    [
      63,
      42,
      0,
      31,
      2,
      "CONDITIONING"
    ],
    [
      64,
      40,
      0,
      45,
      0,
      "CLIP"
    ],
    [
      65,
      45,
      0,
      31,
      1,
      "CONDITIONING"
    ],
    [
      66,
      45,
      0,
      42,
      0,
      "CONDITIONING"
    ],
    [
      74,
      39,
      0,
      53,
      1,
      "VAE"
    ],
    [
      75,
      53,
      0,
      55,
      0,
      "LATENT"
    ],
    [
      76,
      55,
      0,
      31,
      3,
      "LATENT"
    ],
    [
      78,
      54,
      0,
      57,
      0,
      "IMAGE"
    ],
    [
      79,
      57,
      0,
      53,
      0,
      "IMAGE"
    ],
    [
      80,
      57,
      0,
      56,
      0,
      "IMAGE"
    ],
    [
      81,
      8,
      0,
      56,
      1,
      "IMAGE"
    ],
    [
      82,
      56,
      0,
      58,
      0,
      "IMAGE"
    ],
    [
      83,
      59,
      0,
      60,
      0,
      "STRING"
    ],
    [
      84,
      60,
      0,
      45,
      1,
      "STRING"
    ],
    [
      85,
      60,
      0,
      61,
      0,
      "*"
    ],
    [
      86,
      57,
      0,
      62,
      0,
      "IMAGE"
    ],
    [
      87,
      62,
      0,
      60,
      1,
      "STRING"
    ]
  ],
  "id": "908d0bfb-e192-4627-9b57-147496e6e2dd",
  "config": {},
  "version": 0.4,
  "last_node_id": 62,
  "revision": 0
}