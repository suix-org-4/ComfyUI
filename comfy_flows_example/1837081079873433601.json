{
  "last_link_id": 132,
  "nodes": [
    {
      "mode": 0,
      "outputs": [
        {
          "shape": 3,
          "name": "IMAGE",
          "slot_index": 0,
          "links": [
            113,
            114,
            126
          ],
          "label": "IMAGE",
          "type": "IMAGE",
          "localized_name": "IMAGE"
        }
      ],
      "size": [
        315,
        82
      ],
      "pos": [
        909,
        41
      ],
      "widgets_values": [
        512,
        "bicubic"
      ],
      "inputs": [
        {
          "name": "image",
          "link": 112,
          "label": "image",
          "type": "IMAGE",
          "localized_name": "image"
        }
      ],
      "flags": {},
      "id": 65,
      "type": "JWImageResizeToSquare",
      "properties": {
        "Node name for S&R": "JWImageResizeToSquare"
      },
      "order": 4
    },
    {
      "outputs": [
        {
          "shape": 3,
          "name": "TEXT",
          "links": [
            100,
            121
          ],
          "label": "TEXT",
          "type": "TEXT",
          "localized_name": "TEXT"
        }
      ],
      "color": "#222",
      "widgets_values": [
        "大家好呀，你猜猜我是谁，哈哈，我其实是个数字人。"
      ],
      "inputs": [],
      "flags": {},
      "type": "TextNode",
      "mode": 0,
      "bgcolor": "#000",
      "size": [
        266.81341552734375,
        166.03054809570312
      ],
      "pos": [
        100,
        398.04986572265625
      ],
      "id": 53,
      "properties": {
        "Node name for S&R": "TextNode"
      },
      "order": 0
    },
    {
      "mode": 0,
      "outputs": [],
      "size": [
        315,
        112
      ],
      "pos": [
        822.3223266601562,
        305.0603942871094
      ],
      "widgets_values": [
        "audio/ComfyUI",
        ""
      ],
      "inputs": [
        {
          "name": "audio",
          "link": 122,
          "label": "audio",
          "type": "AUDIO",
          "localized_name": "audio"
        }
      ],
      "flags": {
        "collapsed": true
      },
      "id": 55,
      "type": "SaveAudio",
      "properties": {
        "Node name for S&R": "SaveAudio"
      },
      "order": 5
    },
    {
      "mode": 0,
      "outputs": [
        {
          "name": "AUDIO",
          "links": [
            122,
            123,
            124,
            125,
            127
          ],
          "label": "AUDIO",
          "type": "AUDIO",
          "localized_name": "AUDIO"
        }
      ],
      "size": [
        315,
        214
      ],
      "pos": [
        429.6347961425781,
        690.2601318359375
      ],
      "widgets_values": [
        1,
        "预训练音色",
        "中文女",
        166,
        "randomize"
      ],
      "inputs": [
        {
          "name": "tts_text",
          "link": 121,
          "label": "tts_text",
          "type": "TEXT",
          "localized_name": "tts_text"
        },
        {
          "shape": 7,
          "name": "prompt_text",
          "label": "prompt_text",
          "type": "TEXT",
          "localized_name": "prompt_text"
        },
        {
          "shape": 7,
          "name": "prompt_wav",
          "label": "prompt_wav",
          "type": "AUDIO",
          "localized_name": "prompt_wav"
        },
        {
          "shape": 7,
          "name": "instruct_text",
          "label": "instruct_text",
          "type": "TEXT",
          "localized_name": "instruct_text"
        }
      ],
      "flags": {},
      "id": 67,
      "type": "CosyVoiceNode",
      "properties": {
        "Node name for S&R": "CosyVoiceNode"
      },
      "order": 3
    },
    {
      "mode": 0,
      "outputs": [
        {
          "shape": 3,
          "name": "IMAGE",
          "slot_index": 0,
          "links": [
            112
          ],
          "label": "IMAGE",
          "type": "IMAGE",
          "localized_name": "IMAGE"
        },
        {
          "shape": 3,
          "name": "MASK",
          "label": "MASK",
          "type": "MASK",
          "localized_name": "MASK"
        }
      ],
      "size": [
        457.74981689453125,
        372.2268981933594
      ],
      "pos": [
        281.44622802734375,
        1.655897855758667
      ],
      "widgets_values": [
        "6a3dfbf92a8909f1390b7235de68c06e11352536b9a5317bb17d6b8da7872ebc.png",
        "image",
        ""
      ],
      "inputs": [],
      "flags": {},
      "id": 4,
      "type": "LoadImage",
      "properties": {
        "Node name for S&R": "LoadImage"
      },
      "order": 1
    },
    {
      "outputs": [],
      "color": "#222",
      "widgets_values": [
        ""
      ],
      "inputs": [
        {
          "name": "audio",
          "link": 123,
          "label": "audio",
          "type": "AUDIO",
          "localized_name": "audio"
        }
      ],
      "flags": {},
      "type": "PreviewAudio",
      "mode": 0,
      "bgcolor": "#000",
      "size": [
        210,
        88
      ],
      "pos": [
        758,
        483
      ],
      "id": 54,
      "properties": {
        "Node name for S&R": "PreviewAudio"
      },
      "order": 6
    },
    {
      "mode": 0,
      "outputs": [
        {
          "shape": 3,
          "name": "Filenames",
          "label": "Filenames",
          "type": "VHS_FILENAMES",
          "localized_name": "Filenames"
        }
      ],
      "size": [
        214.7587890625,
        542.7587890625
      ],
      "pos": [
        2030.2611083984375,
        90.2007064819336
      ],
      "widgets_values": {
        "save_output": true,
        "filename_prefix": "AnimateDiff",
        "loop_count": 0,
        "pix_fmt": "yuv420p",
        "save_metadata": true,
        "crf": 19,
        "trim_to_audio": false,
        "videopreview": {
          "paused": false,
          "hidden": false,
          "params": {
            "filename": "AnimateDiff_00002-audio_faded_1746819480.mp4",
            "workflow": "AnimateDiff_00002.png",
            "fullpath": "/data/ComfyUI/personal/14b25e2747cb24474ef717d0cb6f0ed7/output/AnimateDiff_00002-audio.mp4",
            "format": "video/h264-mp4",
            "subfolder": "",
            "type": "output",
            "frame_rate": 25
          },
          "muted": false
        },
        "format": "video/h264-mp4",
        "frame_rate": 30,
        "pingpong": false
      },
      "inputs": [
        {
          "name": "images",
          "link": 131,
          "label": "images",
          "type": "IMAGE",
          "localized_name": "images"
        },
        {
          "shape": 7,
          "name": "audio",
          "link": 125,
          "label": "audio",
          "type": "AUDIO",
          "localized_name": "audio"
        },
        {
          "shape": 7,
          "name": "meta_batch",
          "label": "meta_batch",
          "type": "VHS_BatchManager",
          "localized_name": "meta_batch"
        },
        {
          "shape": 7,
          "name": "vae",
          "label": "vae",
          "type": "VAE",
          "localized_name": "vae"
        },
        {
          "widget": {
            "name": "frame_rate"
          },
          "name": "frame_rate",
          "link": 132,
          "label": "frame_rate",
          "type": "FLOAT",
          "localized_name": "帧率"
        }
      ],
      "flags": {},
      "id": 60,
      "type": "VHS_VideoCombine",
      "properties": {
        "Node name for S&R": "VHS_VideoCombine"
      },
      "order": 8
    },
    {
      "mode": 0,
      "outputs": [
        {
          "name": "image",
          "links": [
            131
          ],
          "label": "image",
          "type": "IMAGE",
          "localized_name": "image"
        },
        {
          "name": "audio",
          "label": "audio",
          "type": "AUDIO",
          "localized_name": "audio"
        },
        {
          "name": "frame_rate",
          "links": [
            132
          ],
          "label": "frame_rate",
          "type": "FLOAT",
          "localized_name": "frame_rate"
        }
      ],
      "size": [
        315,
        494
      ],
      "pos": [
        1586.492431640625,
        134.89553833007812
      ],
      "widgets_values": [
        "none",
        99522024,
        "randomize",
        2.5,
        30,
        25,
        16000,
        0.1,
        0.8,
        12,
        3,
        120,
        512,
        512,
        false
      ],
      "inputs": [
        {
          "name": "image",
          "link": 126,
          "label": "image",
          "type": "IMAGE",
          "localized_name": "image"
        },
        {
          "name": "audio",
          "link": 127,
          "label": "audio",
          "type": "AUDIO",
          "localized_name": "audio"
        },
        {
          "name": "model",
          "link": 128,
          "label": "model",
          "type": "MODEL_PIPE_E",
          "localized_name": "model"
        },
        {
          "name": "face_detector",
          "link": 129,
          "label": "face_detector",
          "type": "MODEL_FACE_E",
          "localized_name": "face_detector"
        },
        {
          "shape": 7,
          "name": "visualizer",
          "link": 130,
          "label": "visualizer",
          "type": "MODEL_VISUAL_E",
          "localized_name": "visualizer"
        },
        {
          "shape": 7,
          "name": "video_images",
          "label": "video_images",
          "type": "IMAGE",
          "localized_name": "video_images"
        }
      ],
      "flags": {},
      "id": 68,
      "type": "Echo_Sampler",
      "properties": {
        "Node name for S&R": "Echo_Sampler"
      },
      "order": 7
    },
    {
      "mode": 0,
      "outputs": [
        {
          "shape": 3,
          "name": "model",
          "slot_index": 0,
          "links": [
            95,
            116,
            128
          ],
          "label": "model",
          "type": "MODEL_PIPE_E",
          "localized_name": "model"
        },
        {
          "shape": 3,
          "name": "face_detector",
          "slot_index": 1,
          "links": [
            96,
            117,
            129
          ],
          "label": "face_detector",
          "type": "MODEL_FACE_E",
          "localized_name": "face_detector"
        },
        {
          "shape": 3,
          "name": "visualizer",
          "slot_index": 2,
          "links": [
            97,
            118,
            130
          ],
          "label": "visualizer",
          "type": "MODEL_VISUAL_E",
          "localized_name": "visualizer"
        }
      ],
      "size": [
        315,
        242
      ],
      "pos": [
        1043.454345703125,
        502.0000915527344
      ],
      "widgets_values": [
        "stabilityai/sd-vae-ft-mse",
        true,
        "audio_drived",
        false,
        false,
        false,
        "V1"
      ],
      "inputs": [],
      "flags": {},
      "id": 8,
      "type": "Echo_LoadModel",
      "properties": {
        "Node name for S&R": "Echo_LoadModel"
      },
      "order": 2
    }
  ],
  "extra": {
    "ue_links": [],
    "0246.VERSION": [
      0,
      0,
      4
    ],
    "ds": {
      "offset": [
        -940.1287261984672,
        -1.7137163054349236
      ],
      "scale": 1.1
    }
  },
  "groups": [],
  "links": [
    [
      112,
      4,
      0,
      65,
      0,
      "IMAGE"
    ],
    [
      121,
      53,
      0,
      67,
      0,
      "TEXT"
    ],
    [
      122,
      67,
      0,
      55,
      0,
      "AUDIO"
    ],
    [
      123,
      67,
      0,
      54,
      0,
      "AUDIO"
    ],
    [
      125,
      67,
      0,
      60,
      1,
      "AUDIO"
    ],
    [
      126,
      65,
      0,
      68,
      0,
      "IMAGE"
    ],
    [
      127,
      67,
      0,
      68,
      1,
      "AUDIO"
    ],
    [
      128,
      8,
      0,
      68,
      2,
      "MODEL_PIPE_E"
    ],
    [
      129,
      8,
      1,
      68,
      3,
      "MODEL_FACE_E"
    ],
    [
      130,
      8,
      2,
      68,
      4,
      "MODEL_VISUAL_E"
    ],
    [
      131,
      68,
      0,
      60,
      0,
      "IMAGE"
    ],
    [
      132,
      68,
      2,
      60,
      4,
      "FLOAT"
    ]
  ],
  "id": "2765620d-45bd-427c-a6a4-4dcc103b3dc0",
  "config": {},
  "version": 0.4,
  "last_node_id": 68,
  "revision": 0
}