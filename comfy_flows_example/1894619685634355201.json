{
  "last_link_id": 42,
  "nodes": [
    {
      "mode": 0,
      "outputs": [
        {
          "name": "torch_compile_args",
          "slot_index": 0,
          "links": [],
          "label": "torch_compile_args",
          "type": "WANCOMPILEARGS"
        }
      ],
      "size": {
        "0": 390.5999755859375,
        "1": 178
      },
      "pos": [
        172.1404571533203,
        -607.7847290039062
      ],
      "widgets_values": [
        "inductor",
        false,
        "default",
        false,
        64,
        true
      ],
      "inputs": [],
      "flags": {},
      "id": 35,
      "type": "WanVideoTorchCompileSettings",
      "properties": {
        "Node name for S&R": "WanVideoTorchCompileSettings"
      },
      "order": 0
    },
    {
      "mode": 0,
      "outputs": [
        {
          "name": "vae",
          "slot_index": 0,
          "links": [
            21,
            34
          ],
          "label": "vae",
          "type": "WANVAE"
        }
      ],
      "size": {
        "0": 315,
        "1": 82
      },
      "pos": [
        401.8250427246094,
        393.2132873535156
      ],
      "widgets_values": [
        "Wan2_1_VAE_bf16.safetensors",
        "bf16"
      ],
      "inputs": [],
      "flags": {},
      "id": 21,
      "type": "WanVideoVAELoader",
      "properties": {
        "Node name for S&R": "WanVideoVAELoader"
      },
      "order": 1
    },
    {
      "mode": 0,
      "outputs": [
        {
          "name": "samples",
          "slot_index": 0,
          "links": [
            33
          ],
          "label": "samples",
          "type": "LATENT"
        }
      ],
      "size": {
        "0": 315,
        "1": 310
      },
      "pos": [
        1315.2401123046875,
        -378.44671630859375
      ],
      "widgets_values": [
        10,
        6,
        5,
        1057359483639286,
        "fixed",
        true,
        "dpm++",
        0,
        1
      ],
      "inputs": [
        {
          "name": "model",
          "link": 29,
          "label": "model",
          "type": "WANVIDEOMODEL"
        },
        {
          "name": "text_embeds",
          "link": 30,
          "label": "text_embeds",
          "type": "WANVIDEOTEXTEMBEDS"
        },
        {
          "name": "image_embeds",
          "link": 32,
          "label": "image_embeds",
          "type": "WANVIDIMAGE_EMBEDS"
        },
        {
          "shape": 7,
          "name": "samples",
          "label": "samples",
          "type": "LATENT"
        }
      ],
      "flags": {},
      "id": 27,
      "type": "WanVideoSampler",
      "properties": {
        "Node name for S&R": "WanVideoSampler"
      },
      "order": 12
    },
    {
      "mode": 0,
      "outputs": [
        {
          "name": "model",
          "slot_index": 0,
          "links": [
            29
          ],
          "label": "model",
          "type": "WANVIDEOMODEL"
        }
      ],
      "size": {
        "0": 477.4410095214844,
        "1": 226.43276977539062
      },
      "pos": [
        651.1066284179688,
        -367.5680236816406
      ],
      "widgets_values": [
        "Wan2_1-I2V-14B-480P_fp8_e4m3fn.safetensors",
        "bf16",
        "fp8_e4m3fn",
        "offload_device",
        "sageattn"
      ],
      "inputs": [
        {
          "shape": 7,
          "name": "compile_args",
          "label": "compile_args",
          "type": "WANCOMPILEARGS"
        },
        {
          "shape": 7,
          "name": "block_swap_args",
          "link": 39,
          "label": "block_swap_args",
          "type": "BLOCKSWAPARGS"
        },
        {
          "shape": 7,
          "name": "lora",
          "label": "lora",
          "type": "HYVIDLORA"
        }
      ],
      "flags": {},
      "id": 22,
      "type": "WanVideoModelLoader",
      "properties": {
        "Node name for S&R": "WanVideoModelLoader"
      },
      "order": 9
    },
    {
      "mode": 0,
      "outputs": [
        {
          "name": "text_embeds",
          "slot_index": 0,
          "links": [
            30
          ],
          "label": "text_embeds",
          "type": "WANVIDEOTEXTEMBEDS"
        }
      ],
      "size": {
        "0": 400,
        "1": 200
      },
      "pos": [
        691.710693359375,
        -59.62131881713867
      ],
      "widgets_values": [
        "beautiful girl is smiling",
        "bad quality video",
        true
      ],
      "inputs": [
        {
          "name": "t5",
          "link": 15,
          "label": "t5",
          "type": "WANTEXTENCODER"
        }
      ],
      "flags": {},
      "id": 16,
      "type": "WanVideoTextEncode",
      "properties": {
        "Node name for S&R": "WanVideoTextEncode"
      },
      "order": 11
    },
    {
      "mode": 0,
      "outputs": [
        {
          "name": "images",
          "slot_index": 0,
          "links": [
            36,
            42
          ],
          "label": "images",
          "type": "IMAGE"
        }
      ],
      "size": {
        "0": 315,
        "1": 174
      },
      "pos": [
        1332.40673828125,
        34.28493881225586
      ],
      "widgets_values": [
        true,
        272,
        272,
        144,
        128
      ],
      "inputs": [
        {
          "name": "vae",
          "link": 34,
          "label": "vae",
          "type": "WANVAE"
        },
        {
          "name": "samples",
          "link": 33,
          "label": "samples",
          "type": "LATENT"
        }
      ],
      "flags": {},
      "id": 28,
      "type": "WanVideoDecode",
      "properties": {
        "Node name for S&R": "WanVideoDecode"
      },
      "order": 13
    },
    {
      "mode": 0,
      "outputs": [
        {
          "name": "IMAGE",
          "links": [
            18
          ],
          "label": "IMAGE",
          "type": "IMAGE"
        },
        {
          "name": "MASK",
          "label": "MASK",
          "type": "MASK"
        }
      ],
      "size": {
        "0": 315,
        "1": 314
      },
      "pos": [
        417.39227294921875,
        529.9345092773438
      ],
      "widgets_values": [
        "06bbc1687d62226ce7dc941a665fa6c0a01081baa537d4d877948272a452912a.jpg",
        "image"
      ],
      "inputs": [],
      "flags": {},
      "id": 18,
      "type": "LoadImage",
      "properties": {
        "Node name for S&R": "LoadImage"
      },
      "order": 2
    },
    {
      "mode": 0,
      "outputs": [
        {
          "name": "block_swap_args",
          "slot_index": 0,
          "links": [
            39
          ],
          "label": "block_swap_args",
          "type": "BLOCKSWAPARGS"
        }
      ],
      "size": {
        "0": 315,
        "1": 58
      },
      "pos": [
        233,
        -339
      ],
      "widgets_values": [
        10
      ],
      "inputs": [],
      "flags": {},
      "id": 32,
      "type": "WanVideoBlockSwap",
      "properties": {
        "Node name for S&R": "WanVideoBlockSwap"
      },
      "order": 3
    },
    {
      "mode": 0,
      "size": {
        "0": 315,
        "1": 82
      },
      "color": "rgba(38, 73, 116, 0.7)",
      "pos": [
        1782,
        253
      ],
      "widgets_values": [
        true,
        true
      ],
      "inputs": [
        {
          "name": "anything",
          "link": 42,
          "label": "anything",
          "type": "*"
        }
      ],
      "flags": {},
      "id": 44,
      "type": "LayerUtility: PurgeVRAM",
      "properties": {
        "Node name for S&R": "LayerUtility: PurgeVRAM"
      },
      "order": 15
    },
    {
      "outputs": [],
      "color": "#3a3a3a",
      "shape": 1,
      "widgets_values": [
        "<div class=\"startPage\">\n  <div class=\"hoverContainer\">\n    <a href=\"https://aix.studio\">\n      <span class=\"size-smallButton style-input\">üóÉÔ∏è AIXÂÆòÁΩë</span>\n    </a>\n    <a href=\"https://t.zsxq.com/7F90A\">\n      <span class=\"size-smallButton style-input\">ü™≤ Áü•ËØÜÊòüÁêÉ</span>\n    </a>\n    <a href=\"https://space.bilibili.com/385085361\">\n      <span class=\"size-smallButton style-input\">‚òï BÁ´ôÈ¶ñÈ°µ</span>\n    </a>\n  </div>\n</div>",
        "markdown",
        "\r\n\r\n* {\r\n    font-family: Arial;\r\n  }\r\n\r\n\r\n  .startPage {\r\n    position: absolute;\r\n    width:auto;\r\n    z-index: 0;\r\n    transition: transform 0.3s ease;\r\n  }\r\n\r\n  .startPage:hover {\r\n    transform: translateY(-1%);\r\n  }\r\n\r\n  .hoverContainer {\r\n    background: black;\r\n    border-radius: 27px;\r\n    padding: 50px;\r\n    display: flex;\r\n    flex-direction: row;\r\n    margin: 12px auto;\r\n    position: relative;\r\n  }\r\n\r\n  .header {\r\n    padding-bottom: 24px;\r\n    margin-bottom: 24px;\r\n    border-bottom: 1px solid #3e3e3e;\r\n    width: 200%;\r\n    height: 72px;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n  }\r\n\r\n  .header_discrip {\r\n    font-size: 21px;\r\n    font-weight: 200;\r\n    color: #6f6f6f;\r\n  }\r\n\r\n  .size-smallButton {\r\n    font-size: 21px;\r\n    border-radius: 12px;\r\n    height: 48px;\r\n    min-width: 48px;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    width: 100%;\r\n    cursor: pointer;\r\n  }\r\n\r\n  .style-input {\r\n    background: #2a2a2b;\r\n    padding: 12px;\r\n    transition: background 0.3s;\r\n  }\r\n\r\n  .style-input:hover {\r\n    background: #3b3b3c;\r\n  }\r\na:not(:first-child) {\r\n      margin-left:8px;}\r\n  a {\r\n    color: #b6b6b7;\r\n  }\r\n\r\n  a:hover,\r\n  a:hover .header_discrip {\r\n    color: #dddddd !important;\r\n  }",
        "one_dark"
      ],
      "inputs": [],
      "flags": {},
      "type": "Note Plus (mtb)",
      "mode": 0,
      "bgcolor": "#262626",
      "size": {
        "0": 656,
        "1": 128
      },
      "pos": {
        "0": -547,
        "1": -626,
        "2": 0,
        "3": 0,
        "4": 0,
        "5": 0,
        "6": 0,
        "7": 0,
        "8": 0,
        "9": 0
      },
      "id": 41,
      "properties": {},
      "order": 4
    },
    {
      "mode": 0,
      "outputs": [
        {
          "name": "wan_clip_model",
          "slot_index": 0,
          "links": [
            17
          ],
          "label": "wan_clip_model",
          "type": "WANCLIP"
        }
      ],
      "size": {
        "0": 510.6601257324219,
        "1": 106
      },
      "pos": [
        168,
        196
      ],
      "widgets_values": [
        "open-clip-xlm-roberta-large-vit-huge-14_visual_fp32.safetensors",
        "fp16",
        "offload_device"
      ],
      "inputs": [],
      "flags": {},
      "id": 13,
      "type": "LoadWanVideoClipTextEncoder",
      "properties": {
        "Node name for S&R": "LoadWanVideoClipTextEncoder"
      },
      "order": 5
    },
    {
      "mode": 0,
      "outputs": [
        {
          "name": "wan_t5_model",
          "slot_index": 0,
          "links": [
            15
          ],
          "label": "wan_t5_model",
          "type": "WANTEXTENCODER"
        }
      ],
      "size": {
        "0": 377.1661376953125,
        "1": 115.05413055419922
      },
      "pos": [
        213,
        -3
      ],
      "widgets_values": [
        "umt5-xxl-enc-bf16.safetensors",
        "bf16",
        "offload_device"
      ],
      "inputs": [],
      "flags": {},
      "id": 11,
      "type": "LoadWanVideoT5TextEncoder",
      "properties": {
        "Node name for S&R": "LoadWanVideoT5TextEncoder"
      },
      "order": 6
    },
    {
      "outputs": [],
      "color": "#432",
      "widgets_values": [
        "sdpa should work too, haven't tested flaash\n\nfp8_fast seems to cause huge quality degradation"
      ],
      "inputs": [],
      "flags": {},
      "type": "Note",
      "mode": 0,
      "bgcolor": "#653",
      "size": {
        "0": 298.2554016113281,
        "1": 108.62744140625
      },
      "pos": [
        729,
        -520
      ],
      "id": 36,
      "properties": {
        "text": ""
      },
      "order": 7
    },
    {
      "outputs": [],
      "color": "#432",
      "widgets_values": [
        "‰∏äÈù¢ÊòØÂàÜËæ®Áéá\n‰∏ãÈù¢num_frames ÊòØÂ∏ßÊï∞ÔºåÊúÄÂ§ßÂèØ‰ª•ËÆæÁΩÆ85Ôºå5Áßí"
      ],
      "inputs": [],
      "flags": {},
      "type": "Note",
      "mode": 0,
      "bgcolor": "#653",
      "size": {
        "0": 262.5184020996094,
        "1": 58
      },
      "pos": [
        1225,
        332
      ],
      "id": 45,
      "properties": {
        "text": ""
      },
      "order": 8
    },
    {
      "mode": 0,
      "outputs": [
        {
          "name": "Filenames",
          "label": "Filenames",
          "type": "VHS_FILENAMES"
        }
      ],
      "size": [
        214.7587890625,
        518.7587890625
      ],
      "pos": [
        1793,
        -356
      ],
      "widgets_values": {
        "save_output": true,
        "filename_prefix": "WanVideo2_1",
        "loop_count": 0,
        "pix_fmt": "yuv420p",
        "save_metadata": true,
        "crf": 19,
        "videopreview": {
          "paused": false,
          "hidden": false,
          "params": {
            "filename": "WanVideo2_1_00003_fifel_1740548991_dryym_1740548992.mp4",
            "workflow": "WanVideo2_1_00001.png",
            "fullpath": "F:\\AI-video-onekey-20250227\\ComfyUI\\output\\WanVideo2_1_00001.mp4",
            "format": "video/h264-mp4",
            "subfolder": "",
            "type": "output",
            "frame_rate": 16
          }
        },
        "format": "video/h264-mp4",
        "frame_rate": 16,
        "pingpong": false
      },
      "inputs": [
        {
          "name": "images",
          "link": 36,
          "label": "images",
          "type": "IMAGE"
        },
        {
          "shape": 7,
          "name": "audio",
          "label": "audio",
          "type": "AUDIO"
        },
        {
          "shape": 7,
          "name": "meta_batch",
          "label": "meta_batch",
          "type": "VHS_BatchManager"
        },
        {
          "shape": 7,
          "name": "vae",
          "label": "vae",
          "type": "VAE"
        }
      ],
      "flags": {},
      "id": 30,
      "type": "VHS_VideoCombine",
      "properties": {
        "Node name for S&R": "VHS_VideoCombine"
      },
      "order": 14
    },
    {
      "mode": 0,
      "outputs": [
        {
          "name": "image_embeds",
          "slot_index": 0,
          "links": [
            32
          ],
          "label": "image_embeds",
          "type": "WANVIDIMAGE_EMBEDS"
        }
      ],
      "size": {
        "0": 315,
        "1": 170
      },
      "pos": [
        875.01025390625,
        278.4588623046875
      ],
      "widgets_values": [
        512,
        512,
        85,
        true
      ],
      "inputs": [
        {
          "name": "clip",
          "link": 17,
          "label": "clip",
          "type": "WANCLIP"
        },
        {
          "name": "image",
          "link": 18,
          "label": "image",
          "type": "IMAGE"
        },
        {
          "name": "vae",
          "link": 21,
          "label": "vae",
          "type": "WANVAE"
        }
      ],
      "flags": {},
      "id": 17,
      "type": "WanVideoImageClipEncode",
      "properties": {
        "Node name for S&R": "WanVideoImageClipEncode"
      },
      "order": 10
    }
  ],
  "extra": {
    "VHS_KeepIntermediate": true,
    "VHS_MetadataImage": true,
    "0246.VERSION": [
      0,
      0,
      4
    ],
    "VHS_latentpreviewrate": 0,
    "VHS_latentpreview": true,
    "node_versions": {
      "ComfyUI-VideoHelperSuite": "124c913ccdd8a585734ea758c35fa1bab8499c99",
      "comfyui-purgevram": "fb254fa9a7f6880d31d4fe472f3e3c578bafde5f",
      "comfy-core": "0.3.15"
    },
    "ds": {
      "offset": [
        4.861211337286377,
        217.92924062137493
      ],
      "scale": 0.7972024500000005
    }
  },
  "groups": [
    {
      "color": "#3f789e",
      "font_size": 240,
      "title": "BÁ´ô„ÄÅYoutubeÔºöT8star-Aix",
      "locked": false,
      "bounding": [
        -291,
        -1087,
        4168,
        309
      ]
    }
  ],
  "links": [
    [
      15,
      11,
      0,
      16,
      0,
      "WANTEXTENCODER"
    ],
    [
      17,
      13,
      0,
      17,
      0,
      "WANCLIP"
    ],
    [
      18,
      18,
      0,
      17,
      1,
      "IMAGE"
    ],
    [
      21,
      21,
      0,
      17,
      2,
      "VAE"
    ],
    [
      29,
      22,
      0,
      27,
      0,
      "WANVIDEOMODEL"
    ],
    [
      30,
      16,
      0,
      27,
      1,
      "WANVIDEOTEXTEMBEDS"
    ],
    [
      32,
      17,
      0,
      27,
      2,
      "WANVIDIMAGE_EMBEDS"
    ],
    [
      33,
      27,
      0,
      28,
      1,
      "LATENT"
    ],
    [
      34,
      21,
      0,
      28,
      0,
      "VAE"
    ],
    [
      36,
      28,
      0,
      30,
      0,
      "IMAGE"
    ],
    [
      39,
      32,
      0,
      22,
      1,
      "BLOCKSWAPARGS"
    ],
    [
      42,
      28,
      0,
      44,
      0,
      "*"
    ]
  ],
  "config": {},
  "version": 0.4,
  "last_node_id": 45
}