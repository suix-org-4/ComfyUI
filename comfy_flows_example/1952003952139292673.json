{
  "last_link_id": 225,
  "nodes": [
    {
      "outputs": [],
      "color": "#432",
      "widgets_values": [
        "If you have Triton installed, connect this for ~30% speed increase"
      ],
      "inputs": [],
      "flags": {},
      "type": "Note",
      "mode": 0,
      "bgcolor": "#653",
      "size": [
        303.0501403808594,
        88
      ],
      "pos": [
        -948.5381469726562,
        -830.3184814453125
      ],
      "id": 44,
      "properties": {},
      "order": 0
    },
    {
      "outputs": [
        {
          "name": "model",
          "links": [
            157
          ],
          "label": "model",
          "type": "WANVIDEOMODEL",
          "localized_name": "model"
        }
      ],
      "color": "#223",
      "widgets_values": [],
      "inputs": [
        {
          "name": "model",
          "link": 155,
          "label": "model",
          "type": "WANVIDEOMODEL",
          "localized_name": "model"
        },
        {
          "shape": 7,
          "name": "block_swap_args",
          "link": 156,
          "label": "block_swap_args",
          "type": "BLOCKSWAPARGS",
          "localized_name": "block_swap_args"
        }
      ],
      "flags": {},
      "type": "WanVideoSetBlockSwap",
      "mode": 0,
      "bgcolor": "#335",
      "size": [
        201.76815795898438,
        46
      ],
      "pos": [
        802.9764404296875,
        -524.245849609375
      ],
      "id": 92,
      "properties": {
        "cnr_id": "ComfyUI-WanVideoWrapper",
        "ver": "7e290c67bff1f906cdab84523018573f6c9d4d7f",
        "Node name for S&R": "WanVideoSetBlockSwap"
      },
      "order": 17
    },
    {
      "outputs": [
        {
          "name": "model",
          "links": [
            161
          ],
          "label": "model",
          "type": "WANVIDEOMODEL",
          "localized_name": "model"
        }
      ],
      "color": "#223",
      "widgets_values": [],
      "inputs": [
        {
          "name": "model",
          "link": 160,
          "label": "model",
          "type": "WANVIDEOMODEL",
          "localized_name": "model"
        },
        {
          "shape": 7,
          "name": "block_swap_args",
          "link": 159,
          "label": "block_swap_args",
          "type": "BLOCKSWAPARGS",
          "localized_name": "block_swap_args"
        }
      ],
      "flags": {},
      "type": "WanVideoSetBlockSwap",
      "mode": 0,
      "bgcolor": "#335",
      "size": [
        201.76815795898438,
        46
      ],
      "pos": [
        797.3727416992188,
        -429.4969482421875
      ],
      "id": 93,
      "properties": {
        "cnr_id": "ComfyUI-WanVideoWrapper",
        "ver": "7e290c67bff1f906cdab84523018573f6c9d4d7f",
        "Node name for S&R": "WanVideoSetBlockSwap"
      },
      "order": 18
    },
    {
      "mode": 0,
      "outputs": [
        {
          "name": "IMAGE",
          "links": [
            71
          ],
          "label": "IMAGE",
          "type": "IMAGE",
          "localized_name": "IMAGE"
        },
        {
          "name": "MASK",
          "label": "MASK",
          "type": "MASK",
          "localized_name": "MASK"
        }
      ],
      "size": [
        440.95123291015625,
        785.632568359375
      ],
      "pos": [
        -533.7054443359375,
        -1609.0902099609375
      ],
      "widgets_values": [
        "e80bc237fffeba6e283a328fcca0a3c5057d5a70d5155927bc431d303a9b16a7.png",
        "image",
        ""
      ],
      "inputs": [],
      "flags": {},
      "id": 67,
      "type": "LoadImage",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.44",
        "Node name for S&R": "LoadImage"
      },
      "order": 1
    },
    {
      "mode": 0,
      "outputs": [
        {
          "name": "torch_compile_args",
          "slot_index": 0,
          "links": [
            111,
            112
          ],
          "label": "torch_compile_args",
          "type": "WANCOMPILEARGS",
          "localized_name": "torch_compile_args"
        }
      ],
      "size": [
        414.1767272949219,
        202
      ],
      "pos": [
        -523.80908203125,
        -743.7402954101562
      ],
      "widgets_values": [
        "inductor",
        false,
        "default",
        false,
        64,
        true,
        128
      ],
      "inputs": [],
      "flags": {},
      "id": 35,
      "type": "WanVideoTorchCompileSettings",
      "properties": {
        "cnr_id": "ComfyUI-WanVideoWrapper",
        "ver": "998a69cc0acbec503001b8b0ce0a5d5404420e1e",
        "Node name for S&R": "WanVideoTorchCompileSettings"
      },
      "order": 2
    },
    {
      "outputs": [
        {
          "name": "model",
          "slot_index": 0,
          "links": [
            155
          ],
          "label": "model",
          "type": "WANVIDEOMODEL",
          "localized_name": "model"
        }
      ],
      "color": "#223",
      "widgets_values": [
        "Wan2_2-I2V-A14B-HIGH_fp8_e4m3fn_scaled_KJ.safetensors",
        "fp16",
        "fp8_e4m3fn_scaled",
        "offload_device",
        "sageattn"
      ],
      "inputs": [
        {
          "shape": 7,
          "name": "compile_args",
          "link": 111,
          "label": "compile_args",
          "type": "WANCOMPILEARGS",
          "localized_name": "compile_args"
        },
        {
          "shape": 7,
          "name": "block_swap_args",
          "label": "block_swap_args",
          "type": "BLOCKSWAPARGS",
          "localized_name": "block_swap_args"
        },
        {
          "shape": 7,
          "name": "lora",
          "label": "lora",
          "type": "WANVIDLORA",
          "localized_name": "lora"
        },
        {
          "shape": 7,
          "name": "vram_management_args",
          "label": "vram_management_args",
          "type": "VRAM_MANAGEMENTARGS",
          "localized_name": "vram_management_args"
        },
        {
          "shape": 7,
          "name": "vace_model",
          "label": "vace_model",
          "type": "VACEPATH",
          "localized_name": "vace_model"
        },
        {
          "shape": 7,
          "name": "fantasytalking_model",
          "label": "fantasytalking_model",
          "type": "FANTASYTALKINGMODEL",
          "localized_name": "fantasytalking_model"
        },
        {
          "shape": 7,
          "name": "multitalk_model",
          "label": "multitalk_model",
          "type": "MULTITALKMODEL",
          "localized_name": "multitalk_model"
        }
      ],
      "flags": {},
      "type": "WanVideoModelLoader",
      "mode": 0,
      "bgcolor": "#335",
      "size": [
        477.4410095214844,
        274
      ],
      "pos": [
        -52.82282638549805,
        -747.65625
      ],
      "id": 22,
      "properties": {
        "cnr_id": "ComfyUI-WanVideoWrapper",
        "ver": "998a69cc0acbec503001b8b0ce0a5d5404420e1e",
        "Node name for S&R": "WanVideoModelLoader"
      },
      "order": 12
    },
    {
      "outputs": [
        {
          "name": "model",
          "slot_index": 0,
          "links": [
            160
          ],
          "label": "model",
          "type": "WANVIDEOMODEL",
          "localized_name": "model"
        }
      ],
      "color": "#223",
      "widgets_values": [
        "Wan2_2-I2V-A14B-LOW_fp8_e4m3fn_scaled_KJ.safetensors",
        "fp16",
        "fp8_e4m3fn_scaled",
        "offload_device",
        "sageattn"
      ],
      "inputs": [
        {
          "shape": 7,
          "name": "compile_args",
          "link": 112,
          "label": "compile_args",
          "type": "WANCOMPILEARGS",
          "localized_name": "compile_args"
        },
        {
          "shape": 7,
          "name": "block_swap_args",
          "label": "block_swap_args",
          "type": "BLOCKSWAPARGS",
          "localized_name": "block_swap_args"
        },
        {
          "shape": 7,
          "name": "lora",
          "label": "lora",
          "type": "WANVIDLORA",
          "localized_name": "lora"
        },
        {
          "shape": 7,
          "name": "vram_management_args",
          "label": "vram_management_args",
          "type": "VRAM_MANAGEMENTARGS",
          "localized_name": "vram_management_args"
        },
        {
          "shape": 7,
          "name": "vace_model",
          "label": "vace_model",
          "type": "VACEPATH",
          "localized_name": "vace_model"
        },
        {
          "shape": 7,
          "name": "fantasytalking_model",
          "label": "fantasytalking_model",
          "type": "FANTASYTALKINGMODEL",
          "localized_name": "fantasytalking_model"
        },
        {
          "shape": 7,
          "name": "multitalk_model",
          "label": "multitalk_model",
          "type": "MULTITALKMODEL",
          "localized_name": "multitalk_model"
        }
      ],
      "flags": {},
      "type": "WanVideoModelLoader",
      "mode": 0,
      "bgcolor": "#335",
      "size": [
        477.4410095214844,
        274
      ],
      "pos": [
        -53.6465950012207,
        -409.2614440917969
      ],
      "id": 71,
      "properties": {
        "cnr_id": "ComfyUI-WanVideoWrapper",
        "ver": "998a69cc0acbec503001b8b0ce0a5d5404420e1e",
        "Node name for S&R": "WanVideoModelLoader"
      },
      "order": 13
    },
    {
      "mode": 0,
      "outputs": [
        {
          "name": "IMAGE",
          "links": [
            170
          ],
          "label": "IMAGE",
          "type": "IMAGE",
          "localized_name": "IMAGE"
        },
        {
          "name": "width",
          "links": [
            141,
            173
          ],
          "label": "width",
          "type": "INT",
          "localized_name": "width"
        },
        {
          "name": "height",
          "links": [
            142,
            174
          ],
          "label": "height",
          "type": "INT",
          "localized_name": "height"
        },
        {
          "name": "mask",
          "label": "mask",
          "type": "MASK",
          "localized_name": "mask"
        }
      ],
      "size": [
        270,
        336
      ],
      "pos": [
        684.5227661132812,
        -1262.839599609375
      ],
      "widgets_values": [
        480,
        832,
        "lanczos",
        "crop",
        "0, 0, 0",
        "center",
        32,
        "cpu"
      ],
      "inputs": [
        {
          "name": "image",
          "link": 71,
          "label": "image",
          "type": "IMAGE",
          "localized_name": "image"
        },
        {
          "shape": 7,
          "name": "mask",
          "label": "mask",
          "type": "MASK",
          "localized_name": "mask"
        }
      ],
      "flags": {},
      "id": 68,
      "type": "ImageResizeKJv2",
      "properties": {
        "cnr_id": "comfyui-kjnodes",
        "ver": "a6b867b63a29ca48ddb15c589e17a9f2d8530d57",
        "Node name for S&R": "ImageResizeKJv2"
      },
      "order": 11
    },
    {
      "mode": 0,
      "outputs": [
        {
          "name": "IMAGE",
          "links": [
            175
          ],
          "label": "IMAGE",
          "type": "IMAGE",
          "localized_name": "IMAGE"
        },
        {
          "name": "width",
          "links": [],
          "label": "width",
          "type": "INT",
          "localized_name": "width"
        },
        {
          "name": "height",
          "links": [],
          "label": "height",
          "type": "INT",
          "localized_name": "height"
        },
        {
          "name": "mask",
          "label": "mask",
          "type": "MASK",
          "localized_name": "mask"
        }
      ],
      "size": [
        270,
        336
      ],
      "pos": [
        1017.6575927734375,
        -1262.906494140625
      ],
      "widgets_values": [
        720,
        1280,
        "lanczos",
        "crop",
        "0, 0, 0",
        "center",
        32,
        "cpu"
      ],
      "inputs": [
        {
          "name": "image",
          "link": 172,
          "label": "image",
          "type": "IMAGE",
          "localized_name": "image"
        },
        {
          "shape": 7,
          "name": "mask",
          "label": "mask",
          "type": "MASK",
          "localized_name": "mask"
        },
        {
          "widget": {
            "name": "width"
          },
          "name": "width",
          "link": 173,
          "label": "width",
          "type": "INT"
        },
        {
          "widget": {
            "name": "height"
          },
          "name": "height",
          "link": 174,
          "label": "height",
          "type": "INT"
        }
      ],
      "flags": {},
      "id": 112,
      "type": "ImageResizeKJv2",
      "properties": {
        "cnr_id": "comfyui-kjnodes",
        "ver": "a6b867b63a29ca48ddb15c589e17a9f2d8530d57",
        "widget_ue_connectable": {},
        "Node name for S&R": "ImageResizeKJv2"
      },
      "order": 16
    },
    {
      "outputs": [
        {
          "name": "vae",
          "slot_index": 0,
          "links": [
            43,
            137
          ],
          "label": "vae",
          "type": "WANVAE",
          "localized_name": "vae"
        }
      ],
      "color": "#322",
      "widgets_values": [
        "wan_2.1_vae.safetensors",
        "bf16"
      ],
      "inputs": [],
      "flags": {},
      "type": "WanVideoVAELoader",
      "mode": 0,
      "bgcolor": "#533",
      "size": [
        315,
        82
      ],
      "pos": [
        907.8870239257812,
        -694.3349609375
      ],
      "id": 38,
      "properties": {
        "cnr_id": "ComfyUI-WanVideoWrapper",
        "ver": "998a69cc0acbec503001b8b0ce0a5d5404420e1e",
        "Node name for S&R": "WanVideoVAELoader"
      },
      "order": 3
    },
    {
      "outputs": [
        {
          "name": "image_embeds",
          "links": [
            193,
            211,
            218
          ],
          "label": "image_embeds",
          "type": "WANVIDIMAGE_EMBEDS",
          "localized_name": "image_embeds"
        }
      ],
      "color": "#322",
      "widgets_values": [
        832,
        480,
        81,
        0,
        1,
        1,
        true,
        false,
        false
      ],
      "inputs": [
        {
          "name": "vae",
          "link": 137,
          "label": "vae",
          "type": "WANVAE",
          "localized_name": "vae"
        },
        {
          "shape": 7,
          "name": "clip_embeds",
          "label": "clip_embeds",
          "type": "WANVIDIMAGE_CLIPEMBEDS",
          "localized_name": "clip_embeds"
        },
        {
          "shape": 7,
          "name": "start_image",
          "link": 170,
          "label": "start_image",
          "type": "IMAGE",
          "localized_name": "start_image"
        },
        {
          "shape": 7,
          "name": "end_image",
          "link": 175,
          "label": "end_image",
          "type": "IMAGE",
          "localized_name": "end_image"
        },
        {
          "shape": 7,
          "name": "control_embeds",
          "label": "control_embeds",
          "type": "WANVIDIMAGE_EMBEDS",
          "localized_name": "control_embeds"
        },
        {
          "shape": 7,
          "name": "temporal_mask",
          "label": "temporal_mask",
          "type": "MASK",
          "localized_name": "temporal_mask"
        },
        {
          "shape": 7,
          "name": "extra_latents",
          "label": "extra_latents",
          "type": "LATENT",
          "localized_name": "extra_latents"
        },
        {
          "shape": 7,
          "name": "add_cond_latents",
          "label": "add_cond_latents",
          "type": "ADD_COND_LATENTS",
          "localized_name": "add_cond_latents"
        },
        {
          "widget": {
            "name": "width"
          },
          "name": "width",
          "link": 141,
          "label": "width",
          "type": "INT"
        },
        {
          "widget": {
            "name": "height"
          },
          "name": "height",
          "link": 142,
          "label": "height",
          "type": "INT"
        }
      ],
      "flags": {},
      "type": "WanVideoImageToVideoEncode",
      "mode": 0,
      "bgcolor": "#533",
      "size": [
        308.2320251464844,
        390
      ],
      "pos": [
        1337.125,
        -697.2058715820312
      ],
      "id": 89,
      "properties": {
        "cnr_id": "ComfyUI-WanVideoWrapper",
        "ver": "7e290c67bff1f906cdab84523018573f6c9d4d7f",
        "Node name for S&R": "WanVideoImageToVideoEncode"
      },
      "order": 19
    },
    {
      "outputs": [
        {
          "name": "wan_t5_model",
          "slot_index": 0,
          "links": [
            15
          ],
          "label": "wan_t5_model",
          "type": "WANTEXTENCODER",
          "localized_name": "wan_t5_model"
        }
      ],
      "color": "#332922",
      "widgets_values": [
        "umt5-xxl-enc-bf16.safetensors",
        "bf16",
        "offload_device",
        "disabled"
      ],
      "inputs": [],
      "flags": {},
      "type": "LoadWanVideoT5TextEncoder",
      "mode": 0,
      "bgcolor": "#593930",
      "size": [
        377.1661376953125,
        130
      ],
      "pos": [
        -501.4200744628906,
        -61.01749038696289
      ],
      "id": 11,
      "properties": {
        "cnr_id": "ComfyUI-WanVideoWrapper",
        "ver": "998a69cc0acbec503001b8b0ce0a5d5404420e1e",
        "Node name for S&R": "LoadWanVideoT5TextEncoder"
      },
      "order": 4
    },
    {
      "mode": 0,
      "outputs": [
        {
          "name": "samples",
          "links": [
            222
          ],
          "label": "samples",
          "type": "LATENT",
          "localized_name": "samples"
        },
        {
          "name": "denoised_samples",
          "label": "denoised_samples",
          "type": "LATENT",
          "localized_name": "denoised_samples"
        }
      ],
      "size": [
        320.79998779296875,
        706.021484375
      ],
      "pos": [
        1752.5506591796875,
        -738.7456665039062
      ],
      "widgets_values": [
        30,
        6,
        8.000000000000002,
        333,
        "fixed",
        true,
        "dpm++_sde",
        0,
        1,
        false,
        "comfy",
        0,
        -1,
        true
      ],
      "inputs": [
        {
          "name": "model",
          "link": 209,
          "label": "model",
          "type": "WANVIDEOMODEL",
          "localized_name": "model"
        },
        {
          "name": "text_embeds",
          "link": 210,
          "label": "text_embeds",
          "type": "WANVIDEOTEXTEMBEDS",
          "localized_name": "text_embeds"
        },
        {
          "name": "image_embeds",
          "link": 211,
          "label": "image_embeds",
          "type": "WANVIDIMAGE_EMBEDS",
          "localized_name": "image_embeds"
        },
        {
          "shape": 7,
          "name": "samples",
          "label": "samples",
          "type": "LATENT",
          "localized_name": "samples"
        },
        {
          "shape": 7,
          "name": "feta_args",
          "label": "feta_args",
          "type": "FETAARGS",
          "localized_name": "feta_args"
        },
        {
          "shape": 7,
          "name": "context_options",
          "label": "context_options",
          "type": "WANVIDCONTEXT",
          "localized_name": "context_options"
        },
        {
          "shape": 7,
          "name": "cache_args",
          "label": "cache_args",
          "type": "CACHEARGS",
          "localized_name": "cache_args"
        },
        {
          "shape": 7,
          "name": "flowedit_args",
          "label": "flowedit_args",
          "type": "FLOWEDITARGS",
          "localized_name": "flowedit_args"
        },
        {
          "shape": 7,
          "name": "slg_args",
          "label": "slg_args",
          "type": "SLGARGS",
          "localized_name": "slg_args"
        },
        {
          "shape": 7,
          "name": "loop_args",
          "label": "loop_args",
          "type": "LOOPARGS",
          "localized_name": "loop_args"
        },
        {
          "shape": 7,
          "name": "experimental_args",
          "label": "experimental_args",
          "type": "EXPERIMENTALARGS",
          "localized_name": "experimental_args"
        },
        {
          "shape": 7,
          "name": "sigmas",
          "label": "sigmas",
          "type": "SIGMAS",
          "localized_name": "sigmas"
        },
        {
          "shape": 7,
          "name": "unianimate_poses",
          "label": "unianimate_poses",
          "type": "UNIANIMATE_POSE",
          "localized_name": "unianimate_poses"
        },
        {
          "shape": 7,
          "name": "fantasytalking_embeds",
          "label": "fantasytalking_embeds",
          "type": "FANTASYTALKING_EMBEDS",
          "localized_name": "fantasytalking_embeds"
        },
        {
          "shape": 7,
          "name": "uni3c_embeds",
          "label": "uni3c_embeds",
          "type": "UNI3C_EMBEDS",
          "localized_name": "uni3c_embeds"
        },
        {
          "shape": 7,
          "name": "multitalk_embeds",
          "label": "multitalk_embeds",
          "type": "MULTITALK_EMBEDS",
          "localized_name": "multitalk_embeds"
        },
        {
          "shape": 7,
          "name": "freeinit_args",
          "label": "freeinit_args",
          "type": "FREEINITARGS",
          "localized_name": "freeinit_args"
        },
        {
          "widget": {
            "name": "steps"
          },
          "name": "steps",
          "link": 212,
          "label": "steps",
          "type": "INT"
        },
        {
          "widget": {
            "name": "cfg"
          },
          "name": "cfg",
          "link": 213,
          "label": "cfg",
          "type": "FLOAT"
        },
        {
          "widget": {
            "name": "end_step"
          },
          "shape": 7,
          "name": "end_step",
          "link": 214,
          "label": "end_step",
          "type": "INT"
        }
      ],
      "flags": {},
      "id": 120,
      "type": "WanVideoSampler",
      "properties": {
        "widget_ue_connectable": {},
        "Node name for S&R": "WanVideoSampler"
      },
      "order": 22
    },
    {
      "mode": 0,
      "outputs": [
        {
          "name": "samples",
          "links": [
            224
          ],
          "label": "samples",
          "type": "LATENT",
          "localized_name": "samples"
        },
        {
          "name": "denoised_samples",
          "label": "denoised_samples",
          "type": "LATENT",
          "localized_name": "denoised_samples"
        }
      ],
      "size": [
        320.79998779296875,
        706.021484375
      ],
      "pos": [
        2151.419677734375,
        -743.355224609375
      ],
      "widgets_values": [
        30,
        6,
        8.000000000000002,
        333,
        "fixed",
        true,
        "dpm++_sde",
        0,
        1,
        false,
        "comfy",
        0,
        -1,
        false
      ],
      "inputs": [
        {
          "name": "model",
          "link": 225,
          "label": "model",
          "type": "WANVIDEOMODEL",
          "localized_name": "model"
        },
        {
          "name": "text_embeds",
          "link": 217,
          "label": "text_embeds",
          "type": "WANVIDEOTEXTEMBEDS",
          "localized_name": "text_embeds"
        },
        {
          "name": "image_embeds",
          "link": 218,
          "label": "image_embeds",
          "type": "WANVIDIMAGE_EMBEDS",
          "localized_name": "image_embeds"
        },
        {
          "shape": 7,
          "name": "samples",
          "link": 222,
          "label": "samples",
          "type": "LATENT",
          "localized_name": "samples"
        },
        {
          "shape": 7,
          "name": "feta_args",
          "label": "feta_args",
          "type": "FETAARGS",
          "localized_name": "feta_args"
        },
        {
          "shape": 7,
          "name": "context_options",
          "label": "context_options",
          "type": "WANVIDCONTEXT",
          "localized_name": "context_options"
        },
        {
          "shape": 7,
          "name": "cache_args",
          "label": "cache_args",
          "type": "CACHEARGS",
          "localized_name": "cache_args"
        },
        {
          "shape": 7,
          "name": "flowedit_args",
          "label": "flowedit_args",
          "type": "FLOWEDITARGS",
          "localized_name": "flowedit_args"
        },
        {
          "shape": 7,
          "name": "slg_args",
          "label": "slg_args",
          "type": "SLGARGS",
          "localized_name": "slg_args"
        },
        {
          "shape": 7,
          "name": "loop_args",
          "label": "loop_args",
          "type": "LOOPARGS",
          "localized_name": "loop_args"
        },
        {
          "shape": 7,
          "name": "experimental_args",
          "label": "experimental_args",
          "type": "EXPERIMENTALARGS",
          "localized_name": "experimental_args"
        },
        {
          "shape": 7,
          "name": "sigmas",
          "label": "sigmas",
          "type": "SIGMAS",
          "localized_name": "sigmas"
        },
        {
          "shape": 7,
          "name": "unianimate_poses",
          "label": "unianimate_poses",
          "type": "UNIANIMATE_POSE",
          "localized_name": "unianimate_poses"
        },
        {
          "shape": 7,
          "name": "fantasytalking_embeds",
          "label": "fantasytalking_embeds",
          "type": "FANTASYTALKING_EMBEDS",
          "localized_name": "fantasytalking_embeds"
        },
        {
          "shape": 7,
          "name": "uni3c_embeds",
          "label": "uni3c_embeds",
          "type": "UNI3C_EMBEDS",
          "localized_name": "uni3c_embeds"
        },
        {
          "shape": 7,
          "name": "multitalk_embeds",
          "label": "multitalk_embeds",
          "type": "MULTITALK_EMBEDS",
          "localized_name": "multitalk_embeds"
        },
        {
          "shape": 7,
          "name": "freeinit_args",
          "label": "freeinit_args",
          "type": "FREEINITARGS",
          "localized_name": "freeinit_args"
        },
        {
          "widget": {
            "name": "steps"
          },
          "name": "steps",
          "link": 219,
          "label": "steps",
          "type": "INT"
        },
        {
          "widget": {
            "name": "cfg"
          },
          "name": "cfg",
          "link": 220,
          "label": "cfg",
          "type": "FLOAT"
        },
        {
          "widget": {
            "name": "start_step"
          },
          "shape": 7,
          "name": "start_step",
          "link": 223,
          "label": "start_step",
          "type": "INT"
        }
      ],
      "flags": {},
      "id": 121,
      "type": "WanVideoSampler",
      "properties": {
        "widget_ue_connectable": {},
        "Node name for S&R": "WanVideoSampler"
      },
      "order": 23
    },
    {
      "outputs": [
        {
          "name": "value",
          "links": [
            165,
            212,
            219
          ],
          "label": "value",
          "type": "INT",
          "localized_name": "value"
        }
      ],
      "color": "#1b4669",
      "widgets_values": [
        12
      ],
      "inputs": [],
      "flags": {},
      "type": "INTConstant",
      "title": "Steps",
      "mode": 0,
      "bgcolor": "#29699c",
      "size": [
        210,
        58
      ],
      "pos": [
        1339.536865234375,
        -218.01605224609375
      ],
      "id": 94,
      "properties": {
        "cnr_id": "comfyui-kjnodes",
        "ver": "a6b867b63a29ca48ddb15c589e17a9f2d8530d57",
        "Node name for S&R": "INTConstant"
      },
      "order": 5
    },
    {
      "outputs": [
        {
          "name": "lora",
          "links": [
            110
          ],
          "label": "lora",
          "type": "WANVIDLORA",
          "localized_name": "lora"
        }
      ],
      "color": "#223",
      "widgets_values": [
        "lightx2v_I2V_14B_480p_cfg_step_distill_rank128_bf16.safetensors",
        3,
        false,
        false
      ],
      "inputs": [
        {
          "shape": 7,
          "name": "prev_lora",
          "label": "prev_lora",
          "type": "WANVIDLORA",
          "localized_name": "prev_lora"
        },
        {
          "shape": 7,
          "name": "blocks",
          "label": "blocks",
          "type": "SELECTEDBLOCKS",
          "localized_name": "blocks"
        }
      ],
      "flags": {},
      "type": "WanVideoLoraSelect",
      "mode": 0,
      "bgcolor": "#335",
      "size": [
        672.8826293945312,
        151.1167755126953
      ],
      "pos": [
        -772.876708984375,
        -482.5519104003906
      ],
      "id": 56,
      "properties": {
        "cnr_id": "ComfyUI-WanVideoWrapper",
        "ver": "998a69cc0acbec503001b8b0ce0a5d5404420e1e",
        "Node name for S&R": "WanVideoLoraSelect"
      },
      "order": 6
    },
    {
      "outputs": [
        {
          "name": "lora",
          "links": [
            169
          ],
          "label": "lora",
          "type": "WANVIDLORA",
          "localized_name": "lora"
        }
      ],
      "color": "#223",
      "widgets_values": [
        "lightx2v_I2V_14B_480p_cfg_step_distill_rank128_bf16.safetensors",
        1,
        false,
        false
      ],
      "inputs": [
        {
          "shape": 7,
          "name": "prev_lora",
          "label": "prev_lora",
          "type": "WANVIDLORA",
          "localized_name": "prev_lora"
        },
        {
          "shape": 7,
          "name": "blocks",
          "label": "blocks",
          "type": "SELECTEDBLOCKS",
          "localized_name": "blocks"
        }
      ],
      "flags": {},
      "type": "WanVideoLoraSelect",
      "mode": 0,
      "bgcolor": "#335",
      "size": [
        684.1240844726562,
        156.24090576171875
      ],
      "pos": [
        -781.845703125,
        -279.43780517578125
      ],
      "id": 97,
      "properties": {
        "cnr_id": "ComfyUI-WanVideoWrapper",
        "ver": "998a69cc0acbec503001b8b0ce0a5d5404420e1e",
        "Node name for S&R": "WanVideoLoraSelect"
      },
      "order": 7
    },
    {
      "outputs": [
        {
          "name": "value",
          "links": [
            214,
            223
          ],
          "label": "value",
          "type": "INT",
          "localized_name": "value"
        }
      ],
      "color": "#1b4669",
      "widgets_values": [
        6
      ],
      "inputs": [],
      "flags": {},
      "type": "INTConstant",
      "title": "Split_step",
      "mode": 0,
      "bgcolor": "#29699c",
      "size": [
        210,
        58
      ],
      "pos": [
        1339.029541015625,
        175.62765502929688
      ],
      "id": 91,
      "properties": {
        "cnr_id": "comfyui-kjnodes",
        "ver": "a6b867b63a29ca48ddb15c589e17a9f2d8530d57",
        "Node name for S&R": "INTConstant"
      },
      "order": 8
    },
    {
      "outputs": [
        {
          "name": "block_swap_args",
          "slot_index": 0,
          "links": [
            156,
            159
          ],
          "label": "block_swap_args",
          "type": "BLOCKSWAPARGS",
          "localized_name": "block_swap_args"
        }
      ],
      "color": "#223",
      "widgets_values": [
        20,
        false,
        false,
        false,
        1
      ],
      "inputs": [],
      "flags": {},
      "type": "WanVideoBlockSwap",
      "mode": 0,
      "bgcolor": "#335",
      "size": [
        315,
        154
      ],
      "pos": [
        453.7403869628906,
        -540.134033203125
      ],
      "id": 39,
      "properties": {
        "cnr_id": "ComfyUI-WanVideoWrapper",
        "ver": "998a69cc0acbec503001b8b0ce0a5d5404420e1e",
        "Node name for S&R": "WanVideoBlockSwap"
      },
      "order": 9
    },
    {
      "mode": 0,
      "outputs": [
        {
          "name": "float_list",
          "links": [
            213,
            220
          ],
          "label": "float_list",
          "type": "FLOAT",
          "localized_name": "float_list"
        }
      ],
      "size": [
        298.3199157714844,
        178
      ],
      "pos": [
        1308.503662109375,
        -87.33976745605469
      ],
      "widgets_values": [
        30,
        2,
        2,
        "linear",
        0,
        0.01
      ],
      "inputs": [
        {
          "widget": {
            "name": "steps"
          },
          "name": "steps",
          "link": 165,
          "label": "steps",
          "type": "INT"
        }
      ],
      "flags": {},
      "id": 95,
      "type": "CreateCFGScheduleFloatList",
      "properties": {
        "cnr_id": "ComfyUI-WanVideoWrapper",
        "ver": "7e290c67bff1f906cdab84523018573f6c9d4d7f",
        "Node name for S&R": "CreateCFGScheduleFloatList"
      },
      "order": 15
    },
    {
      "outputs": [
        {
          "name": "images",
          "slot_index": 0,
          "links": [
            76
          ],
          "label": "images",
          "type": "IMAGE",
          "localized_name": "images"
        }
      ],
      "color": "#322",
      "widgets_values": [
        false,
        272,
        272,
        144,
        128,
        "default"
      ],
      "inputs": [
        {
          "name": "vae",
          "link": 43,
          "label": "vae",
          "type": "WANVAE",
          "localized_name": "vae"
        },
        {
          "name": "samples",
          "link": 224,
          "label": "samples",
          "type": "LATENT",
          "localized_name": "samples"
        }
      ],
      "flags": {},
      "type": "WanVideoDecode",
      "mode": 0,
      "bgcolor": "#533",
      "size": [
        315,
        198
      ],
      "pos": [
        2542.98095703125,
        -732.6714477539062
      ],
      "id": 28,
      "properties": {
        "cnr_id": "ComfyUI-WanVideoWrapper",
        "ver": "998a69cc0acbec503001b8b0ce0a5d5404420e1e",
        "Node name for S&R": "WanVideoDecode"
      },
      "order": 24
    },
    {
      "mode": 0,
      "outputs": [
        {
          "name": "image",
          "links": [
            176
          ],
          "label": "image",
          "type": "IMAGE",
          "localized_name": "image"
        },
        {
          "name": "480 width",
          "label": "width",
          "type": "INT",
          "localized_name": "width"
        },
        {
          "name": "832 height",
          "label": "height",
          "type": "INT",
          "localized_name": "height"
        },
        {
          "name": "81 count",
          "label": "count",
          "type": "INT",
          "localized_name": "count"
        }
      ],
      "size": [
        240.41265869140625,
        86
      ],
      "pos": [
        2902.722900390625,
        -738.8926391601562
      ],
      "widgets_values": [],
      "inputs": [
        {
          "name": "image",
          "link": 76,
          "label": "image",
          "type": "IMAGE",
          "localized_name": "image"
        }
      ],
      "flags": {},
      "id": 69,
      "type": "GetImageSizeAndCount",
      "properties": {
        "cnr_id": "comfyui-kjnodes",
        "ver": "a6b867b63a29ca48ddb15c589e17a9f2d8530d57",
        "Node name for S&R": "GetImageSizeAndCount"
      },
      "order": 25
    },
    {
      "mode": 0,
      "outputs": [
        {
          "name": "Filenames",
          "label": "Filenames",
          "type": "VHS_FILENAMES",
          "localized_name": "Filenames"
        }
      ],
      "size": [
        326.79327392578125,
        903.7750244140625
      ],
      "pos": [
        3216.00146484375,
        -738.8595581054688
      ],
      "widgets_values": {
        "save_output": true,
        "filename_prefix": "FLFKJ",
        "loop_count": 0,
        "pix_fmt": "yuv420p",
        "save_metadata": true,
        "crf": 19,
        "trim_to_audio": false,
        "videopreview": {
          "paused": false,
          "hidden": false,
          "params": {
            "filename": "FLFKJ_00001_gykgp_1754233601.mp4",
            "workflow": "FLFKJ_00001.png",
            "fullpath": "/data/ComfyUI/personal/07dd6ec212cbddc84e315b706e8144d7/output/FLFKJ_00001.mp4",
            "format": "video/h264-mp4.json",
            "subfolder": "",
            "type": "output",
            "frame_rate": 16
          }
        },
        "format": "video/h264-mp4.json",
        "no_preview": false,
        "frame_rate": 16,
        "pingpong": false
      },
      "inputs": [
        {
          "name": "images",
          "link": 176,
          "label": "images",
          "type": "IMAGE",
          "localized_name": "images"
        },
        {
          "shape": 7,
          "name": "audio",
          "label": "audio",
          "type": "AUDIO",
          "localized_name": "audio"
        },
        {
          "shape": 7,
          "name": "meta_batch",
          "label": "meta_batch",
          "type": "VHS_BatchManager",
          "localized_name": "meta_batch"
        },
        {
          "shape": 7,
          "name": "vae",
          "label": "vae",
          "type": "VAE",
          "localized_name": "vae"
        }
      ],
      "flags": {},
      "id": 114,
      "type": "VHS_VideoCombine",
      "properties": {
        "widget_ue_connectable": {},
        "Node name for S&R": "VHS_VideoCombine"
      },
      "order": 26
    },
    {
      "outputs": [
        {
          "name": "model",
          "links": [
            191,
            209
          ],
          "label": "model",
          "type": "WANVIDEOMODEL",
          "localized_name": "model"
        }
      ],
      "color": "#223",
      "widgets_values": [],
      "inputs": [
        {
          "name": "model",
          "link": 157,
          "label": "model",
          "type": "WANVIDEOMODEL",
          "localized_name": "model"
        },
        {
          "shape": 7,
          "name": "lora",
          "link": 110,
          "label": "lora",
          "type": "WANVIDLORA",
          "localized_name": "lora"
        }
      ],
      "flags": {},
      "type": "WanVideoSetLoRAs",
      "mode": 0,
      "bgcolor": "#335",
      "size": [
        222.27981567382812,
        46
      ],
      "pos": [
        1066.188720703125,
        -525.5257568359375
      ],
      "id": 80,
      "properties": {
        "cnr_id": "ComfyUI-WanVideoWrapper",
        "ver": "998a69cc0acbec503001b8b0ce0a5d5404420e1e",
        "Node name for S&R": "WanVideoSetLoRAs"
      },
      "order": 20
    },
    {
      "outputs": [
        {
          "name": "model",
          "links": [
            225
          ],
          "label": "model",
          "type": "WANVIDEOMODEL",
          "localized_name": "model"
        }
      ],
      "color": "#223",
      "widgets_values": [],
      "inputs": [
        {
          "name": "model",
          "link": 161,
          "label": "model",
          "type": "WANVIDEOMODEL",
          "localized_name": "model"
        },
        {
          "shape": 7,
          "name": "lora",
          "link": 169,
          "label": "lora",
          "type": "WANVIDLORA",
          "localized_name": "lora"
        }
      ],
      "flags": {},
      "type": "WanVideoSetLoRAs",
      "mode": 0,
      "bgcolor": "#335",
      "size": [
        222.27981567382812,
        46
      ],
      "pos": [
        1068.2607421875,
        -405.97869873046875
      ],
      "id": 79,
      "properties": {
        "cnr_id": "ComfyUI-WanVideoWrapper",
        "ver": "998a69cc0acbec503001b8b0ce0a5d5404420e1e",
        "Node name for S&R": "WanVideoSetLoRAs"
      },
      "order": 21
    },
    {
      "outputs": [
        {
          "name": "text_embeds",
          "slot_index": 0,
          "links": [
            192,
            210,
            217
          ],
          "label": "text_embeds",
          "type": "WANVIDEOTEXTEMBEDS",
          "localized_name": "text_embeds"
        }
      ],
      "color": "#332922",
      "widgets_values": [
        "一个京剧表演艺术家转身正在表演京剧",
        "色调艳丽，过曝，静态，细节模糊不清，字幕，风格，作品，画作，画面，静止，整体发灰，最差质量，低质量，JPEG压缩残留，丑陋的，残缺的，多余的手指，画得不好的手部，画得不好的脸部，畸形的，毁容的，形态畸形的肢体，手指融合，静止不动的画面，杂乱的背景，三条腿，背景人很多，倒着走",
        true,
        false,
        "gpu"
      ],
      "inputs": [
        {
          "shape": 7,
          "name": "t5",
          "link": 15,
          "label": "t5",
          "type": "WANTEXTENCODER",
          "localized_name": "t5"
        },
        {
          "shape": 7,
          "name": "model_to_offload",
          "label": "model_to_offload",
          "type": "WANVIDEOMODEL",
          "localized_name": "model_to_offload"
        }
      ],
      "flags": {},
      "type": "WanVideoTextEncode",
      "mode": 0,
      "bgcolor": "#593930",
      "size": [
        474.3573303222656,
        316.48370361328125
      ],
      "pos": [
        -53.271427154541016,
        -62.7918815612793
      ],
      "id": 16,
      "properties": {
        "cnr_id": "ComfyUI-WanVideoWrapper",
        "ver": "998a69cc0acbec503001b8b0ce0a5d5404420e1e",
        "Node name for S&R": "WanVideoTextEncode"
      },
      "order": 14
    },
    {
      "mode": 0,
      "outputs": [
        {
          "name": "IMAGE",
          "links": [
            172
          ],
          "label": "IMAGE",
          "type": "IMAGE",
          "localized_name": "IMAGE"
        },
        {
          "name": "MASK",
          "label": "MASK",
          "type": "MASK",
          "localized_name": "MASK"
        }
      ],
      "size": [
        440.95123291015625,
        785.632568359375
      ],
      "pos": [
        -77.76628875732422,
        -1609.1568603515625
      ],
      "widgets_values": [
        "d6466fc9d94c5e211e126a3f89212edf361150512a8d1e4d99aa5d9593afa14a.png",
        "image",
        ""
      ],
      "inputs": [],
      "flags": {},
      "id": 113,
      "type": "LoadImage",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.44",
        "widget_ue_connectable": {},
        "Node name for S&R": "LoadImage"
      },
      "order": 10
    }
  ],
  "extra": {
    "VHS_KeepIntermediate": true,
    "links_added_by_ue": [],
    "VHS_MetadataImage": true,
    "ue_links": [],
    "0246.VERSION": [
      0,
      0,
      4
    ],
    "VHS_latentpreviewrate": 0,
    "frontendVersion": "1.23.4",
    "VHS_latentpreview": false,
    "node_versions": {
      "ComfyUI-WanVideoWrapper": "5a2383621a05825d0d0437781afcb8552d9590fd",
      "ComfyUI-VideoHelperSuite": "0a75c7958fe320efcb052f1d9f8451fd20c730a8",
      "comfy-core": "0.3.26"
    },
    "ds": {
      "offset": [
        -72.37885289217547,
        992.2840765910032
      ],
      "scale": 0.7972024500000124
    }
  },
  "groups": [],
  "links": [
    [
      15,
      11,
      0,
      16,
      0,
      "WANTEXTENCODER"
    ],
    [
      43,
      38,
      0,
      28,
      0,
      "VAE"
    ],
    [
      71,
      67,
      0,
      68,
      0,
      "IMAGE"
    ],
    [
      76,
      28,
      0,
      69,
      0,
      "IMAGE"
    ],
    [
      110,
      56,
      0,
      80,
      1,
      "WANVIDLORA"
    ],
    [
      111,
      35,
      0,
      22,
      0,
      "WANCOMPILEARGS"
    ],
    [
      112,
      35,
      0,
      71,
      0,
      "WANCOMPILEARGS"
    ],
    [
      137,
      38,
      0,
      89,
      0,
      "WANVAE"
    ],
    [
      141,
      68,
      1,
      89,
      8,
      "INT"
    ],
    [
      142,
      68,
      2,
      89,
      9,
      "INT"
    ],
    [
      155,
      22,
      0,
      92,
      0,
      "WANVIDEOMODEL"
    ],
    [
      156,
      39,
      0,
      92,
      1,
      "BLOCKSWAPARGS"
    ],
    [
      157,
      92,
      0,
      80,
      0,
      "WANVIDEOMODEL"
    ],
    [
      159,
      39,
      0,
      93,
      1,
      "BLOCKSWAPARGS"
    ],
    [
      160,
      71,
      0,
      93,
      0,
      "WANVIDEOMODEL"
    ],
    [
      161,
      93,
      0,
      79,
      0,
      "WANVIDEOMODEL"
    ],
    [
      165,
      94,
      0,
      95,
      0,
      "INT"
    ],
    [
      169,
      97,
      0,
      79,
      1,
      "WANVIDLORA"
    ],
    [
      170,
      68,
      0,
      89,
      2,
      "IMAGE"
    ],
    [
      172,
      113,
      0,
      112,
      0,
      "IMAGE"
    ],
    [
      173,
      68,
      1,
      112,
      2,
      "INT"
    ],
    [
      174,
      68,
      2,
      112,
      3,
      "INT"
    ],
    [
      175,
      112,
      0,
      89,
      3,
      "IMAGE"
    ],
    [
      176,
      69,
      0,
      114,
      0,
      "IMAGE"
    ],
    [
      209,
      80,
      0,
      120,
      0,
      "WANVIDEOMODEL"
    ],
    [
      210,
      16,
      0,
      120,
      1,
      "WANVIDEOTEXTEMBEDS"
    ],
    [
      211,
      89,
      0,
      120,
      2,
      "WANVIDIMAGE_EMBEDS"
    ],
    [
      212,
      94,
      0,
      120,
      17,
      "INT"
    ],
    [
      213,
      95,
      0,
      120,
      18,
      "FLOAT"
    ],
    [
      214,
      91,
      0,
      120,
      19,
      "INT"
    ],
    [
      217,
      16,
      0,
      121,
      1,
      "WANVIDEOTEXTEMBEDS"
    ],
    [
      218,
      89,
      0,
      121,
      2,
      "WANVIDIMAGE_EMBEDS"
    ],
    [
      219,
      94,
      0,
      121,
      17,
      "INT"
    ],
    [
      220,
      95,
      0,
      121,
      18,
      "FLOAT"
    ],
    [
      222,
      120,
      0,
      121,
      3,
      "LATENT"
    ],
    [
      223,
      91,
      0,
      121,
      19,
      "INT"
    ],
    [
      224,
      121,
      0,
      28,
      1,
      "LATENT"
    ],
    [
      225,
      79,
      0,
      121,
      0,
      "WANVIDEOMODEL"
    ]
  ],
  "id": "c6e410bc-5e2c-460b-ae81-c91b6094fbb1",
  "config": {},
  "version": 0.4,
  "last_node_id": 121,
  "revision": 0
}