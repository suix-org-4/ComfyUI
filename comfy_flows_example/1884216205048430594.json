{
  "last_link_id": 233,
  "nodes": [
    {
      "mode": 0,
      "outputs": [
        {
          "shape": 3,
          "name": "CONDITIONING",
          "slot_index": 0,
          "links": [
            199
          ],
          "label": "CONDITIONING",
          "type": "CONDITIONING"
        }
      ],
      "size": {
        "0": 400,
        "1": 200
      },
      "pos": [
        150,
        755,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0
      ],
      "widgets_values": [
        ""
      ],
      "inputs": [
        {
          "name": "clip",
          "link": 226,
          "label": "clip",
          "type": "CLIP"
        }
      ],
      "flags": {
        "collapsed": true
      },
      "id": 90,
      "type": "CLIPTextEncode",
      "properties": {
        "Node name for S&R": "CLIPTextEncode"
      },
      "order": 14
    },
    {
      "mode": 0,
      "outputs": [
        {
          "shape": 3,
          "name": "CONDITIONING",
          "slot_index": 0,
          "links": [
            198
          ],
          "label": "CONDITIONING",
          "type": "CONDITIONING"
        }
      ],
      "size": {
        "0": 400,
        "1": 200
      },
      "pos": [
        150,
        680,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0
      ],
      "widgets_values": [
        "face detailed,shaofu,1girl"
      ],
      "inputs": [
        {
          "name": "clip",
          "link": 227,
          "label": "clip",
          "type": "CLIP"
        }
      ],
      "flags": {
        "collapsed": true
      },
      "id": 89,
      "type": "CLIPTextEncode",
      "properties": {
        "Node name for S&R": "CLIPTextEncode"
      },
      "order": 15
    },
    {
      "mode": 0,
      "outputs": [
        {
          "shape": 3,
          "name": "CLIP",
          "slot_index": 0,
          "links": [
            226,
            227,
            228
          ],
          "label": "CLIP",
          "type": "CLIP"
        }
      ],
      "size": {
        "0": 210,
        "1": 60
      },
      "pos": [
        150,
        825,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0
      ],
      "widgets_values": [
        -2
      ],
      "inputs": [
        {
          "name": "clip",
          "link": 225,
          "label": "clip",
          "type": "CLIP"
        }
      ],
      "flags": {
        "collapsed": true
      },
      "id": 109,
      "type": "CLIPSetLastLayer",
      "properties": {
        "Node name for S&R": "CLIPSetLastLayer"
      },
      "order": 11
    },
    {
      "mode": 0,
      "outputs": [
        {
          "shape": 3,
          "name": "image",
          "slot_index": 0,
          "links": [
            148
          ],
          "label": "image",
          "type": "IMAGE"
        },
        {
          "shape": 3,
          "name": "512 width",
          "label": "width",
          "type": "INT"
        },
        {
          "shape": 3,
          "name": "768 height",
          "label": "height",
          "type": "INT"
        },
        {
          "shape": 3,
          "name": "31 count",
          "label": "count",
          "type": "INT"
        }
      ],
      "size": {
        "0": 210,
        "1": 86
      },
      "pos": [
        64.87519073486328,
        -84.60568237304688,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0
      ],
      "inputs": [
        {
          "name": "image",
          "link": 112,
          "label": "image",
          "type": "IMAGE"
        }
      ],
      "flags": {
        "collapsed": true
      },
      "id": 9,
      "type": "GetImageSizeAndCount",
      "properties": {
        "Node name for S&R": "GetImageSizeAndCount"
      },
      "order": 19
    },
    {
      "mode": 0,
      "outputs": [
        {
          "name": "OPT_CONNECTION",
          "slot_index": 0,
          "label": "OPT_CONNECTION",
          "type": "*"
        }
      ],
      "size": {
        "0": 545,
        "1": 200
      },
      "pos": {
        "0": -1985,
        "1": -467,
        "2": 0,
        "3": 0,
        "4": 0,
        "5": 0,
        "6": 0,
        "7": 0,
        "8": 0,
        "9": 0
      },
      "inputs": [],
      "flags": {},
      "id": 108,
      "type": "Fast Groups Bypasser (rgthree)",
      "properties": {
        "customSortAlphabet": "",
        "matchColors": "",
        "sort": "position",
        "matchTitle": "",
        "showNav": true,
        "toggleRestriction": "default"
      },
      "order": 0
    },
    {
      "outputs": [
        {
          "shape": 3,
          "name": "samples",
          "slot_index": 0,
          "links": [
            149
          ],
          "label": "samples",
          "type": "LATENT"
        }
      ],
      "color": "#223",
      "widgets_values": [
        25,
        2,
        2,
        42,
        "fixed",
        15,
        0,
        16,
        6,
        false,
        1,
        0,
        1,
        1
      ],
      "inputs": [
        {
          "name": "mimic_pipeline",
          "link": 146,
          "label": "mimic_pipeline",
          "type": "MIMICPIPE"
        },
        {
          "name": "ref_image",
          "link": 147,
          "label": "ref_image",
          "type": "IMAGE"
        },
        {
          "name": "pose_images",
          "link": 148,
          "label": "pose_images",
          "type": "IMAGE"
        },
        {
          "shape": 7,
          "name": "optional_scheduler",
          "label": "optional_scheduler",
          "type": "DIFFUSERS_SCHEDULER"
        }
      ],
      "flags": {},
      "type": "MimicMotionSampler",
      "mode": 0,
      "bgcolor": "#335",
      "size": {
        "0": 319.6508483886719,
        "1": 442.6165466308594
      },
      "pos": [
        450.333251953125,
        -195.09092712402344,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0
      ],
      "id": 57,
      "properties": {
        "Node name for S&R": "MimicMotionSampler"
      },
      "order": 20
    },
    {
      "mode": 0,
      "outputs": [
        {
          "shape": 3,
          "name": "IMAGE",
          "slot_index": 0,
          "links": [
            217
          ],
          "label": "IMAGE",
          "type": "IMAGE"
        }
      ],
      "size": {
        "0": 240,
        "1": 46
      },
      "pos": [
        1107.192138671875,
        820.884033203125,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0
      ],
      "inputs": [
        {
          "name": "upscale_model",
          "link": 216,
          "label": "upscale_model",
          "type": "UPSCALE_MODEL"
        },
        {
          "name": "image",
          "link": 215,
          "label": "image",
          "type": "IMAGE"
        }
      ],
      "flags": {
        "collapsed": true
      },
      "id": 95,
      "type": "ImageUpscaleWithModel",
      "properties": {
        "Node name for S&R": "ImageUpscaleWithModel"
      },
      "order": 30
    },
    {
      "mode": 0,
      "outputs": [
        {
          "shape": 3,
          "name": "CONTEXT_OPTS",
          "links": [
            204
          ],
          "label": "CONTEXT_OPTS",
          "type": "CONTEXT_OPTIONS"
        }
      ],
      "size": {
        "0": 320,
        "1": 200
      },
      "pos": [
        675.1929931640625,
        907.884033203125,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0
      ],
      "widgets_values": [
        16,
        4,
        "pyramid",
        false,
        0,
        1
      ],
      "inputs": [
        {
          "shape": 7,
          "name": "prev_context",
          "label": "prev_context",
          "type": "CONTEXT_OPTIONS"
        },
        {
          "shape": 7,
          "name": "view_opts",
          "label": "view_opts",
          "type": "VIEW_OPTS"
        }
      ],
      "flags": {
        "collapsed": true
      },
      "id": 92,
      "type": "ADE_StandardStaticContextOptions",
      "properties": {
        "Node name for S&R": "ADE_StandardStaticContextOptions"
      },
      "order": 1
    },
    {
      "outputs": [
        {
          "shape": 3,
          "name": "UPSCALE_MODEL",
          "links": [
            216
          ],
          "label": "UPSCALE_MODEL",
          "type": "UPSCALE_MODEL"
        }
      ],
      "color": "#323",
      "widgets_values": [
        "RealESRGAN_x2plus.pth"
      ],
      "inputs": [],
      "flags": {
        "pinned": true
      },
      "type": "UpscaleModelLoader",
      "mode": 0,
      "bgcolor": "#535",
      "size": {
        "0": 785.6312255859375,
        "1": 160.1742401123047
      },
      "pos": [
        646,
        573,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0
      ],
      "id": 96,
      "properties": {
        "Node name for S&R": "UpscaleModelLoader"
      },
      "order": 2
    },
    {
      "mode": 0,
      "outputs": [
        {
          "name": "output",
          "label": "output",
          "type": "*"
        }
      ],
      "size": {
        "0": 210,
        "1": 26
      },
      "pos": [
        231,
        796,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0
      ],
      "inputs": [
        {
          "name": "anything",
          "link": 200,
          "label": "anything",
          "type": "*"
        }
      ],
      "flags": {
        "collapsed": true
      },
      "id": 87,
      "type": "easy clearCacheAll",
      "properties": {
        "Node name for S&R": "easy clearCacheAll"
      },
      "order": 29
    },
    {
      "mode": 0,
      "outputs": [
        {
          "shape": 3,
          "name": "basic_pipe",
          "slot_index": 0,
          "links": [
            191
          ],
          "label": "basic_pipe",
          "type": "BASIC_PIPE"
        }
      ],
      "size": {
        "0": 240,
        "1": 106
      },
      "pos": [
        165,
        685,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0
      ],
      "inputs": [
        {
          "name": "model",
          "link": 195,
          "label": "model",
          "type": "MODEL"
        },
        {
          "name": "clip",
          "link": 228,
          "label": "clip",
          "type": "CLIP"
        },
        {
          "name": "vae",
          "link": 197,
          "label": "vae",
          "type": "VAE"
        },
        {
          "name": "positive",
          "link": 198,
          "label": "positive",
          "type": "CONDITIONING"
        },
        {
          "name": "negative",
          "link": 199,
          "label": "negative",
          "type": "CONDITIONING"
        }
      ],
      "flags": {
        "collapsed": true
      },
      "id": 86,
      "type": "ToBasicPipe",
      "properties": {
        "Node name for S&R": "ToBasicPipe"
      },
      "order": 17
    },
    {
      "mode": 0,
      "outputs": [
        {
          "name": "",
          "slot_index": 0,
          "links": [
            209,
            210,
            211
          ],
          "label": "",
          "type": "IMAGE"
        }
      ],
      "size": [
        75,
        26
      ],
      "pos": [
        -436.1364699090728,
        885.7122990517225,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0
      ],
      "inputs": [
        {
          "name": "",
          "link": 218,
          "label": "",
          "type": "*"
        }
      ],
      "flags": {},
      "id": 94,
      "type": "Reroute",
      "properties": {
        "horizontal": false,
        "showOutputText": false
      },
      "order": 23
    },
    {
      "outputs": [
        {
          "shape": 3,
          "name": "SAM_MODEL",
          "links": [
            193
          ],
          "label": "SAM_MODEL",
          "type": "SAM_MODEL"
        }
      ],
      "color": "#322",
      "widgets_values": [
        "sam_vit_b_01ec64.pth",
        "Prefer GPU"
      ],
      "inputs": [],
      "flags": {},
      "type": "SAMLoader",
      "mode": 0,
      "bgcolor": "#533",
      "size": {
        "0": 438.0675964355469,
        "1": 117.94400024414062
      },
      "pos": [
        -589.1364699090728,
        571.7122990517225,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0
      ],
      "id": 85,
      "properties": {
        "Node name for S&R": "SAMLoader"
      },
      "order": 3
    },
    {
      "outputs": [
        {
          "shape": 3,
          "name": "BBOX_DETECTOR",
          "links": [
            192
          ],
          "label": "BBOX_DETECTOR",
          "type": "BBOX_DETECTOR"
        },
        {
          "shape": 3,
          "name": "SEGM_DETECTOR",
          "label": "SEGM_DETECTOR",
          "type": "SEGM_DETECTOR"
        }
      ],
      "color": "#332922",
      "widgets_values": [
        "bbox/face_yolov8m.pt"
      ],
      "inputs": [],
      "flags": {},
      "type": "UltralyticsDetectorProvider",
      "mode": 0,
      "bgcolor": "#593930",
      "size": {
        "0": 437.5728454589844,
        "1": 110.29670715332031
      },
      "pos": [
        -587.1364699090728,
        751.7122990517225,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0
      ],
      "id": 84,
      "properties": {
        "Node name for S&R": "UltralyticsDetectorProvider"
      },
      "order": 4
    },
    {
      "outputs": [
        {
          "shape": 3,
          "name": "SEGS",
          "slot_index": 0,
          "links": [
            190
          ],
          "label": "SEGS",
          "type": "SEGS"
        }
      ],
      "color": "#323",
      "widgets_values": [
        0.5,
        10,
        2.5,
        10,
        0.5,
        10,
        0,
        0.7,
        "Pivot SEGS",
        "Combined mask"
      ],
      "inputs": [
        {
          "name": "bbox_detector",
          "link": 192,
          "label": "bbox_detector",
          "type": "BBOX_DETECTOR"
        },
        {
          "name": "image_frames",
          "link": 209,
          "label": "image_frames",
          "type": "IMAGE"
        },
        {
          "shape": 7,
          "name": "sam_model_opt",
          "link": 193,
          "label": "sam_model_opt",
          "type": "SAM_MODEL"
        },
        {
          "shape": 7,
          "name": "segm_detector_opt",
          "label": "segm_detector_opt",
          "type": "SEGM_DETECTOR"
        }
      ],
      "flags": {},
      "type": "ImpactSimpleDetectorSEGS_for_AD",
      "mode": 0,
      "bgcolor": "#535",
      "size": {
        "0": 438.5378112792969,
        "1": 507.8544616699219
      },
      "pos": [
        -589.1364699090728,
        924.7122990517225,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0
      ],
      "id": 82,
      "properties": {
        "Node name for S&R": "ImpactSimpleDetectorSEGS_for_AD"
      },
      "order": 25
    },
    {
      "outputs": [
        {
          "shape": 3,
          "name": "segs",
          "slot_index": 0,
          "links": [
            194
          ],
          "label": "segs",
          "type": "SEGS"
        },
        {
          "shape": 6,
          "name": "cnet_images",
          "label": "cnet_images",
          "type": "IMAGE"
        }
      ],
      "color": "#232",
      "widgets_values": [
        256,
        true,
        768,
        32111227540169,
        "randomize",
        12,
        7,
        "euler",
        "normal",
        0.45,
        0.2,
        20
      ],
      "inputs": [
        {
          "name": "image_frames",
          "link": 211,
          "label": "image_frames",
          "type": "IMAGE"
        },
        {
          "name": "segs",
          "link": 190,
          "label": "segs",
          "type": "SEGS"
        },
        {
          "name": "basic_pipe",
          "link": 191,
          "label": "basic_pipe",
          "type": "BASIC_PIPE"
        },
        {
          "shape": 7,
          "name": "refiner_basic_pipe_opt",
          "label": "refiner_basic_pipe_opt",
          "type": "BASIC_PIPE"
        },
        {
          "shape": 7,
          "name": "scheduler_func_opt",
          "label": "scheduler_func_opt",
          "type": "SCHEDULER_FUNC"
        }
      ],
      "flags": {},
      "type": "SEGSDetailerForAnimateDiff",
      "mode": 0,
      "bgcolor": "#353",
      "size": {
        "0": 535.8978271484375,
        "1": 1034.7342529296875
      },
      "pos": [
        -40,
        468,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0
      ],
      "id": 81,
      "properties": {
        "Node name for S&R": "SEGSDetailerForAnimateDiff"
      },
      "order": 27
    },
    {
      "outputs": [
        {
          "shape": 3,
          "name": "Filenames",
          "label": "Filenames",
          "type": "VHS_FILENAMES"
        }
      ],
      "color": "#232",
      "widgets_values": {
        "save_output": true,
        "filename_prefix": "MimicMotion",
        "loop_count": 0,
        "pix_fmt": "yuv420p",
        "save_metadata": false,
        "crf": 19,
        "videopreview": {
          "paused": false,
          "hidden": false,
          "params": {
            "filename": "MimicMotion_00001_runbr_1738067565.mp4",
            "format": "video/h264-mp4",
            "subfolder": "",
            "type": "output",
            "frame_rate": 10
          }
        },
        "format": "video/h264-mp4",
        "frame_rate": 10,
        "pingpong": false
      },
      "inputs": [
        {
          "name": "images",
          "link": 155,
          "label": "images",
          "type": "IMAGE"
        },
        {
          "shape": 7,
          "name": "audio",
          "slot_index": 1,
          "label": "audio",
          "type": "AUDIO"
        },
        {
          "shape": 7,
          "name": "meta_batch",
          "label": "meta_batch",
          "type": "VHS_BatchManager"
        },
        {
          "shape": 7,
          "name": "vae",
          "label": "vae",
          "type": "VAE"
        }
      ],
      "flags": {},
      "type": "VHS_VideoCombine",
      "mode": 0,
      "bgcolor": "#353",
      "size": [
        430.1598815917969,
        939.2398223876953
      ],
      "pos": [
        1568,
        457,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0
      ],
      "id": 16,
      "properties": {
        "Node name for S&R": "VHS_VideoCombine"
      },
      "order": 22
    },
    {
      "outputs": [
        {
          "shape": 3,
          "name": "IMAGE",
          "links": [
            231
          ],
          "label": "IMAGE",
          "type": "IMAGE"
        },
        {
          "shape": 3,
          "name": "MASK",
          "label": "MASK",
          "type": "MASK"
        }
      ],
      "color": "#232",
      "widgets_values": [
        "5de0c16e23c88246d9787503f85d8859f053fc3f86a8700f142f41fc2c74f905.jpg",
        "image"
      ],
      "inputs": [],
      "flags": {},
      "type": "LoadImage",
      "mode": 0,
      "bgcolor": "#353",
      "size": {
        "0": 397.725830078125,
        "1": 534.9641723632812
      },
      "pos": [
        1178.545654296875,
        -234.0908203125,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0
      ],
      "id": 112,
      "properties": {
        "Node name for S&R": "LoadImage"
      },
      "order": 5
    },
    {
      "outputs": [
        {
          "shape": 3,
          "name": "MODEL",
          "slot_index": 0,
          "links": [
            203
          ],
          "label": "MODEL",
          "type": "MODEL"
        },
        {
          "shape": 3,
          "name": "CLIP",
          "slot_index": 1,
          "links": [
            225
          ],
          "label": "CLIP",
          "type": "CLIP"
        },
        {
          "shape": 3,
          "name": "VAE",
          "slot_index": 2,
          "links": [
            197
          ],
          "label": "VAE",
          "type": "VAE"
        }
      ],
      "color": "#323",
      "widgets_values": [
        "电影质感--真人超写实美女_v1.safetensors",
        "sqrt_linear (AnimateDiff)",
        false,
        0.18215
      ],
      "inputs": [],
      "flags": {
        "pinned": true
      },
      "type": "CheckpointLoaderSimpleWithNoiseSelect",
      "mode": 0,
      "bgcolor": "#535",
      "size": {
        "0": 452.82757568359375,
        "1": 259.4198303222656
      },
      "pos": [
        -1203,
        579,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0
      ],
      "id": 88,
      "properties": {
        "Node name for S&R": "CheckpointLoaderSimpleWithNoiseSelect"
      },
      "order": 6
    },
    {
      "outputs": [
        {
          "shape": 3,
          "name": "IMAGE",
          "slot_index": 0,
          "links": [
            111
          ],
          "label": "IMAGE",
          "type": "IMAGE"
        },
        {
          "shape": 3,
          "name": "width",
          "label": "width",
          "type": "INT"
        },
        {
          "shape": 3,
          "name": "height",
          "label": "height",
          "type": "INT"
        }
      ],
      "color": "#432",
      "widgets_values": [
        720,
        1280,
        "lanczos",
        false,
        64,
        0,
        0,
        "disabled"
      ],
      "inputs": [
        {
          "name": "image",
          "link": 86,
          "label": "image",
          "type": "IMAGE"
        },
        {
          "shape": 7,
          "name": "get_image_size",
          "label": "get_image_size",
          "type": "IMAGE"
        },
        {
          "widget": {
            "name": "width_input"
          },
          "name": "width_input",
          "link": 88,
          "label": "width_input",
          "type": "INT"
        },
        {
          "widget": {
            "name": "height_input"
          },
          "name": "height_input",
          "link": 89,
          "label": "height_input",
          "type": "INT"
        }
      ],
      "flags": {},
      "type": "ImageResizeKJ",
      "mode": 0,
      "bgcolor": "#653",
      "size": {
        "0": 454.16094970703125,
        "1": 301.0865173339844
      },
      "pos": [
        -1203,
        914,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0
      ],
      "id": 35,
      "properties": {
        "Node name for S&R": "ImageResizeKJ"
      },
      "order": 16
    },
    {
      "outputs": [
        {
          "shape": 3,
          "name": "INT",
          "links": [
            219
          ],
          "label": "INT",
          "type": "INT"
        }
      ],
      "color": "#322",
      "widgets_values": [
        "30"
      ],
      "inputs": [],
      "flags": {},
      "type": "Int",
      "mode": 0,
      "bgcolor": "#533",
      "size": {
        "0": 454.16094970703125,
        "1": 149.41989135742188
      },
      "pos": [
        -1199,
        1278,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0
      ],
      "id": 103,
      "properties": {
        "Node name for S&R": "Int"
      },
      "order": 7
    },
    {
      "outputs": [
        {
          "shape": 3,
          "name": "MODEL",
          "slot_index": 0,
          "links": [
            195
          ],
          "label": "MODEL",
          "type": "MODEL"
        }
      ],
      "color": "#332922",
      "widgets_values": [
        "motionModel_v01.ckpt",
        "sqrt_linear (AnimateDiff)"
      ],
      "inputs": [
        {
          "name": "model",
          "link": 203,
          "label": "model",
          "type": "MODEL"
        },
        {
          "shape": 7,
          "name": "context_options",
          "link": 204,
          "label": "context_options",
          "type": "CONTEXT_OPTIONS"
        },
        {
          "shape": 7,
          "name": "motion_lora",
          "label": "motion_lora",
          "type": "MOTION_LORA"
        },
        {
          "shape": 7,
          "name": "ad_settings",
          "label": "ad_settings",
          "type": "AD_SETTINGS"
        },
        {
          "shape": 7,
          "name": "ad_keyframes",
          "label": "ad_keyframes",
          "type": "AD_KEYFRAMES"
        },
        {
          "shape": 7,
          "name": "sample_settings",
          "label": "sample_settings",
          "type": "SAMPLE_SETTINGS"
        },
        {
          "shape": 7,
          "name": "scale_multival",
          "label": "scale_multival",
          "type": "MULTIVAL"
        },
        {
          "shape": 7,
          "name": "effect_multival",
          "label": "effect_multival",
          "type": "MULTIVAL"
        },
        {
          "shape": 7,
          "name": "per_block",
          "label": "per_block",
          "type": "PER_BLOCK"
        }
      ],
      "flags": {},
      "type": "ADE_AnimateDiffLoaderGen1",
      "mode": 0,
      "bgcolor": "#593930",
      "size": {
        "0": 390.9010009765625,
        "1": 568.6067504882812
      },
      "pos": [
        1039,
        790,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0
      ],
      "id": 91,
      "properties": {
        "Node name for S&R": "ADE_AnimateDiffLoaderGen1"
      },
      "order": 10
    },
    {
      "outputs": [
        {
          "shape": 3,
          "name": "IMAGE",
          "slot_index": 0,
          "links": [
            200,
            215
          ],
          "label": "IMAGE",
          "type": "IMAGE"
        }
      ],
      "color": "#223",
      "widgets_values": [
        5,
        255
      ],
      "inputs": [
        {
          "name": "image",
          "link": 210,
          "label": "image",
          "type": "IMAGE"
        },
        {
          "name": "segs",
          "link": 194,
          "label": "segs",
          "type": "SEGS"
        },
        {
          "shape": 7,
          "name": "ref_image_opt",
          "label": "ref_image_opt",
          "type": "IMAGE"
        }
      ],
      "flags": {},
      "type": "SEGSPaste",
      "mode": 0,
      "bgcolor": "#335",
      "size": {
        "0": 364.42431640625,
        "1": 562.4561157226562
      },
      "pos": [
        644,
        798,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0
      ],
      "id": 83,
      "properties": {
        "Node name for S&R": "SEGSPaste"
      },
      "order": 28
    },
    {
      "outputs": [
        {
          "shape": 3,
          "name": "IMAGE",
          "links": [
            233
          ],
          "label": "IMAGE",
          "type": "IMAGE"
        },
        {
          "shape": 3,
          "name": "FACE_MODEL",
          "label": "FACE_MODEL",
          "type": "FACE_MODEL"
        }
      ],
      "color": "#332922",
      "widgets_values": [
        true,
        "inswapper_128.onnx",
        "retinaface_resnet50",
        "GFPGANv1.4.pth",
        1,
        0.5,
        "no",
        "no",
        "0",
        "0",
        1
      ],
      "inputs": [
        {
          "name": "input_image",
          "link": 230,
          "label": "input_image",
          "type": "IMAGE"
        },
        {
          "name": "source_image",
          "link": 231,
          "label": "source_image",
          "type": "IMAGE"
        },
        {
          "name": "face_model",
          "label": "face_model",
          "type": "FACE_MODEL"
        },
        {
          "name": "face_boost",
          "label": "face_boost",
          "type": "FACE_BOOST"
        }
      ],
      "flags": {},
      "type": "ReActorFaceSwap",
      "mode": 0,
      "bgcolor": "#593930",
      "size": {
        "0": 371.0949401855469,
        "1": 518.6776733398438
      },
      "pos": [
        1599.545654296875,
        -229.0908203125,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0
      ],
      "id": 113,
      "properties": {
        "Node name for S&R": "ReActorFaceSwap"
      },
      "order": 24
    },
    {
      "outputs": [
        {
          "shape": 3,
          "name": "images",
          "slot_index": 0,
          "links": [
            155,
            218,
            230
          ],
          "label": "images",
          "type": "IMAGE"
        }
      ],
      "color": "#432",
      "widgets_values": [
        4
      ],
      "inputs": [
        {
          "name": "mimic_pipeline",
          "link": 150,
          "slot_index": 0,
          "label": "mimic_pipeline",
          "type": "MIMICPIPE"
        },
        {
          "name": "samples",
          "link": 149,
          "label": "samples",
          "type": "LATENT"
        }
      ],
      "flags": {},
      "type": "MimicMotionDecode",
      "mode": 0,
      "bgcolor": "#653",
      "size": {
        "0": 233.9280242919922,
        "1": 436.884521484375
      },
      "pos": [
        798.333251953125,
        -192.09092712402344,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0
      ],
      "id": 58,
      "properties": {
        "Node name for S&R": "MimicMotionDecode"
      },
      "order": 21
    },
    {
      "outputs": [
        {
          "shape": 3,
          "name": "IMAGE",
          "slot_index": 0,
          "links": [
            110,
            147
          ],
          "label": "IMAGE",
          "type": "IMAGE"
        },
        {
          "shape": 3,
          "name": "width",
          "slot_index": 1,
          "links": [
            88
          ],
          "label": "width",
          "type": "INT"
        },
        {
          "shape": 3,
          "name": "height",
          "slot_index": 2,
          "links": [
            89
          ],
          "label": "height",
          "type": "INT"
        }
      ],
      "color": "#2a363b",
      "widgets_values": [
        544,
        960,
        "lanczos",
        true,
        64,
        0,
        0,
        "disabled"
      ],
      "inputs": [
        {
          "name": "image",
          "link": 61,
          "label": "image",
          "type": "IMAGE"
        },
        {
          "shape": 7,
          "name": "get_image_size",
          "label": "get_image_size",
          "type": "IMAGE"
        },
        {
          "widget": {
            "name": "width_input"
          },
          "name": "width_input",
          "label": "width_input",
          "type": "INT"
        },
        {
          "widget": {
            "name": "height_input"
          },
          "name": "height_input",
          "label": "height_input",
          "type": "INT"
        }
      ],
      "flags": {},
      "type": "ImageResizeKJ",
      "mode": 0,
      "bgcolor": "#3f5159",
      "size": {
        "0": 297.3960876464844,
        "1": 497.208251953125
      },
      "pos": [
        -374.57568359375,
        -221.09097290039062,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0
      ],
      "id": 28,
      "properties": {
        "Node name for S&R": "ImageResizeKJ"
      },
      "order": 13
    },
    {
      "outputs": [
        {
          "shape": 3,
          "name": "poses_with_ref",
          "slot_index": 0,
          "links": [
            112
          ],
          "label": "poses_with_ref",
          "type": "IMAGE"
        },
        {
          "shape": 3,
          "name": "pose_images",
          "slot_index": 1,
          "links": [],
          "label": "pose_images",
          "type": "IMAGE"
        }
      ],
      "color": "#223",
      "widgets_values": [
        true,
        true,
        true
      ],
      "inputs": [
        {
          "name": "ref_image",
          "link": 110,
          "label": "ref_image",
          "type": "IMAGE"
        },
        {
          "name": "pose_images",
          "link": 111,
          "label": "pose_images",
          "type": "IMAGE"
        }
      ],
      "flags": {},
      "type": "MimicMotionGetPoses",
      "mode": 0,
      "bgcolor": "#335",
      "size": {
        "0": 349.9497985839844,
        "1": 207.32945251464844
      },
      "pos": [
        -46.57568359375,
        67.90900421142578,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0
      ],
      "id": 42,
      "properties": {
        "Node name for S&R": "MimicMotionGetPoses"
      },
      "order": 18
    },
    {
      "outputs": [
        {
          "shape": 3,
          "name": "IMAGE",
          "slot_index": 0,
          "links": [
            61
          ],
          "label": "IMAGE",
          "type": "IMAGE"
        },
        {
          "shape": 3,
          "name": "MASK",
          "label": "MASK",
          "type": "MASK"
        }
      ],
      "color": "#232",
      "widgets_values": [
        "7591e3146c94fbf9034969c4775adb76e57bd0f78aa097988d4323e86bf84c34.jpg",
        "image"
      ],
      "inputs": [],
      "flags": {},
      "type": "LoadImage",
      "mode": 0,
      "bgcolor": "#353",
      "size": {
        "0": 328.62493896484375,
        "1": 738.8482666015625
      },
      "pos": [
        -769,
        -384,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0
      ],
      "id": 3,
      "properties": {
        "Node name for S&R": "LoadImage"
      },
      "order": 8
    },
    {
      "mode": 0,
      "outputs": [
        {
          "shape": 3,
          "name": "IMAGE",
          "slot_index": 0,
          "links": [
            86
          ],
          "label": "IMAGE",
          "type": "IMAGE"
        },
        {
          "shape": 3,
          "name": "frame_count",
          "label": "frame_count",
          "type": "INT"
        },
        {
          "shape": 3,
          "name": "audio",
          "label": "audio",
          "type": "AUDIO"
        },
        {
          "shape": 3,
          "name": "video_info",
          "label": "video_info",
          "type": "VHS_VIDEOINFO"
        }
      ],
      "size": [
        564.9266885542257,
        1220.7585574297345
      ],
      "pos": [
        -1360,
        -781,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0
      ],
      "widgets_values": {
        "custom_height": 512,
        "force_rate": 30,
        "custom_width": 512,
        "select_every_nth": 3,
        "frame_load_cap": 150,
        "videopreview": {
          "paused": false,
          "hidden": false,
          "params": {
            "force_rate": 30,
            "filename": "ab5afbcd00de5082adc16199848ec4f1935be6d633fe5f7b86b0ddfa837ae6ed.mp4",
            "select_every_nth": 3,
            "frame_load_cap": 150,
            "format": "video/mp4",
            "skip_first_frames": 0,
            "type": "input"
          }
        },
        "video": "ab5afbcd00de5082adc16199848ec4f1935be6d633fe5f7b86b0ddfa837ae6ed.mp4",
        "skip_first_frames": 0,
        "force_size": "Disabled",
        "choose video to upload": "image"
      },
      "inputs": [
        {
          "shape": 7,
          "name": "meta_batch",
          "label": "meta_batch",
          "type": "VHS_BatchManager"
        },
        {
          "shape": 7,
          "name": "vae",
          "label": "vae",
          "type": "VAE"
        },
        {
          "widget": {
            "name": "frame_load_cap"
          },
          "name": "frame_load_cap",
          "link": 219,
          "label": "frame_load_cap",
          "type": "INT"
        }
      ],
      "flags": {},
      "id": 5,
      "type": "VHS_LoadVideo",
      "properties": {
        "Node name for S&R": "VHS_LoadVideo"
      },
      "order": 12
    },
    {
      "outputs": [
        {
          "shape": 3,
          "name": "Filenames",
          "label": "Filenames",
          "type": "VHS_FILENAMES"
        }
      ],
      "color": "#322",
      "widgets_values": {
        "save_output": true,
        "filename_prefix": "AnimateDiff",
        "loop_count": 0,
        "videopreview": {
          "paused": false,
          "hidden": false,
          "params": {
            "filename": "AnimateDiff_00002_nhxmy_1738067593.gif",
            "format": "image/gif",
            "subfolder": "",
            "type": "output",
            "frame_rate": 8
          },
          "muted": false
        },
        "format": "image/gif",
        "frame_rate": 8,
        "pingpong": false
      },
      "inputs": [
        {
          "name": "images",
          "link": 233,
          "label": "images",
          "type": "IMAGE"
        },
        {
          "name": "audio",
          "label": "audio",
          "type": "AUDIO"
        },
        {
          "name": "meta_batch",
          "label": "meta_batch",
          "type": "VHS_BatchManager"
        },
        {
          "name": "vae",
          "label": "vae",
          "type": "VAE"
        }
      ],
      "flags": {},
      "type": "VHS_VideoCombine",
      "mode": 0,
      "bgcolor": "#533",
      "size": [
        356.09442138671875,
        756.1416320800781
      ],
      "pos": [
        2077,
        -335,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0
      ],
      "id": 114,
      "properties": {
        "Node name for S&R": "VHS_VideoCombine"
      },
      "order": 26
    },
    {
      "outputs": [
        {
          "shape": 3,
          "name": "Filenames",
          "label": "Filenames",
          "type": "VHS_FILENAMES"
        }
      ],
      "color": "#232",
      "widgets_values": {
        "save_output": true,
        "filename_prefix": "MimicMotion",
        "loop_count": 0,
        "pix_fmt": "yuv420p",
        "save_metadata": false,
        "crf": 19,
        "videopreview": {
          "paused": false,
          "hidden": false,
          "params": {
            "filename": "MimicMotion_00008.mp4",
            "format": "video/h264-mp4",
            "subfolder": "",
            "type": "output",
            "frame_rate": 10
          }
        },
        "format": "video/h264-mp4",
        "frame_rate": 10,
        "pingpong": false
      },
      "inputs": [
        {
          "name": "images",
          "link": 217,
          "label": "images",
          "type": "IMAGE"
        },
        {
          "shape": 7,
          "name": "audio",
          "slot_index": 1,
          "label": "audio",
          "type": "AUDIO"
        },
        {
          "shape": 7,
          "name": "meta_batch",
          "label": "meta_batch",
          "type": "VHS_BatchManager"
        },
        {
          "shape": 7,
          "name": "vae",
          "label": "vae",
          "type": "VAE"
        }
      ],
      "flags": {},
      "type": "VHS_VideoCombine",
      "mode": 0,
      "bgcolor": "#353",
      "size": [
        555.0492286196577,
        922.5607500864551
      ],
      "pos": [
        2016,
        468,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0
      ],
      "id": 80,
      "properties": {
        "Node name for S&R": "VHS_VideoCombine"
      },
      "order": 31
    },
    {
      "outputs": [
        {
          "shape": 3,
          "name": "mimic_pipeline",
          "links": [
            146,
            150
          ],
          "label": "mimic_pipeline",
          "type": "MIMICPIPE"
        }
      ],
      "color": "#233",
      "widgets_values": [
        "MimicMotionMergedUnet_1-0-fp16.safetensors",
        "fp16"
      ],
      "inputs": [],
      "flags": {},
      "type": "DownloadAndLoadMimicMotionModel",
      "mode": 0,
      "bgcolor": "#355",
      "size": [
        395.46692362624617,
        203.7110110037098
      ],
      "pos": [
        -44.57568359375,
        -212.09097290039062,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0
      ],
      "id": 2,
      "properties": {
        "Node name for S&R": "DownloadAndLoadMimicMotionModel"
      },
      "order": 9
    }
  ],
  "extra": {
    "workspace_info": {
      "id": "QYLf7mWW0nxSU2BC4udKB"
    },
    "0246.VERSION": [
      0,
      0,
      4
    ],
    "ds": {
      "offset": [
        2760.995957195246,
        534.3077877687729
      ],
      "scale": 0.25401326852420086
    }
  },
  "groups": [
    {
      "color": "#3f789e",
      "font_size": 24,
      "title": "面部修复",
      "locked": false,
      "bounding": [
        -653,
        451,
        582,
        1053
      ]
    },
    {
      "color": "#3f789e",
      "font_size": 24,
      "title": "素材上传",
      "locked": false,
      "bounding": [
        -1293,
        451,
        635,
        1051
      ]
    },
    {
      "color": "#3f789e",
      "font_size": 24,
      "title": "mimicmotion",
      "locked": false,
      "bounding": [
        -429,
        -328,
        817,
        684
      ]
    },
    {
      "color": "#3f789e",
      "font_size": 24,
      "title": "reactor换脸",
      "locked": false,
      "bounding": [
        1108,
        -330,
        934,
        684
      ]
    },
    {
      "color": "#3f789e",
      "font_size": 24,
      "title": "Group",
      "locked": false,
      "bounding": [
        401,
        -328,
        697,
        682
      ]
    },
    {
      "color": "#3f789e",
      "font_size": 24,
      "title": "Group",
      "locked": false,
      "bounding": [
        532,
        432,
        982,
        1073
      ]
    }
  ],
  "links": [
    [
      61,
      3,
      0,
      28,
      0,
      "IMAGE"
    ],
    [
      86,
      5,
      0,
      35,
      0,
      "IMAGE"
    ],
    [
      88,
      28,
      1,
      35,
      2,
      "INT"
    ],
    [
      89,
      28,
      2,
      35,
      3,
      "INT"
    ],
    [
      110,
      28,
      0,
      42,
      0,
      "IMAGE"
    ],
    [
      111,
      35,
      0,
      42,
      1,
      "IMAGE"
    ],
    [
      112,
      42,
      0,
      9,
      0,
      "IMAGE"
    ],
    [
      146,
      2,
      0,
      57,
      0,
      "MIMICPIPE"
    ],
    [
      147,
      28,
      0,
      57,
      1,
      "IMAGE"
    ],
    [
      148,
      9,
      0,
      57,
      2,
      "IMAGE"
    ],
    [
      149,
      57,
      0,
      58,
      1,
      "LATENT"
    ],
    [
      150,
      2,
      0,
      58,
      0,
      "MIMICPIPE"
    ],
    [
      155,
      58,
      0,
      16,
      0,
      "IMAGE"
    ],
    [
      190,
      82,
      0,
      81,
      1,
      "SEGS"
    ],
    [
      191,
      86,
      0,
      81,
      2,
      "BASIC_PIPE"
    ],
    [
      192,
      84,
      0,
      82,
      0,
      "BBOX_DETECTOR"
    ],
    [
      193,
      85,
      0,
      82,
      2,
      "SAM_MODEL"
    ],
    [
      194,
      81,
      0,
      83,
      1,
      "SEGS"
    ],
    [
      195,
      91,
      0,
      86,
      0,
      "MODEL"
    ],
    [
      197,
      88,
      2,
      86,
      2,
      "VAE"
    ],
    [
      198,
      89,
      0,
      86,
      3,
      "CONDITIONING"
    ],
    [
      199,
      90,
      0,
      86,
      4,
      "CONDITIONING"
    ],
    [
      200,
      83,
      0,
      87,
      0,
      "*"
    ],
    [
      203,
      88,
      0,
      91,
      0,
      "MODEL"
    ],
    [
      204,
      92,
      0,
      91,
      1,
      "CONTEXT_OPTIONS"
    ],
    [
      209,
      94,
      0,
      82,
      1,
      "IMAGE"
    ],
    [
      210,
      94,
      0,
      83,
      0,
      "IMAGE"
    ],
    [
      211,
      94,
      0,
      81,
      0,
      "IMAGE"
    ],
    [
      215,
      83,
      0,
      95,
      1,
      "IMAGE"
    ],
    [
      216,
      96,
      0,
      95,
      0,
      "UPSCALE_MODEL"
    ],
    [
      217,
      95,
      0,
      80,
      0,
      "IMAGE"
    ],
    [
      218,
      58,
      0,
      94,
      0,
      "*"
    ],
    [
      219,
      103,
      0,
      5,
      2,
      "INT"
    ],
    [
      225,
      88,
      1,
      109,
      0,
      "CLIP"
    ],
    [
      226,
      109,
      0,
      90,
      0,
      "CLIP"
    ],
    [
      227,
      109,
      0,
      89,
      0,
      "CLIP"
    ],
    [
      228,
      109,
      0,
      86,
      1,
      "CLIP"
    ],
    [
      230,
      58,
      0,
      113,
      0,
      "IMAGE"
    ],
    [
      231,
      112,
      0,
      113,
      1,
      "IMAGE"
    ],
    [
      233,
      113,
      0,
      114,
      0,
      "IMAGE"
    ]
  ],
  "config": {},
  "version": 0.4,
  "last_node_id": 114
}